(this.webpackJsonpeternal=this.webpackJsonpeternal||[]).push([[0],{128:function(e,t,a){"use strict";a.r(t);var n=a(12),o=a(1),r=a(6),c=a(3),i=a(2),s=a(4),d=a(10),l=a.n(d);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={required:!1},p=function e(t){var a=this;Object(o.a)(this,e),this.desc=function(t){return new e(f({},a,{description:t}))},this.aliased=function(t,n){return new e(f({},a,n?{name:t,typeDescription:n,alias:t}:{name:t,alias:t}))},this.meta=function(t){return new e(f({},a,{metadata:t}))},this.isA=function(e){return e.id===a.id},this.isPrimitive=function(){return"primitive"===a.type&&!a.alias},this.isUndescribedPrimitive=function(){return"primitive"===a.type&&!a.typeDescription},this.isComplex=function(){return"complex"===a.type},this.hasHelpInfo=function(){return a.description!==a.typeDescription},this.id=t.id,this.name=t.name,this.schema=t.schema,this.metadata=t.metadata,this.type=t.type,this.defaultValue=t.defaultValue,this.description=t.description,this.parse=t.parse,this.typeDescription=t.typeDescription,this.serialize=t.serialize,this.alias=t.alias},m=function(){function e(t){var a=this;Object(o.a)(this,e),this.parse=function(e){return e},this.validate=function(){var e=a.name,t=a.schema,n=a.type;if(!e)throw new Error("need a name");if(e in h)throw new Error("already exists");if(!n)throw new Error("need a type");if("primitive"===n){if(t)throw new Error("primitives cannot have schemas")}else if("object"!==e&&!t)throw new Error("non primitives need a schema")},this.name=t}return Object(r.a)(e,[{key:"withMetadata",value:function(e){if(this.metadata)throw new Error("you likely don't mean to replace the metadata you are building; use `withMetadataAttr`.");return this.metadata=e,this}},{key:"withMetadataAttr",value:function(e){return this.metadata=f({},this.metadata,{},e),this}},{key:"withParser",value:function(e){return this.parse=e,this}},{key:"withSerializer",value:function(e){return this.serializer=e,this}},{key:"withType",value:function(e){return this.type=e,this}},{key:"withSchema",value:function(e){return this.schema=e,this}},{key:"havingDefault",value:function(e){return this.defaultValue=e,this}},{key:"desc",value:function(e){return this.typeDescription=e,this}},{key:"build",value:function(){this.validate();var e=new p({id:Symbol(),name:this.name,schema:this.schema,metadata:this.metadata||b,type:this.type,defaultValue:this.defaultValue,description:this.description,typeDescription:this.typeDescription,parse:this.parse,serialize:this.serializer});return function(e){h[e.name]=e}(e),e}}]),e}(),h={};window.Types=h;var y=a(0),g=a.n(y),v=function(e){return e},O=new m("number").withType("primitive").desc(g.a.createElement("span",null,"A basic ",g.a.createElement("code",null,"number")," type")).havingDefault(0).withParser((function(e){return"string"===typeof e?parseInt(e):e})).withSerializer(v).build(),P=(new m("string").withType("primitive").desc(g.a.createElement("span",null,"A basic ",g.a.createElement("code",null,"string")," type")).havingDefault("").withParser((function(e){return"object"===typeof e?JSON.stringify(e):String(e)})).withSerializer((function(e){return"object"===typeof e?JSON.stringify(e):String(e)})).build(),new m("boolean").withType("primitive").desc(g.a.createElement("span",null,"A basic ",g.a.createElement("code",null,"boolean")," type")).havingDefault(!1).withParser(Boolean).withSerializer(v).build(),new m("date").withType("primitive").desc(g.a.createElement("span",null,"A basic ",g.a.createElement("code",null,"date")," type")).havingDefault(new Date).withSerializer((function(e){return e instanceof Date?e.toISOString():void 0})).withParser((function(e){return"string"===typeof e?Date.parse(e):e})).build(),new m("any").withType("primitive").desc("This can be anything").havingDefault(void 0).build(),new m("time").withType("primitive").desc(g.a.createElement(g.a.Fragment,null,g.a.createElement("div",null,"Time can be described in a number of ways:"),g.a.createElement("ul",null,g.a.createElement("li",null,"Numbers, which will be taken literally as the time (in seconds)."),g.a.createElement("li",null,'Notation, ("4n", "8t") describes time in BPM and time signature relative values.'),g.a.createElement("li",null,'TransportTime, ("4:3:2") will also provide tempo and time signature relative times in the form BARS:QUARTERS:SIXTEENTHS.'),g.a.createElement("li",null,'Frequency, ("8hz") is converted to the length of the cycle in seconds.'),g.a.createElement("li",null,'Now-Relative, ("+1") prefix any of the above with "+" and it will be interpreted as "the current time plus whatever expression follows".'),g.a.createElement("li",null,'Expressions, ("3:0 + 2 - (1m / 7)") any of the above can also be combined into a mathematical expression which will be evaluated to compute the desired time.'),g.a.createElement("li",null,'No Argument, for methods which accept time, no argument will be interpreted as "now" (i.e. the currentTime).')))).withSerializer(v).havingDefault(0).build(),new m("object").withType("complex").desc("An object with arbitrary keys and values").havingDefault(void 0).withParser((function(e){return"string"===typeof e?JSON.parse(e):e})).build(),new m("Vec2").withSchema({x:O,y:O}).withType("complex").desc(g.a.createElement("span",null,"A 2D Vector with keys ",g.a.createElement("code",null,"x")," and ",g.a.createElement("code",null,"y"))).havingDefault({x:0,y:0}).withSerializer((function(e){if("object"===typeof e&&"number"===typeof parseInt(e.x)&&"number"===typeof parseInt(e.y))return JSON.stringify({x:e.x,y:e.y})})).withParser((function(e){return"string"===typeof e?JSON.parse(e):e})).build(),new m("Vec3").withSchema({x:O,y:O,z:O}).withType("complex").desc(g.a.createElement("span",null,"A 3D Vector with keys ",g.a.createElement("code",null,"x"),", ",g.a.createElement("code",null,"y"),", and ",g.a.createElement("code",null,"z"))).havingDefault({x:0,y:0,z:0}).withSerializer((function(e){if("object"===typeof e&&"number"===typeof parseInt(e.x)&&"number"===typeof parseInt(e.y)&&"number"===typeof parseInt(e.z))return JSON.stringify({x:e.x,y:e.y,z:e.z})})).withParser((function(e){return"string"===typeof e?JSON.parse(e):e})).build(),a(7)),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e.length>t?e.substring(0,t)+"...":e};function I(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var w=function(){function e(t,a,r,c,i){var s=this;Object(o.a)(this,e),this._notifyCount=0,this.notifyListener=null,this.outDataFor=function(e){return Object(n.a)({},s.toPort,e[s.fromPort])},this.inDataFor=function(e){return e[s.toPort]},this.notify=function(){s._notifyCount+=1,s.notifyListener&&s.notifyListener()},this.serialize=function(){return{id:s.id,fromId:s.from.id,fromPort:s.fromPort,toId:s.to.id,toPort:s.toPort}},this.id=i||I(),this.from=t,this.to=a,this.fromPort=r,this.toPort=c}return Object(r.a)(e,null,[{key:"load",value:function(t,a){var n=a.find((function(e){return e.id===t.fromId})),o=a.find((function(e){return e.id===t.toId}));if(!n||!o)throw new Error("could not load graph");return new e(n,o,t.fromPort,t.toPort,t.id)}}]),e}(),x=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},E=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},_={left:{x:1,y:0},right:{x:-1,y:0},up:{x:0,y:1},down:{x:0,y:-1}},N=function(e){return _[e]},S=function(e,t){return{x:e.x*t,y:e.y*t}},k={x:0,y:0},C=51,T=22,A=0,D=198;function R(e,t,a){return{x:e+D,y:t+C+a*T}}var M=function(e,t){var a=window.centerP||{x:window.innerWidth/2,y:window.innerHeight/2};return x(a,S(E(e,a),t))},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.inKeys().join(", "),o=e.outKeys().join(", ");return t&&(n.length>t-3&&(n=n.substring(0,t)+"..."),o.length>t-3&&(o=o.substring(0,t)+"...")),g.a.createElement("div",{style:a},"(".concat(n,")")," ",g.a.createElement("span",{style:{color:"rgba(200, 200, 200, 0.5)"}},"\u279c")," ","(".concat(o,")"))};function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F=function(){function e(t,a,r,c){var i=this;Object(o.a)(this,e),this.inputs=[],this.outputs=[],this.outputCache={},this.live=!1,this.isLoading=!1,this.listeners={},this._unPushed=[],this._connectedInKeys=[],this._connectedOutKeys=[],this.process=function(e){throw new Error("unimplemented")},this._process=function(e,t){if(!i.outKeys().length)return{};var a=i.process(e),n=t?a:Object(P.omitBy)(a,(function(e,t){return Object(P.isEqual)(e,i.outputCache[t])}));return i.outputCache=z({},i.outputCache,{},a),n},this.onAddToGraph=function(){},this.willBecomeLive=function(){},this.willBeRemoved=function(){},this.beforeConnectOut=function(e){},this.afterConnectOut=function(e){},this.beforeConnectIn=function(e){},this.afterConnectIn=function(e){},this.beforeDisconnectOut=function(e){},this.afterDisconnectOut=function(e){},this.beforeDisconnectIn=function(e){},this.afterDisconnectIn=function(e){},this.requireForOutput=function(){return!0},this.setLoadStateListener=function(e){i._loadStateListener=e},this.setLoading=function(e){i.isLoading=e,i._loadStateListener&&i._loadStateListener(e)},this.addInput=function(e){if(i.beforeConnectIn(e),i.inputs.push(e),i._connectedInKeys=Object(P.uniq)(i.inputs.map((function(e){return e.toPort}))),e.from.requireForOutput()&&e.from.outKeys().length){var t=e.from.process([e.toPort]);i._onInputChange(e,e.outDataFor(t),!0)}else i._unPushed.push(e.id);i._notifyLive(e),i.afterConnectIn(e)},this._notifyLive=function(e){if(!i.live){var t=i.constructor.inKeys(),a=i.inputs.map((function(e){return e.toPort})).concat(e.toPort);t.every((function(e){return a.includes(e)}))&&(i.willBecomeLive(),i.live=!0)}},this.forAllConnectedInputs=function(e){return Object(P.uniq)(i.inputs.map((function(e){return e.toPort}))).map((function(t){return e(t,i.props&&i.props[t])}))},this.addOutput=function(e){i.beforeConnectOut(e),i.outputs.push(e),i._connectedOutKeys=Object(P.uniq)(i.outputs.map((function(e){return e.fromPort}))),i.afterConnectOut(e)},this.removeInput=function(e,t){i.beforeDisconnectIn(e),i.inputs=i.inputs.filter((function(t){return e.id!==t.id})),i._connectedInKeys=Object(P.uniq)(i.inputs.map((function(e){return e.toPort}))),i.afterDisconnectIn(e),t&&t()},this.firstInput=function(e){var t=i.inputs.find((function(t){return t.toPort===e}));return t?t.from:null},this.removeOutput=function(e,t){i.beforeDisconnectOut(e),i.outputs=i.outputs.filter((function(t){return e.id!==t.id})),i._connectedOutKeys=Object(P.uniq)(i.outputs.map((function(e){return e.fromPort}))),i.afterDisconnectOut(e),t&&t()},this.registerListener=function(e){var t=I();return i.listeners[t]=e,t},this.removeListener=function(e){return delete i.listeners[e]},this.onInputChange=function(e,t){return[]},this._onInputChange=function(e,t,a){var n=z({},i.props);i.props=i.props||{},t&&Object.keys(t).forEach((function(e){return i.props[e]=t[e]}));var o=a;i._unPushed.includes(e.id)&&(i._unPushed=i._unPushed.filter((function(t){return t!==e.id})),o=!0),i.willReceiveProps(i.props,n,!1),i.notifyOutputs(i.onInputChange(e,t),o)},this.willReceiveProps=function(e,t,a){},this.notifyOutputs=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i.requireForOutput()){var a=Array.isArray(e)?e:[e];Promise.resolve(i._process(a,t)).then((function(e){var n=Object(P.pick)(e,a);for(var o in i.listeners)i.listeners[o](i);i.outputs.filter((function(e){return e.from.id===i.id&&e.fromPort in n})).forEach((function(e){e.to._onInputChange(e,e.outDataFor(n),t),e.notify()}))}))}},this.notifyAllOutputs=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i.notifyOutputs(i.outKeys(),e)},this.inKeys=function(){return i.constructor.inKeys()},this.inKeyAt=function(e){return i.inKeys()[e]},this.outKeys=function(){return i.constructor.outKeys()},this.outKeyAt=function(e){return i.outKeys()[e]},this.connectedInputKeys=function(){return i._connectedInKeys},this.connectedOutputKeys=function(){return i._connectedOutKeys},this.name=function(){var t;if(i.title)return i.title;if(t=i.constructor.isPrimitive&&1===Object(P.uniq)(i.outputs.map((function(e){return e.toPort}))).length?i.outputs[0].toPort:e.nameFrom(i.constructor),window.$debug){var a=i.state.value,n=a||!1===a||0===a;return i.constructor.isPrimitive&&n?String(a):t}return t},this.setTitle=function(e){i.title=e},this.changeables=function(){var e=i.changeableProps(),t=i.changeableState(),a=i.otherChangeables(),n=i.displayableOutputs();return z({},e.length&&{Inputs:e},{},t.length&&{Internals:t},{},a.length&&{Other:a},{},n.length&&{Outputs:n})},this.displayableOutputs=function(){var e=i.constructor.schema.output;return Object.keys(e).map((function(t){return{title:t,type:e[t],value:Object(P.get)(i.outputCache,t)}}))},this.changeableState=function(){var e=i.constructor.schema.state;return Object.keys(e).map((function(t){return{title:t,type:e[t],value:Object(P.get)(i.state,t),onChange:function(e){i.state?i.state[t]=e:i.state=Object(n.a)({},t,e),i.notifyAllOutputs()}}}))},this.changeableProps=function(){var e=i.constructor.schema.input;return Object.keys(e).map((function(t){return{title:t,type:e[t],value:Object(P.get)(i.props,t),onChange:function(e){var a=i.props?Object(P.cloneDeep)(i.props):{};i.props?i.props[t]=e:i.props=Object(n.a)({},t,e),i.willReceiveProps(i.props,a,!0),i.notifyAllOutputs()}}}))},this.otherChangeables=function(){return[]},this.pushToState=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=i.state[e];if(!o)return[];var r=Object.keys(t),c=a.length>0?r.filter((function(e){return!a.includes(e)})):r;return 0===c.length?[]:(c.forEach((function(e){var a=void 0!==t[e];e in o&&a&&("function"===typeof o.set?o.set(e,t[e]):Object(P.set)(o,n||e,t[e]))})),c)},this.domId=function(){return"n-root-".concat(i.id)},this.domNode=function(){return document.getElementById(i.domId())},this.signature=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return L(i.constructor,e,t)},this.serialize=function(e,t){var a=i.constructor.schema.state,n=Object(P.fromPairs)(Object.keys(i.state).map((function(e){var t=Object(P.get)(a,e);if(t&&t.serialize)try{var n=t.serialize(i.state[e]);if(void 0!==n)return[e,n]}catch(o){console.error("error parsing",i.state[e],t.name,o)}return null})).filter((function(e){return e}))),o=i.constructor.getRegistryName();return{id:i.id,type:o,x:e,y:t,state:n,title:i.title}},this.id=r||I(),this.title=c,this.state=z({},this.constructor.initializeState(),{},this.constructor.defaultState,{},t),this.constructor.defaultProps?this.props=z({},this.constructor.defaultProps,{},a):this.props=a||{}}return Object(r.a)(e,null,[{key:"nameFrom",value:function(e){return e.displayName||Object(P.startCase)(e.name.replace(/node/i,""))}},{key:"getRegistryName",value:function(){return this.registryName||this.name}},{key:"duplicate",value:function(t){var a=t.serialize(0,0);return a.id="",e.load(a)}},{key:"inKeys",value:function(){return this._inKeys?this._inKeys:(this._inKeys=Object.keys(this.schema.input),this._inKeys)}},{key:"inKeyIndex",value:function(e){return this._inKeyIdxMap?this._inKeyIdxMap[e]:(this._inKeyIdxMap=Object(P.fromPairs)(this.inKeys().map((function(e,t){return[e,t]}))),this._inKeyIdxMap[e])}},{key:"outKeys",value:function(){return this._outKeys?this._outKeys:(this._outKeys=Object.keys(this.schema.output),this._outKeys)}},{key:"outKeyIndex",value:function(e){return this._outKeyIdxMap?this._outKeyIdxMap[e]:(this._outKeyIdxMap=Object(P.fromPairs)(this.outKeys().map((function(e,t){return[e,t]}))),this._outKeyIdxMap[e])}},{key:"displayInKeys",value:function(){var e=this;return this._displayInKeys?this._displayInKeys:(this._displayInKeys=Object.keys(this.schema.input).map((function(t){return e.shortNames[t]?e.shortNames[t]:t})),this._displayInKeys)}},{key:"displayOutKeys",value:function(){var e=this;return this._displayOutKeys?this._displayOutKeys:(this._displayOutKeys=Object.keys(this.schema.output).map((function(t){return e.shortNames[t]?e.shortNames[t]:t})),this._displayOutKeys)}},{key:"initializeState",value:function(){var e=this,t={};return Object.keys(this.schema.state).forEach((function(a){t[a]=e.schema.state[a].defaultValue})),t}},{key:"load",value:function(e){var t=window.NodeRegistry[e.type];try{var a=Object(P.get)(e,"title");return new t(e.state,{},e.id,a)}catch(n){throw console.error("cannot load node",e.type),n}}}]),e}();F.isPrimitive=!1,F.schema={input:{},output:{},state:{}},F.shortNames={};var G=function(e){return window.Types.object.aliased("".concat(e.name,"[]"),g.a.createElement("div",null,g.a.createElement("p",null,"An array of ",e.name,"s. "),g.a.createElement("p",null,e.typeDescription)))},V=a(111).Piano,B=window.Types,q="",U={AudioNode:B.object.aliased("AudioNode","Any kind of audio node"),Config:B.object.aliased("Config"),Synth:B.object.aliased("Synth","Any kind of synth"),Signal:B.object.aliased("Signal","An audio signal, like volume, pan, frequency, etc."),Panner:B.object.aliased("Panner","An audio pan"),Gain:B.object.aliased("Gain","An audio gain"),FeedbackDelay:B.object.aliased("FeedbackDelay","A feedback delay"),Note:B.string.aliased("Note","Note encoding, can be something like A4, a midi index, or a raw frequency in Hz"),Call:B.any.aliased("Call","Something that is callable").desc("Certain nodes are designated 'callable', i.e. they are operator nodes. Sending a truthy call signal will invoke that node's handler over its parameters")},W=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return{node:l.a.context.destination}},a}return Object(s.a)(t,e),t}(F);W.displayName="Context Destination",W.registryName="ContextDestinationNode",W.description=g.a.createElement("span",null,"The current context destination"),W.schema={input:{},output:{node:U.AudioNode.desc("The current context destination node")},state:{}};var H=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).willBecomeLive=function(){var e=a.props,t=e.from,n=e.to;me(t,n),t.connect(n)},a.beforeDisconnectIn=function(e){var t=e.toPort;if("from"===t||"to"===t){var n=a.props,o=n.from,r=n.to;o&&r&&o.disconnect(r)}},a.process=function(){return a.props},a}return Object(s.a)(t,e),t}(F);H.displayName="Connect",H.registryName="ConnectNode",H.description=g.a.createElement("span",null,"Connect one audio node to another"),H.schema={input:{from:U.AudioNode.desc("Connect from any audio node"),to:U.AudioNode.desc("Connect to any audio node")},output:{from:U.AudioNode.desc("The same node, connected"),to:U.AudioNode.desc("The same node, connected")},state:{}};var J=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._connectedTo="",a.onInputChange=function(e,t){return"node"===e.toPort&&a._connectedTo!==e.id?(e.inDataFor(t).toMaster(),a.outKeys()):[]},a.beforeDisconnectIn=function(e){if("node"===e.toPort){var t=a.props.node;t&&t.disconnect()}},a.process=function(){return{out:a.props.node}},a}return Object(s.a)(t,e),t}(F);J.displayName="Audio Master",J.registryName="AudioMasterNode",J.description=g.a.createElement("span",null,"Connect an audio node to the master audio output"),J.schema={input:{node:U.AudioNode.desc("Any Audio node to connect to the audio master output")},output:{out:U.AudioNode.desc("The same node, connected to the master output")},state:{}};var Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._connectedTo="",a.onInputChange=function(e,t){return"node"===e.toPort&&a._connectedTo!==e.id?(l.a.connect(e.inDataFor(t),l.a.context.destination),a.outKeys()):[]},a.beforeDisconnectIn=function(e){if("node"===e.toPort){var t=a.props.node;t&&t.disconnect()}},a.process=function(){return{out:a.props.node}},a}return Object(s.a)(t,e),t}(F);Y.displayName="To Context Dest.",Y.registryName="ToContextDestinationNode",Y.description=g.a.createElement("span",null,"Connect an audio node to audio context destination"),Y.schema={input:{node:U.AudioNode.desc("Any Audio node to connect to the context destination")},output:{out:U.AudioNode.desc("The same node, connected to the context destination")},state:{}};var X=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onAddToGraph=function(){a.state.panner=new l.a.Panner(0)},a.willReceiveProps=function(e,t){t&&e.pan===t.pan||a.pushToState("panner",{pan:e.pan},[],["pan","value"])},a.onInputChange=function(e,t){if("node"===e.toPort&&a.state._connectedTo!==e.id){var n=e.inDataFor(t);return me(n,a.state.panner),l.a.connect(n,a.state.panner),a.outKeys()}return[]},a.beforeDisconnectIn=function(e){if("node"===e.toPort){var t=a.props.node;t&&t.disconnect()}},a.process=function(){return{out:a.state.panner,node:a.props.node}},a}return Object(s.a)(t,e),t}(F);X.displayName="Audio Panner",X.registryName="PannerNode",X.description=g.a.createElement("span",null,"An equal power Left/Right stereo Panner"),X.schema={input:{node:U.AudioNode.desc("The audio node to connect to this panner."),pan:B.number.desc("The pan control. -1 = hard left, 1 = hard right")},output:{out:U.Panner.desc("A node panned to the `pan` value"),node:U.AudioNode.desc("The node that was passed in, connected to the panner")},state:{panner:U.Config.desc("The panner config")}};var Q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).onAddToGraph=function(){a.state.volume=new l.a.Volume},a.willReceiveProps=function(e,t){["volume"].forEach((function(o){t&&e[o]===t[o]||a.pushToState("volume",Object(n.a)({},o,e[o]),[],[o,"value"])}))},a.onInputChange=function(e,t){return"node"===e.toPort&&a.state._connectedTo!==e.id?(me(e.inDataFor(t),a.state.volume),l.a.connect(e.inDataFor(t),a.state.volume),a.outKeys()):[]},a.beforeDisconnectIn=function(e){if("node"===e.toPort){var t=a.props.node;t&&t.disconnect()}},a.process=function(){return{out:a.state.volume,node:a.props.node}},a}return Object(s.a)(t,e),t}(F);Q.displayName="Audio Volume",Q.registryName="VolumeNode",Q.description=g.a.createElement("span",null,"A simple volume node, useful for creating a volume fader."),Q.schema={input:{node:U.AudioNode.desc("The audio node to connect to this Volume node."),volume:B.number.desc("The volume, in decibels")},output:{out:B.object.aliased("Volume").desc("The volume node"),node:U.AudioNode.desc("The node that was passed in, connected to this volume node")},state:{volume:U.Config.desc("The volume node")}},Q.defaultProps={volume:0};var $=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).onAddToGraph=function(){a.state.compressor=new l.a.Compressor},a.willReceiveProps=function(e,t){["threshold","ratio"].forEach((function(o){t&&e[o]===t[o]||a.pushToState("compressor",Object(n.a)({},o,e[o]),[],[o,"value"])}))},a.onInputChange=function(e,t){return"node"===e.toPort?(me(e.inDataFor(t),a.state.compressor),l.a.connect(e.inDataFor(t),a.state.compressor),a.outKeys()):[]},a.beforeDisconnectIn=function(e){if("node"===e.toPort){var t=a.props.node;t&&t.disconnect()}},a.process=function(){return{out:a.state.compressor,node:a.props.node}},a}return Object(s.a)(t,e),t}(F);$.displayName="Audio Compressor",$.registryName="CompressorNode",$.description=g.a.createElement("span",null,'A node which compresses signals from its origin. Compression reduces the volume of loud sounds or amplifies quiet sounds by narrowing or "compressing" an audio signal\'s dynamic range.'),$.schema={input:{node:U.AudioNode.desc("The audio node to connect to this compressor."),threshold:B.number.desc("The value above which the compression starts to be applied."),ratio:B.number.desc("The gain reduction ratio")},output:{out:B.object.aliased("Compressor").desc("The compressor node"),node:U.AudioNode.desc("The node that was passed in, connected to the compressor")},state:{compressor:U.Config.desc("The compressor")}};var Z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).onAddToGraph=function(){a.state.reverb=new l.a.Freeverb},a.willReceiveProps=function(e,t){["dampening","roomSize"].forEach((function(o){t&&e[o]===t[o]||a.pushToState("reverb",Object(n.a)({},o,e[o]),[],[o,"value"])}))},a.onInputChange=function(e,t){return"node"===e.toPort&&a.state._connectedTo!==e.id?(me(e.inDataFor(t),a.state.reverb),l.a.connect(e.inDataFor(t),a.state.reverb),a.outKeys()):[]},a.beforeDisconnectIn=function(e){if("node"===e.toPort){var t=a.props.node;t&&t.disconnect()}},a.process=function(){return{out:a.state.reverb,node:a.props.node}},a}return Object(s.a)(t,e),t}(F);Z.displayName="Reverb",Z.registryName="ReverbNode",Z.defaultState={_connectedTo:null},Z.description=g.a.createElement("span",null,"A ",g.a.createElement("code",null,"Reverb")," based on Freeverb (https://ccrma.stanford.edu/~jos/pasp/Freeverb.html)."),Z.schema={input:{node:U.AudioNode.desc("The audio node to connect to this reverb node"),dampening:B.time.desc("The amount of dampening of the reverberant signal"),roomSize:B.number.desc("The roomSize value between [0,1]. A larger roomSize will result in a longer decay")},output:{out:B.object.aliased("Reverb").desc("The resulting Reverb Node"),node:U.AudioNode.desc("The node that was passed in, connected to the reverb")},state:{}};var ee=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).onAddToGraph=function(){a.state.feedbackDelay=new l.a.FeedbackDelay("16n",.2)},a.willReceiveProps=function(e,t){["delayTime","feedback"].forEach((function(o){t&&e[o]===t[o]||a.pushToState("feedbackDelay",Object(n.a)({},o,e[o]),[],[o,"value"])}))},a.onInputChange=function(e,t){return"node"===e.toPort&&a.state._connectedTo!==e.id?(me(e.inDataFor(t),a.state.feedbackDelay),l.a.connect(e.inDataFor(t),a.state.feedbackDelay),a.outKeys()):[]},a.beforeDisconnectIn=function(e){if("node"===e.toPort){var t=a.props.node;t&&t.disconnect()}},a.process=function(){return{out:a.state.feedbackDelay,node:a.props.node}},a}return Object(s.a)(t,e),t}(F);ee.displayName="Feedback Delay",ee.registryName="FeedbackDelayNode",ee.defaultState={_connectedTo:null},ee.description=g.a.createElement("span",null,"A ",g.a.createElement("code",null,"DelayNode")," in which part of output signal is fed back into the delay"),ee.schema={input:{node:U.AudioNode.desc("The audio node to connect to this feedback delay"),delayTime:B.time.desc("The delay applied to the incoming signal"),feedback:B.number.desc("feedback The amount of the effected signal which is fed back through the delay.")},output:{out:U.FeedbackDelay.desc("The resulting FeedbackDelayNode"),node:U.AudioNode.desc("The node that was passed in, connected to the feedback delay")},state:{}};var te=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onAddToGraph=function(){a.state.delay=l.a.context.createDelay(6)},a.willReceiveProps=function(e,t){t&&e.delayTime===t.delayTime||a.pushToState("delay",{delayTime:e.delayTime},[],["delayTime","value"])},a.onInputChange=function(e,t){return"node"===e.toPort&&a.state._connectedTo!==e.id?(me(e.inDataFor(t),a.state.delay),l.a.connect(e.inDataFor(t),a.state.delay),a.outKeys()):[]},a.beforeDisconnectIn=function(e){if("node"===e.toPort){var t=a.props.node;t&&t.disconnect()}},a.process=function(){return{out:a.state.delay,node:a.props.node}},a}return Object(s.a)(t,e),t}(F);te.displayName="Audio Delay",te.registryName="AudioDelayNode",te.defaultState={_connectedTo:null},te.description=g.a.createElement("span",null,"A node which is used to delay the incoming audio signal by a certain amount of time"),te.schema={input:{node:U.AudioNode.desc("The audio node to connect to this feedback delay"),delayTime:B.number.desc("An a-rate AudioParam representing the amount of delay to apply")},output:{out:U.AudioNode.desc("The resulting DelayNode"),node:U.AudioNode.desc("The node that was passed in, connected to the delay")},state:{delay:U.AudioNode.desc("The delay node")}};var ae=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onAddToGraph=function(){a.state.gain=l.a.context.createGain()},a.willReceiveProps=function(e,t){t&&e.gain===t.gain||a.pushToState("gain",{gain:e.gain},[],["gain","value"])},a.onInputChange=function(e,t){return"node"===e.toPort&&a.state._connectedTo!==e.id?(me(e.inDataFor(t),a.state.gain),l.a.connect(e.inDataFor(t),a.state.gain),a.outKeys()):[]},a.beforeDisconnectIn=function(e){if("node"===e.toPort){var t=a.props.node;t&&t.disconnect()}},a.process=function(){return{gain:a.state.gain,node:a.props.node}},a}return Object(s.a)(t,e),t}(F);ae.displayName="Audio Gain",ae.registryName="AudioGainNode",ae.defaultState={_connectedTo:null},ae.description=g.a.createElement("span",null,"The GainNode interface represents a change in volume. It is an AudioNode audio-processing module that causes a given gain to be applied to the input data before its propagation to the output"),ae.schema={input:{node:U.AudioNode.desc("The audio node to connect to this feedback delay"),gain:B.number.desc("An a-rate AudioParam representing the amount of gain to apply")},output:{gain:U.Gain.desc("The resulting GainNode"),node:U.AudioNode.desc("The node that was passed in, connected to the gain")},state:{gain:U.Gain.desc("The gain node")}};var ne=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onInputChange=function(e,t){if("call"===e.toPort&&e.inDataFor(t)){var n=a.props,o=n.synth,r=n.note,c=n.duration,i=n.time;if(o&&r&&c){if(!i)return o.triggerAttackRelease(r,c),a.outKeys();o.triggerAttackRelease(r,c,i),l.a.Draw.schedule((function(){a.notifyAllOutputs()}),i)}else if(o&&r){if(!i)return o.triggerAttack(r),a.outKeys();o.triggerAttack(r,i),l.a.Draw.schedule((function(){a.notifyAllOutputs()}),i)}}return[]},a.process=function(){return{draw:a.props}},a}return Object(s.a)(t,e),t}(F);ne.displayName="Attack-Release",ne.registryName="AttackReleaseNode",ne.description=g.a.createElement("span",null,"Trigger the attack and then the release after the duration. Omitting a duration and calling"," ",g.a.createElement("code",null,"call")," results in an attack without release."),ne.schema={input:{synth:U.Synth.desc("The synth to use"),note:U.Note.desc("The frequency to play"),duration:B.time.desc("The duration to play the note for"),time:B.time.desc("When the note should be triggered"),call:U.Call},output:{draw:B.object.desc("An note / duration object that is signalled when this node triggers its attack")},state:{}};var oe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._loaded="",a._player=new l.a.Player,a._makePlayer=function(e){a.setLoading(!0),e.startsWith("/")&&(e=q+e),a._player=new l.a.Player(e,(function(){a.notifyAllOutputs(!0),a.setLoading(!1),a._loaded=e,a._checkStarted()})),a._player.autostart=!1,a._setPlayerAttrs()},a._setPlayerAttrs=function(){["loop"].forEach((function(e){return a._player[e]=Object(P.get)(a.props,e)}))},a._checkStarted=function(){a.props.call&&a._loaded&&"started"!==a._player.state&&a._player.start()},a.willReceiveProps=function(e,t){!e.url||t&&e.url===t.url||a._loaded!==e.url&&a._makePlayer(e.url),a._checkStarted(),a._setPlayerAttrs()},a.onInputChange=function(e,t){return a.outKeys()},a.process=function(){return{player:a._player}},a}return Object(s.a)(t,e),t}(F);oe.displayName="Remote Player",oe.registryName="PlayerNode",oe.description=g.a.createElement("span",null,"Play a sound file from a remote source"),oe.schema={input:{url:B.string.aliased("url").desc("the url to fetch the sound file from."),call:U.Call,loop:B.boolean.desc("Whether or not the player should loop its contents indefinitely")},output:{player:B.object.aliased("Player").desc("The player node")},state:{}};var re=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onInputChange=function(e,t){if("call"===e.toPort&&e.inDataFor(t)){var n=a.props,o=n.synth,r=n.note,c=n.time;o&&r&&(o.setNote?o.setNote(r,c||void 0):o.voices&&o.voices.forEach((function(e){return e.setNote(r,c||void 0)})),c&&l.a.Draw.schedule(a.notifyAllOutputs,c))}return[]},a.process=function(){return null},a}return Object(s.a)(t,e),t}(F);re.displayName="Set Note",re.registryName="SetNoteNode",re.description=g.a.createElement("span",null,"Set the note for a Synth"),re.schema={input:{synth:U.Synth.desc("The synth to use"),note:U.Note.desc("The frequency to set on the synth"),time:B.time.desc("Time which the note should be set on the synth"),call:U.Call},output:{},state:{}};var ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._deferStart=!1,a.onAddToGraph=function(){l.a.Transport.on("start",a._manageLoop)},a._manageLoop=function(){a._deferStart&&(a._deferStart=!1,a._ramp())},a._ramp=function(){var e=a.props,t=e.signal,n=e.toValue,o=e.rampTime;t&&void 0!==n&&o&&("started"===l.a.Transport.state?t.linearRampTo(n,o):a._deferStart=!0)},a.onInputChange=function(e,t){return a._ramp(),[]},a}return Object(s.a)(t,e),t}(F);ce.displayName="Signal Ramp",ce.registryName="SignalRampNode",ce.description=g.a.createElement("span",null,"Ramp a signal to a value over a time"),ce.schema={input:{signal:U.Signal.desc("The signal to ramp"),toValue:B.time.desc("The value to ramp to"),rampTime:B.time.desc("The amount of time it takes to ramp")},output:{},state:{}};var ie=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._out={},a.onAddToGraph=function(){a.pattern=new l.a.Pattern((function(e,t){a._out={note:t,time:e},a.notifyOutputs(a.outKeys(),!0)}),a.props.notes),l.a.Transport.on("start",a._manageLoop)},a._manageLoop=function(){"started"!==a.pattern.state&&"started"===l.a.Transport.state&&a.pattern.start()},a.willReceiveProps=function(e){["humanize","interval","pattern","probability"].forEach((function(t){a.pattern[t]=e[t]})),e.notes&&(a.pattern.values=e.notes)},a.onInputChange=function(){return a._manageLoop(),a.outKeys()},a.process=function(){return a._out},a}return Object(s.a)(t,e),t}(F);ie.displayName="Arpeggiate",ie.registryName="ArpeggiateNode",ie.defaultProps={interval:"1m",pattern:"upDown",notes:[],humanize:!1},ie.description=g.a.createElement("span",null,"Arpeggiate between the given notes in a number of patterns"),ie.schema={input:{notes:G(U.Note).desc("Notes to arpeggiate over"),interval:B.time.desc("The interval at which this node loops"),pattern:B.string.aliased("Pattern",g.a.createElement("div",null,g.a.createElement("p",null,"Arpeggio pattern. Possible values are"),g.a.createElement("ul",null,g.a.createElement("li",null,g.a.createElement("code",null,"up")," - cycles upward"),g.a.createElement("li",null,g.a.createElement("code",null,"down")," - cycles downward"),g.a.createElement("li",null,g.a.createElement("code",null,"upDown")," - up then and down"),g.a.createElement("li",null,g.a.createElement("code",null,"downUp")," - cycles down then and up"),g.a.createElement("li",null,g.a.createElement("code",null,"alternateUp")," - jump up two and down one"),g.a.createElement("li",null,g.a.createElement("code",null,"alternateDown")," - jump down two and up one"),g.a.createElement("li",null,g.a.createElement("code",null,"random")," - randomly select an index"),g.a.createElement("li",null,g.a.createElement("code",null,"randomWalk")," - randomly moves one index away from the current position"),g.a.createElement("li",null,g.a.createElement("code",null,"randomOnce")," - randomly select an index without repeating until all values have been chosen.")))).desc("The arpeggiation pattern. See the `Pattern` type for options."),humanize:B.boolean.desc("Random variation +/-0.01s to the scheduled time. Or give it a time value which it will randomize by"),probability:B.number.desc("probability that each iteration will play, [0,1]")},output:{note:U.Note.desc("The note"),time:B.time.desc("Time accompanying the note")},state:{}};var se=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).count=0,a.onAddToGraph=function(){a.loop=new l.a.Loop((function(){a.count+=1,a.notifyOutputs(a.outKeys(),!0)}),a.props.interval),l.a.Transport.on("start",a._manageLoop)},a._recreateLoop=function(){a.loop&&a.loop.dispose(),a.count=0,a.loop=new l.a.Loop((function(){a.count+=1,a.notifyOutputs(a.outKeys(),!0)}),a.props.interval)},a._manageLoop=function(){a.props.interval&&"started"!==a.loop.state&&"started"===l.a.Transport.state&&a.loop.start()},a.requireForOutput=function(){return"undefined"!==typeof a.props.interval},a.onInputChange=function(e,t){return["humanize","loop","iterations","playbackRate"].includes(e.toPort)?(a._recreateLoop(),a.loop[e.toPort]=e.inDataFor(t),a._manageLoop(),a.outKeys()):"interval"===e.toPort?(a._recreateLoop(),a._manageLoop(),a.outKeys()):[]},a.process=function(){return{i:a.count}},a}return Object(s.a)(t,e),t}(F);se.displayName="Time Loop",se.registryName="TimeLoopNode",se.defaultProps={playbackRate:1,iterations:1/0,mute:!1,humanize:!1},se.description=g.a.createElement("span",null,"Set the note for a Synth"),se.schema={input:{interval:B.time.desc("The interval at which this node loops"),playbackRate:B.number.desc("The playback rate of the loop. The normal playback rate is 1 (no change). A playbackRate of 2 would be twice as fast"),iterations:B.number.desc("The number of iterations of the loop. The default value is Infinity (loop eternally)"),mute:B.boolean.desc("Muting the Loop means that no callbacks are invoked"),humanize:B.boolean.desc("Random variation +/-0.01s to the scheduled time. Or give it a time value which it will randomize by")},output:{i:B.number.desc("The number of times this node has looped so far.")},state:{}};var de=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).onAddToGraph=function(){a.state.value=t.defaultSynth()},a._recreateSynth=function(){a.state.value&&a.state.value.dispose(),a.state.value=new l.a.Synth({oscillator:{type:a.props.oscillator},envelope:a.props.envelope})},a.willBecomeLive=function(){a._recreateSynth()},a.willReceiveProps=function(e,o,r){r&&t.fwdSignals.forEach((function(t){o&&e[t]===o[t]||a.pushToState("value",Object(n.a)({},t,e[t]),[],[t,"value"])}))},a.onInputChange=function(e,n){return t.fwdSignals.includes(e.toPort)?a.pushToState("value",n,[],[e.toPort,"value"])?a.outKeys():[]:(["envelope","oscillator"].includes(e.toPort)&&a.props.envelope&&a.props.oscillator&&a._recreateSynth(),[])},a.process=function(){return{out:a.state.value}},a}return Object(s.a)(t,e),Object(r.a)(t,null,[{key:"defaultSynth",value:function(){return new l.a.Synth({oscillator:{type:"sawtooth"},envelope:t.defaultEnv})}}]),t}(F);de.fwdSignals=["frequency","volume"],de.displayName="Synth",de.registryName="SynthNode",de.defaultEnv={},de.defaultProps={volume:0,envelope:de.defaultEnv},de.description=g.a.createElement("span",null,"A Synth is composed by routing an OmniOscillator through a AmplitudeEnvelope."),de.schema={input:{volume:B.number.desc("The volume of the output in decibels"),oscillator:B.string.aliased("OscillatorType",g.a.createElement("div",null,"The type of the oscillator: either sine, square, triangle, or sawtooth. Also capable of setting the first x number of partials of the oscillator. For example:"," ",g.a.createElement("code",null,"sine4")," would set be the first 4 partials of the sine wave and"," ",g.a.createElement("code",null,"triangle8")," would set the first 8 partials of the triangle wave.")).desc("The type of oscillator"),envelope:B.object.aliased("AmplitudeEnvelope",g.a.createElement("div",null,"AmplitudeEnvelope is an Envelope connected to a gain node. Unlike Envelope, which outputs the envelope\u2019s value, AmplitudeEnvelope accepts an audio signal as the input and will apply the envelope to the amplitude of the signal.")).desc("The amplitude envelope for this synth")},output:{out:U.Synth.desc("Resulting Synth")},state:{value:U.Synth.desc("The synth")}};var le=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).onAddToGraph=function(){a.state.value=t.defaultSynth()},a.willReceiveProps=function(e,o,r){r&&t.fwdSignals.forEach((function(t){o&&e[t]===o[t]||a.pushToState("value",Object(n.a)({},t,e[t]),[],[t,"value"])}))},a.onInputChange=function(e,n){return t.fwdSignals.includes(e.toPort)?(a.pushToState("value",n,[],[e.toPort,"value"]),[]):[]},a.process=function(){return{out:a.state.value}},a}return Object(s.a)(t,e),Object(r.a)(t,null,[{key:"defaultSynth",value:function(){var e={attack:1.4,release:4,releaseCurve:"linear",attackCurve:"sine"},t={baseFrequency:200,octaves:2,attack:0,decay:0,release:1e3},a={harmonicity:1,volume:-20,voice0:{oscillator:{type:"sawtooth"},envelope:e,filterEnvelope:t},voice1:{oscillator:{type:"sine"},envelope:e,filterEnvelope:t},vibratoRate:.5,vibratoAmount:.1};return new l.a.DuoSynth(a)}}]),t}(F);le.fwdSignals=["frequency","harmonicity","volume","vibratoAmount","vibratoRate"],le.displayName="DuoSynth",le.registryName="DuoSynthNode",le.description=g.a.createElement("span",null,"A DuoSynth is a monophonic synth composed of two ",g.a.createElement("code",null,"MonoSynths")," run in parallel with control over the frequency ratio between the two voices and vibrato effect."),le.schema={input:{frequency:B.number.desc("The frequency control"),volume:B.number.desc("The volume of the output in decibels"),harmonicity:B.number.desc("Harmonicity is the ratio between the two voices. A harmonicity of 1 is no change. Harmonicity = 2 means a change of an octave."),vibratoAmount:B.number.desc("The amount of vibrato"),vibratoRate:B.number.desc("The frequency of vibrato")},output:{out:U.Synth.desc("Resulting Synth")},state:{value:U.Synth.desc("The synth")}},le.shortNames={vibratoAmount:"vibrato",vibratoRate:"vibratoF",harmonicity:"ratio",frequency:"freq"};var ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).loaded=!1,a.onAddToGraph=function(){a.setLoading(!0),a.piano=new V({velocities:4}),a.piano.load("https://storage.googleapis.com/learnjs-data/Piano/Salamander/").then((function(){a.setLoading(!1),a.loaded=!0}))},a.process=function(){return{out:a.piano}},a}return Object(s.a)(t,e),t}(F);ue.displayName="Piano",ue.registryName="PianoNode",ue.description=g.a.createElement("span",null,"A virtual Salamander grand piano as a Tone Node"),ue.schema={input:{},output:{out:U.AudioNode.desc("A piano node")},state:{}};var fe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._notifyOut=function(){setTimeout((function(){return a.notifyAllOutputs(!0)}))},a.onAddToGraph=function(){l.a.Transport.on("start",a._notifyOut),l.a.Transport.on("stop",a._notifyOut)},a.willReceiveProps=function(e,t,a){a&&(t&&e.bpm===t.bpm||(l.a.Transport.bpm.value=e.bpm))},a.onInputChange=function(e,t){return"bpm"===e.toPort?(l.a.Transport.bpm.value=e.inDataFor(t),a.outKeys()):[]},a.process=function(){return{out:l.a.Transport}},a}return Object(s.a)(t,e),t}(F);fe.displayName="Transport Time",fe.registryName="TransportTimeNode",fe.defaultProps={bpm:120},fe.description=g.a.createElement("span",null,"Transport for timing musical events. Supports tempo curves and time changes. Unlike event-loop timing (IntervalNode), events backed by this scheduler need to specify the exact time of their schedules. ",g.a.createElement("br",null)," ",g.a.createElement("br",null)," It is useful to think of there only being one governing Transport Time for your whole graph, i.e. don't define more than one of these, or if you do, recognize that you are modifying a single global transport time."),fe.schema={input:{bpm:B.number.desc("The tempo to set for this transport. See the docs on the time type to understand how time can be expressed in terms of metered time.")},output:{out:B.object.desc("Resulting transport")},state:{}};var be=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onInputChange=function(e,t){if("transport"===e.toPort){var a=e.inDataFor(t);a&&"started"!==a.state&&setTimeout((function(){return a.start("+1")}),1)}return[]},a._stopTime=function(){var e=a.props.transport;e&&e.stop()},a.beforeDisconnectIn=function(e){"transport"===e.toPort&&a._stopTime()},a.willBeRemoved=function(){a._stopTime()},a.process=function(){return null},a}return Object(s.a)(t,e),t}(F);be.displayName="Start Transport",be.registryName="StartTransportNode",be.description=g.a.createElement("span",null,"Start a transport time. This will put all Transport time schedules into motion"),be.schema={input:{transport:B.object.desc("The Transport Time to start")},output:{},state:{}};var pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._noise=new l.a.Noise("brown"),a.onAddToGraph=function(){l.a.Transport.on("start",a._manageNoise)},a._manageNoise=function(){var e=a.props.volume;"number"===typeof e&&a._noise.volume.value!==e&&(a._noise.volume.value=e),"started"!==a._noise.state&&a._noise.start("+1")},a.process=function(){return{noise:a._noise}},a.onInputChange=function(e,t){var n=e.inDataFor(t);return"type"===e.toPort&&n!==a._noise.type?("started"===a._noise.state&&a._noise.stop(),a._noise.dispose(),a._noise=new l.a.Noise(n),a._manageNoise(),a.outKeys()):"volume"===e.toPort&&n!==a._noise.volume.value?(a._manageNoise(),a.outKeys()):"rate"===e.toPort&&n!==a._noise._playbackRate?("started"===a._noise.state&&a._noise.stop(),a._noise.dispose(),a._noise=new l.a.Noise({type:a.props.type||"brown",playbackRate:n}),a._manageNoise(),a.outKeys()):[]},a}return Object(s.a)(t,e),t}(F);function me(e,t){var a=e.constructor.name||e.__proto__.toString(),n=t.constructor.name||t.__proto__.toString();Object(P.get)(window,"$logConnect")&&console.log("connect",a,n)}pe.displayName="Noise",pe.registryName="NoiseNode",pe.description=g.a.createElement("span",null,"A noise source"),pe.schema={input:{type:B.string.desc("The type of noise. One of pink, brown, or white."),volume:B.number.desc("The volume of the noise, in dB"),rate:B.number.desc("The playback rate of the noise [0, 1]")},output:{noise:U.AudioNode.desc("The noise")},state:{}};var he=a(28),ye=a(130),ge=a.n(ye),ve=a(38),Oe=a.n(ve),Pe=a(49),je=a(18),Ie=(a(192),[1,2,4,8,16,32,64]),we=144,xe=128,Ee=[["note_on",0,127],["note_off",0,127],["time_shift",1,100],["velocity_change",1,32]],_e=function(){var e=0,t=!0,a=!1,n=void 0;try{for(var o,r=Ee[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var c=o.value,i=c[1];e+=c[2]-i+1}}catch(s){a=!0,n=s}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}return e}(),Ne=[0,1,0,1,0,0,1,0,1,0,1,0],Se=function e(){var t=this;Object(o.a)(this,e),this.velocityMapListener=null,this.midiListener=null,this.toneListener=null,this.activeVelocities=new Map,this.activeNotes=new Map,this.forgetBias=je.h(1),this.pitchHistArray=Ne,this.noteDensityBucket=1,this.stepsPerSecond=100,this.currentTime=0,this.startTime=0,this.currentVelocity=100,this.currentLoopId=0,this.lastSample=je.h(355,"int32"),this.initialized=!1,this.modelReady=!1,this.stopped=!1,this.start=function(e){t.initialized?e&&e():(t.initialized=!0,"started"!==l.a.Transport.state&&l.a.Transport.start(),fetch("".concat("/latent/performance","/weights_manifest.json")).then((function(e){return e.json()})).then((function(e){return je.d.loadWeights(e,"/latent/performance")})).then((function(a){t.lstmKernel1=a["rnn/multi_rnn_cell/cell_0/basic_lstm_cell/kernel"],t.lstmBias1=a["rnn/multi_rnn_cell/cell_0/basic_lstm_cell/bias"],t.lstmKernel2=a["rnn/multi_rnn_cell/cell_1/basic_lstm_cell/kernel"],t.lstmBias2=a["rnn/multi_rnn_cell/cell_1/basic_lstm_cell/bias"],t.lstmKernel3=a["rnn/multi_rnn_cell/cell_2/basic_lstm_cell/kernel"],t.lstmBias3=a["rnn/multi_rnn_cell/cell_2/basic_lstm_cell/bias"],t.fcB=a["fully_connected/biases"],t.fcW=a["fully_connected/weights"],t.modelReady=!0,e&&e(),t.resetRnn()})).then((function(){setTimeout((function(){return t.resetRnnRepeatedly()}),2e4)})),t.refreshConditioning())},this.setTempo=function(e){t.stepsPerSecond=e},this.cleanup=function(){t.intervalId&&clearTimeout(t.intervalId),t.generationInterval&&clearTimeout(t.generationInterval),t.stopped=!0},this.refreshConditioning=function(){null!=t.noteDensityEncoding&&(t.noteDensityEncoding.dispose(),t.noteDensityEncoding=null),t.noteDensityEncoding=je.g(je.j([t.noteDensityBucket],"int32"),Ie.length+1).as1D(),null!=t.pitchHistogram&&(t.pitchHistogram.dispose(),t.pitchHistogram=null);for(var e=je.c([12],"float32"),a=t.pitchHistArray.reduce((function(e,t){return e+t}),0),n=0;n<12;n++)e.set(t.pitchHistArray[n]/a,n);t.pitchHistogram=e.toTensor()},this.resetRnn=function(){t.c=[je.l([1,t.lstmBias1.shape[0]/4]),je.l([1,t.lstmBias2.shape[0]/4]),je.l([1,t.lstmBias3.shape[0]/4])],t.h=[je.l([1,t.lstmBias1.shape[0]/4]),je.l([1,t.lstmBias2.shape[0]/4]),je.l([1,t.lstmBias3.shape[0]/4])],null!=t.lastSample&&t.lastSample.dispose(),t.lastSample=je.h(355,"int32"),t.currentTime=l.a.now(),t.startTime=performance.now()-1e3*t.currentTime,t.currentLoopId++,t.generateStep(t.currentLoopId)},this.getConditioning=function(){return je.k((function(){var e=t.noteDensityEncoding.concat(t.pitchHistogram,0);return je.j([0],"int32").concat(e,0)}))},this.getOutputs=function(){var e=function(e,a,n){return je.b(t.forgetBias,t.lstmKernel1,t.lstmBias1,e,a,n)},a=function(e,a,n){return je.b(t.forgetBias,t.lstmKernel2,t.lstmBias2,e,a,n)},n=function(e,a,n){return je.b(t.forgetBias,t.lstmKernel3,t.lstmBias3,e,a,n)},o=je.k((function(){for(var o=[],r=0;r<10;r++){var c=je.g(t.lastSample.as1D(),_e).as1D();0===r&&t.lastSample.dispose();var i=t.getConditioning().concat(c,0).toFloat(),s=je.e([e,a,n],i.as2D(1,-1),t.c,t.h);t.c.forEach((function(e){return e.dispose()})),t.h.forEach((function(e){return e.dispose()})),t.c=s[0],t.h=s[1];var d=t.h[2].matMul(t.fcW).add(t.fcB),l=je.f(d.as1D(),1).asScalar();o.push(l),t.lastSample=l}return[t.c,t.h,o]})),r=Object(he.a)(o,3),c=r[0],i=r[1],s=r[2];return t.c=c,t.h=i,s},this.generateStep=function(){var e=Object(Pe.a)(Oe.a.mark((function e(a){var n,o,r;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a<t.currentLoopId)){e.next=2;break}return e.abrupt("return");case 2:for(n=t.getOutputs(),o=0;o<n.length;o++)t.playOutput(n[o].dataSync()[0]);l.a.now()-t.currentTime>1&&(t.currentTime=l.a.now()),r=Math.max(0,t.currentTime-l.a.now()-.5),t.generationInterval=setTimeout((function(){return t.generateStep(a)}),1e3*r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.playOutput=function(e){if(!t.stopped){var a=0,n=!0,o=!1,r=void 0;try{for(var c,i=Ee[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var s=c.value,d=Object(he.a)(s,3),u=d[0],f=d[1],b=d[2];if(a<=e&&e<=a+b-f){if("note_on"===u){var p=e-a;return t.activeNotes.set(p,t.currentTime),t.activeVelocities.set(p,80*t.currentVelocity),t.velocityMapListener&&t.velocityMapListener(t.activeVelocities),t.midiListener&&t.midiListener([we,p,80*t.currentVelocity],Math.floor(1e3*t.currentTime)-t.startTime),void(t.toneListener&&t.toneListener(l.a.Frequency(p,"midi"),"attack",t.currentTime,80*t.currentVelocity/100))}if("note_off"===u){var m=e-a,h=t.activeNotes.get(m);if(null===h||void 0===h)return;var y=Math.max(t.currentTime,h+.5);return t.midiListener&&t.midiListener([xe,m,80*t.currentVelocity],Math.floor(1e3*y)-t.startTime),t.toneListener&&t.toneListener(l.a.Frequency(m,"midi"),"release",t.currentTime,80*t.currentVelocity/100),t.activeNotes.delete(m),t.activeVelocities.delete(m),void(t.velocityMapListener&&t.velocityMapListener(t.activeVelocities))}if("time_shift"===u)return t.currentTime+=(e-a+1)/t.stepsPerSecond,t.activeNotes.forEach((function(e,a){t.currentTime-e>3&&(t.midiListener&&t.midiListener([xe,a,80*t.currentVelocity]),t.toneListener&&t.toneListener(l.a.Frequency(a,"midi"),"release",t.currentTime),t.activeNotes.delete(a),t.activeVelocities.delete(a),t.velocityMapListener&&t.velocityMapListener(t.activeVelocities))})),t.currentTime;if("velocity_change"===u)return t.currentVelocity=(e-a+1)*Math.ceil(127/32),t.currentVelocity=t.currentVelocity/127,t.currentVelocity;throw new Error("Could not decode eventType: "+u)}a+=b-f+1}}catch(g){o=!0,r=g}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}throw new Error("Could not decode index: ".concat(e))}},this.resetRnnRepeatedly=function(){t.stopped||(t.modelReady&&t.resetRnn(),t.intervalId=setTimeout((function(){return t.resetRnnRepeatedly()}),2e4))}},ke=a(111).Piano,Ce=window.Types,Te={HistType:Ce.any.aliased("PitchHistogram",g.a.createElement("div",null,g.a.createElement("p",null,"A scale represented as a distribution of pitch classes. Valid inputs are either an array of numbers (len 12), or a single string of len 12 that describes relative semitone distributions (ranged 0-9). 0-indexed at C."),g.a.createElement("p",null,"e.g. ",g.a.createElement("code",null,"F Major")," could be either array:"," ",g.a.createElement("code",null,"[1, 0, 1, 0, 1, 2, 0, 1, 0, 1, 1, 0]")," or string:",g.a.createElement("code",null,'"101012010110"')))),Tensor:Ce.object.aliased("Tensor","n-dimensional tensor"),ToneData:Ce.object.aliased("ToneData","Directives for an instrument / synth to play."),MidiData:Ce.object.aliased("MidiData","Midi signal. Usually a note, action, velocity, and channel information")},Ae=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).started=!1,a._map={},a._midiMap={},a.onAddToGraph=function(){a.performance=new Se,a.performance.toneListener=function(e,n,o,r){a.toneOut=[e,n,o,r],a.notifyOutputs(["toneData"],!0),a._getSynths().forEach((function(e){return t.play(a.toneOut,e)}))},a.performance.midiListener=function(e,t){a.midiOut=[e,t],a.notifyOutputs(["midiData"],!0),a._getMidiDevices().forEach((function(a){a.send(e,t)}))}},a.willBeRemoved=function(){a.performance.toneListener=null,a.performance.midiListener=null,a.performance.cleanup(),a.performance=null},a._getSynths=function(){return Object(P.compact)(a.inputs.map((function(e){return a._map[e.id]})))},a._getMidiDevices=function(){return Object(P.compact)(a.inputs.map((function(e){return a._midiMap[e.id]})))},a._startModel=function(){a.setLoading(!0),a.performance.start((function(){return a.setLoading(!1)})),a.started=!0},a.beforeConnectOut=function(){a.started||a._startModel()},a.beforeConnectIn=function(e){a.started||"synth"!==e.toPort||a._startModel(),a.started||"midiOut"!==e.toPort||a._startModel()},a._compareHistograms=function(e,t){return(Array.isArray(e)?e.join(""):e)===(Array.isArray(t)?t.join(""):t)},a._histForPerformance=function(e){if(Array.isArray(e))return e.map((function(e){return parseInt(e)}));if("string"===typeof e)return e.split("").map((function(e){return parseInt(e)}));throw new Error("cannot parse histogram")},a.willReceiveProps=function(e,t){(!t||void 0!==e.density&&e.density!==t.density)&&(a.performance.noteDensityBucket=e.density,a.performance.refreshConditioning()),(!t||void 0!==e.stepsPerSecond&&e.stepsPerSecond!==t.stepsPerSecond)&&(a.performance.stepsPerSecond=e.stepsPerSecond,a.performance.refreshConditioning()),t&&(void 0===e.scale||a._compareHistograms(e.scale,t.scale))||(a.performance.pitchHistArray=a._histForPerformance(e.scale),a.performance.refreshConditioning())},a.onInputChange=function(e,t){if("synth"===e.toPort){var n=e.inDataFor(t);n&&(a._map[e.id]=n)}if("midiOut"===e.toPort){var o=e.inDataFor(t);o&&(a._midiMap[e.id]=o)}return[]},a.process=function(){return{midiData:a.midiOut,toneData:a.toneOut}},a}return Object(s.a)(t,e),Object(r.a)(t,null,[{key:"play",value:function(e,t){var a=Object(he.a)(e,4),n=a[0],o=a[1],r=a[2],c=a[3];switch(o){case"attack":if(t instanceof ke)try{t.keyUp(n.toMidi(),r,c)}catch(i){console.warn(i)}else t.triggerAttack(n,r,c);break;case"release":t instanceof ke?t.keyDown(n.toMidi(),r,c):t.triggerRelease(n,r,c);break;case"attackRelease":t.triggerAttackRelease(n,"4n",r,c)}}}]),t}(F);Ae.displayName="Music RNN",Ae.registryName="PerformanceRNNNode",Ae.defaultProps={stepsPerSecond:100},Ae.description=g.a.createElement("span",null,"Sample an RNN model trained on the Yamaha e-Piano Competition dataset"),Ae.schema={input:{scale:Te.HistType.desc("This pitch distribution will be used as a tonic to condition this model"),density:Ce.number.desc("A density conditioning variable between 0-6 that serves as a directive for how many notes will be generated per step, in exponential scale. i.e. notes generated per step will be 2^density"),stepsPerSecond:Ce.number.desc("number of steps per second. effectively a tempo measure for note generation / playback"),synth:U.Synth.desc("Optionally attach a synth to this node and trigger its attack / release"),midiOut:Ce.object.aliased("MidiOut","A connected MIDI output").desc("Optionally attach a midi output to this node and send midi signals to that device")},output:{midiData:Ce.object.desc("midi data out"),toneData:Te.ToneData.desc("tone out node")},state:{}},Ae.shortNames={stepsPerSecond:"steps/s"};var De=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).requireForOutput=function(){return 0===[a.props.forgetBias,a.props.lstmKernel,a.props.lstmBias,a.props.data,a.props.c,a.props.h].map((function(e){return typeof e})).filter((function(e){return"undefined"===e})).length},a.process=function(){return Object(P.zipObject)(["newC","newH"],je.b(a.props.forgetBias,a.props.lstmKernel,a.props.lstmBias,a.props.data,a.props.c,a.props.h))},a.onInputChange=function(){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);De.displayName="LSTM Cell",De.registryName="LSTMCell",De.description=g.a.createElement("span",null,"Computes the next state and output of a BasicLSTMCell"),De.schema={input:{forgetBias:Te.Tensor.desc("Forget bias for the cell"),lstmKernel:Te.Tensor.desc("The weights for the cell"),lstmBias:Te.Tensor.desc("The bias for the cell"),data:Te.Tensor.desc("The input to the cell"),c:Te.Tensor.desc("Previous cell state"),h:Te.Tensor.desc("Previous cell output")},output:{newC:Te.Tensor.desc("Next cell state"),newH:Te.Tensor.desc("Next cell output")},state:{}};var Re=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).requireForOutput=function(){return 0===[a.props.lstmCells,a.props.data,a.props.c,a.props.h].map((function(e){return typeof e})).filter((function(e){return"undefined"===e})).length},a.process=function(){return Object(P.zipObject)(["newC","newH"],je.e(a.props.lstmCells,a.props.data,a.props.c,a.props.h))},a.onInputChange=function(){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}Re.displayName="MultiRNN Cell",Re.registryName="MultiRNNCell",Re.description=g.a.createElement("span",null,"Computes the next states and outputs of a stack of LSTMCells."),Re.schema={input:{lstmCells:Te.Tensor.desc("The weights for the cell"),data:Te.Tensor.desc("The input to the cell"),c:Te.Tensor.desc("Previous cell state"),h:Te.Tensor.desc("Previous cell output")},output:{newC:Te.Tensor.desc("Next cell state"),newH:Te.Tensor.desc("Next cell output")},state:{}};var Ke=window.Types,ze={SoundFont:Ke.object.aliased("SoundFont","A sample set assembled to be a virtual instrument")},Fe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._loaded=null,a._options=function(){var e=a.props.attack||0,t=a.props.decay||0;return{attack:e,release:a.props.release||0,decay:t,sustain:0|a.props.sustain}},a._setFont=function(e){a.setLoading(!0),ge.a.instrument(l.a.context,e,a._options()).then((function(t){a.instrument=t,a.instrument.opts=Le({},a.instrument.opts,{},a._options()),a.notifyAllOutputs(!0),a.setLoading(!1),a._loaded=e}))},a.willReceiveProps=function(e,t){!e.name||t&&e.name===t.name||a._loaded!==e.name&&a._setFont(e.name),["attack","decay","release","sustain"].forEach((function(n){"number"===typeof t&&e[n]===t[n]||a.instrument&&(a.instrument.opts[n]=e[n])}))},a.process=function(){return{out:a.instrument}},a}return Object(s.a)(t,e),t}(F);Fe.registryName="SoundFontNode",Fe.displayName="SoundFont",Fe.description=g.a.createElement("span",null,"A virtual instrument"),Fe.defaultProps={attack:.5,decay:1,release:1,sustain:.9},Fe.schema={input:{name:Ke.string.desc(g.a.createElement("div",null,g.a.createElement("p",null,"The name of the soundfont to use. Possible values:"),g.a.createElement("p",null,"accordion, acoustic_bass, acoustic_grand_piano, acoustic_guitar_nylon, acoustic_guitar_steel, agogo, alto_sax, applause, bagpipe, banjo, baritone_sax, bassoon, bird_tweet, blown_bottle, brass_section, breath_noise, bright_acoustic_piano, celesta, cello, choir_aahs, church_organ, clarinet, clavinet, contrabass, distortion_guitar, drawbar_organ, dulcimer, electric_bass_finger, electric_bass_pick, electric_grand_piano, electric_guitar_clean, electric_guitar_jazz, electric_guitar_muted, electric_piano_1, electric_piano_2, english_horn, fiddle, flute, french_horn, fretless_bass, fx_1_rain, fx_2_soundtrack, fx_3_crystal, fx_4_atmosphere, fx_5_brightness, fx_6_goblins, fx_7_echoes, fx_8_scifi, glockenspiel, guitar_fret_noise, guitar_harmonics, gunshot, harmonica, harpsichord, helicopter, honkytonk_piano, kalimba, koto, lead_1_square, lead_2_sawtooth, lead_3_calliope, lead_4_chiff, lead_5_charang, lead_6_voice, lead_7_fifths, lead_8_bass__lead, marimba, melodic_tom, music_box, muted_trumpet, oboe, ocarina, orchestra_hit, orchestral_harp, overdriven_guitar, pad_1_new_age, pad_2_warm, pad_3_polysynth, pad_4_choir, pad_5_bowed, pad_6_metallic, pad_7_halo, pad_8_sweep, pan_flute, percussive_organ, piccolo, pizzicato_strings, recorder, reed_organ, reverse_cymbal, rock_organ, seashore, shakuhachi, shamisen, shanai, sitar, slap_bass_1, slap_bass_2, soprano_sax, steel_drums, string_ensemble_1, string_ensemble_2, synth_bass_1, synth_bass_2, synth_brass_1, synth_brass_2, synth_choir, synth_drum, synth_strings_1, synth_strings_2, taiko_drum, tango_accordion, telephone_ring, tenor_sax, timpani, tinkle_bell, tremolo_strings, trombone, trumpet, tuba, tubular_bells, vibraphone, viola, violin, voice_oohs, whistle, woodblock, xylophone"))),attack:Ke.number.desc("The attack to use for this instrument"),decay:Ke.number.desc("The decay to use for this instrument"),release:Ke.number.desc("The release to use for this instrument"),sustain:Ke.number.desc("The sustain to use for this instrument")},output:{out:ze.SoundFont.desc("Resulting SoundFont")},state:{}};var Ge=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._playMap={},a.listening=[],a._playToneData=function(e,t){var n=Object(he.a)(e,4),o=n[0],r=n[1],c=n[2],i=n[3],s=o.toNote();switch(r){case"attack":a._playMap[s],a._playMap[s]=t.play(s,c,Le({},t.opts,{gain:i}));break;case"release":var d=a._playMap[s];d&&d.stop(c);break;case"attackRelease":t.play(s,void 0,{duration:.5})}},a._playMidiData=function(e,t){var n=Object(he.a)(e,2),o=n[0],r=n[1],c=Object(he.a)(o,3),i=c[0],s=c[1],d=c[2],l=r?r/1e3:r;switch(i){case xe:var u=a._playMap[s];u&&u.stop(l);break;case we:a._playMap[s]?(a._playMap[s].stop(),a._playMap[s]=t.play(s,l,Le({},t.opts,{gain:d/100}))):a._playMap[s]=t.play(s,l,Le({},t.opts,{gain:d/100}))}},a._connectMidiIn=function(){var e=a.props,t=e.midiDevice,n=e.soundFont;n&&t&&!a.listening.includes(t.id)&&(n.listenToMidi(t),a.listening.push(t.id))},a.onInputChange=function(e,t){var n=Object(P.get)(a.props,"soundFont",void 0);if(n){a._connectMidiIn();var o=Object(P.get)(a.props,"toneData");o&&a._playToneData(o,n);var r=Object(P.get)(a.props,"midiData");r&&a._playMidiData(r,n)}return[]},a}return Object(s.a)(t,e),t}(F);Ge.displayName="SoundFont Player",Ge.registryName="SoundFontPlayerNode",Ge.description=g.a.createElement("span",null,"A Node which plays tone data to a SoundFont instrument"),Ge.schema={input:{soundFont:ze.SoundFont.desc("The particular sound font to use."),toneData:Te.ToneData.desc("Data fed in through this channel will be sent to the sound font instrument to play"),midiData:Te.MidiData.desc("Data fed in through this channel will be sent to the sound font instrument to play"),midiDevice:Ke.object.aliased("MidiInput","A connected MIDI input").desc("Optionally attach a midi input to this node to send signals to the soundfont")},output:{},state:{}};var Ve=window.Types,Be=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){var e=a.state.map,t=a.props.input;return{out:"object"===typeof e?e[t]:e(t)}},a.onInputChange=function(){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);Be.displayName="Mapper",Be.registryName="MapperNode",Be.defaultState={map:{}},Be.schema={input:{input:Ve.object},output:{out:Ve.object},state:{}};var qe=window.Types,Ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).count=0,a._clearSubscription=function(){a.subscriptionId&&(clearInterval(a.subscriptionId),a.subscriptionId=null)},a._resetCount=function(){a.count=0},a._startInterval=function(){a._clearSubscription(),a._resetCount(),a.subscriptionId=setInterval((function(){a.count+=1,a.notifyOutputs(a.outKeys(),!0)}),a.props.interval)},a.willReceiveProps=function(e,t){t&&e.interval===t.interval||a._startInterval()},a.afterConnectOut=function(){1!==a.outputs.length||a.subscriptionId||a._startInterval()},a.process=function(){return{count:a.count,value:a.props.value}},a.onInputChange=function(){return[]},a}return Object(s.a)(t,e),t}(F);Ue.displayName="Interval",Ue.registryName="IntervalNode",Ue.description=g.a.createElement("span",null,"A node which emits any value and a count at a regular time interval."),Ue.defaultProps={interval:1e3},Ue.schema={input:{value:qe.any.desc("Any input to emit at this interval"),interval:qe.number.desc("The interval at which this node will emit, in miliseconds")},output:{count:qe.number.desc("The number of times this node has emitted so far."),value:qe.any.desc("The input value passed in")},state:{}};var We=a(40),He=a(8),Je=a(103),Ye=a.n(Je),Xe=function e(){var t=0,a=document.createElement("div");function n(e){return a.appendChild(e.dom),e}function o(e){for(var n=0;n<a.children.length;n++)a.children[n].style.display=n===e?"block":"none";t=e}a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",(function(e){e.preventDefault(),o(++t%a.children.length)}),!1);var r=(performance||Date).now(),c=r,i=0,s=n(new e.Panel("FPS","#4084c3","#002")),d=n(new e.Panel("MS","#4caa4d","#020"));if(window.self.performance&&window.self.performance.memory)var l=n(new e.Panel("MB","#bd2b8a","#201"));return o(0),{REVISION:16,dom:a,addPanel:n,showPanel:o,begin:function(){r=(performance||Date).now()},end:function(){i++;var e=(performance||Date).now();if(d.update(e-r,200),e>=c+1e3&&(s.update(1e3*i/(e-c),100),c=e,i=0,l)){var t=performance.memory;l.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){r=this.end()},domElement:a,setMode:o}};Xe.Panel=function(e,t,a){var n=1/0,o=0,r=Math.round,c=r(window.devicePixelRatio||1),i=80*c,s=48*c,d=3*c,l=2*c,u=3*c,f=15*c,b=74*c,p=30*c,m=document.createElement("canvas");m.width=i,m.height=s,m.style.cssText="width:80px;height:48px";var h=m.getContext("2d");return h.font="bold "+9*c+"px Helvetica,Arial,sans-serif",h.textBaseline="top",h.fillStyle=a,h.fillRect(0,0,i,s),h.fillStyle=t,h.fillText(e,d,l),h.fillRect(u,f,b,p),h.fillStyle=a,h.globalAlpha=.9,h.fillRect(u,f,b,p),{dom:m,update:function(s,y){n=Math.min(n,s),o=Math.max(o,s),h.fillStyle=a,h.globalAlpha=1,h.fillRect(0,0,i,f),h.fillStyle=t,h.fillText(r(s)+" "+e+" ("+r(n)+"-"+r(o)+")",d,l),h.drawImage(m,u+c,f,b-c,p,u,f,b-c,p),h.fillRect(u+b-c,f,c,p),h.fillStyle=a,h.globalAlpha=.9,h.fillRect(u+b-c,f,c,r((1-s/y)*p))}}};var Qe={createButton:function(e,t){function a(t){r.style.display="",r.style.cursor="pointer",r.style.left="calc(50% - 50px)",r.style.width="100px",r.textContent="ENTER VR",r.onmouseenter=function(){r.style.opacity="1.0"},r.onmouseleave=function(){r.style.opacity="0.5"},r.onclick=function(){t.isPresenting?t.exitPresent():t.requestPresent([{source:e.domElement}])},e.vr.setDevice(t)}function n(){r.style.display="",r.style.cursor="auto",r.style.left="calc(50% - 75px)",r.style.width="150px",r.textContent="VR NOT FOUND",r.onmouseenter=null,r.onmouseleave=null,r.onclick=null,e.vr.setDevice(null)}function o(e){e.style.position="absolute",e.style.bottom="20px",e.style.padding="12px 6px",e.style.border="1px solid #fff",e.style.borderRadius="4px",e.style.background="rgba(0,0,0,0.1)",e.style.color="#fff",e.style.font="normal 13px sans-serif",e.style.textAlign="center",e.style.opacity="0.5",e.style.outline="none",e.style.zIndex="999"}if(t&&t.frameOfReferenceType&&e.vr.setFrameOfReferenceType(t.frameOfReferenceType),"xr"in navigator){var r=document.createElement("button");return r.style.display="none",o(r),navigator.xr.requestDevice().then((function(t){t.supportsSession({immersive:!0,exclusive:!0}).then((function(){!function(t){var a=null;function n(t){t.addEventListener("end",o),e.vr.setSession(t),r.textContent="EXIT VR",a=t}function o(t){a.removeEventListener("end",o),e.vr.setSession(null),r.textContent="ENTER VR",a=null}r.style.display="",r.style.cursor="pointer",r.style.left="calc(50% - 50px)",r.style.width="100px",r.textContent="ENTER VR",r.onmouseenter=function(){r.style.opacity="1.0"},r.onmouseleave=function(){r.style.opacity="0.5"},r.onclick=function(){null===a?t.requestSession({immersive:!0,exclusive:!0}).then(n):a.end()},e.vr.setDevice(t)}(t)})).catch(n)})).catch(n),r}if("getVRDisplays"in navigator){var c=document.createElement("button");return c.style.display="none",o(c),window.addEventListener("vrdisplayconnect",(function(e){a(e.display)}),!1),window.addEventListener("vrdisplaydisconnect",(function(e){n()}),!1),window.addEventListener("vrdisplaypresentchange",(function(e){c.textContent=e.display.isPresenting?"EXIT VR":"ENTER VR"}),!1),window.addEventListener("vrdisplayactivate",(function(t){t.display.requestPresent([{source:e.domElement}])}),!1),navigator.getVRDisplays().then((function(e){e.length>0?a(e[0]):n()})).catch(n),c}var i=document.createElement("a");return i.href="https://webvr.info",i.innerHTML="WEBVR NOT SUPPORTED",i.style.left="calc(50% - 90px)",i.style.width="180px",i.style.textDecoration="none",o(i),i},checkAvailability:function(){var e=Object(Pe.a)(Oe.a.mark((function e(){var t;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.getVRDisplays();case 3:return t=e.sent,e.abrupt("return",t&&t.length);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),getMessageContainer:function(){return console.warn("WEBVR.getMessageContainer has been deprecated."),document.createElement("div")},getButton:function(){return console.warn("WEBVR.getButton has been deprecated."),document.createElement("div")},getVRDisplay:function(){console.warn("WEBVR.getVRDisplay has been deprecated.")}},$e=a(339),Ze=a(342),et={u_resolution:{type:"v2",value:new He.I},u_mouse:{type:"v2",value:new He.I},u_time:{type:"f",value:1}},tt=function(){function e(){var t=this;Object(o.a)(this,e),this.showStats=!1,this.afterLoad=function(){},this.orthoCam=function(){return new He.t(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,.1,1e3)},this.update=function(e){},this.reset=function(){var e=t.scene.fog;t.scene=new He.B,window.scene=t.scene,t.scene.fog=e;var a=t.renderer,n=t.composer;return a&&(a.reset&&a.reset(),a.dispose()),n&&(n.reset&&n.reset(),n.dispose&&n.dispose()),t},this.cleanup=function(){document.body&&t.renderer&&document.body.removeChild(t.renderer.domElement),window.removeEventListener("resize",t.resize)},this.start=function(){var e=new $e.a(t._makeRenderer(!1),{stencilBuffer:!0,depthTexture:!0}),a=e.renderer;new Ye.a(t.camera,a.domElement),a.domElement.style.visibility="hidden",document.body&&document.body.appendChild(a.domElement),Qe.checkAvailability().then((function(e){e&&document.body&&(document.body.appendChild(Qe.createButton(a)),a.vr.enabled=!0)})),e.reset(),t.load((function(){var n=new Ze.a(t.scene,t.camera);t.renderPass=n,e.addPass(n),t.initialise(e,n),et.u_resolution.value.x=a.domElement.width,et.u_resolution.value.y=a.domElement.height,a.setPixelRatio(a.domElement.devicePixelRatio),t.camera.aspect=window.innerWidth/window.innerHeight,t.camera.updateProjectionMatrix(),a.domElement.style.visibility="visible",t.afterLoad()})),t._listenForWindowChanges(),t._startRendering(e),t.composer=e,t.renderer=a},this.startRaw=function(){var e=t._makeRenderer();document.body&&document.body.appendChild(e.domElement),new Ye.a(t.camera,e.domElement),t.load((function(){t.initialise(null,null),t.camera.aspect=window.innerWidth/window.innerHeight,t.camera.updateProjectionMatrix(),t.afterLoad()})),t._listenForWindowChanges(),t._startRendering(e),t.renderer=e},this._startRendering=function(a){var n=new He.d;a.renderer.setAnimationLoop((function(){var o=n.getDelta();t.update(o)!==e.Signals.STOP?(et.u_time.value+=o,a instanceof $e.a?a.render(o):a.render(t.scene,t.camera)):a.setAnimationLoop(null),t.stats&&t.stats.update()}))},this._listenForWindowChanges=function(){return window.addEventListener("resize",t.resize)},this.resize=Object(P.throttle)((function(e){var a=e.target.innerWidth,n=e.target.innerHeight;t.composer?t.composer.setSize(a,n):t.renderer&&t.renderer.setSize(a,n),et.u_resolution.value.x=t.renderer.domElement.width,et.u_resolution.value.y=t.renderer.domElement.height,t.camera.aspect=a/n,t.camera.updateProjectionMatrix()}),18),this._makeRenderer=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=new He.L({alpha:!0,antialias:e});return t.setSize(window.innerWidth,window.innerHeight),t.setPixelRatio(window.devicePixelRatio),t.setClearColor(2892322),t.autoClear=!1,t},this.loadingManager=new He.o,this.assets=null,this.scene=new He.B,this.scene.fog=new He.k(855309,.0025),this.camera=new He.u(40,window.innerWidth/window.innerHeight,.1,1e3),this.showStats&&(this.stats=new Xe)}return Object(r.a)(e,[{key:"setupStats",value:function(){this.stats&&(this.stats.domElement.style.position="absolute",this.stats.domElement.style.left="0px",this.stats.domElement.style.top="0px",document.body.appendChild(this.stats.domElement),this.stats&&this.stats.begin())}},{key:"load",value:function(e){e()}},{key:"initialise",value:function(e,t){this.setupStats(),t&&(t.renderToScreen=!0)}},{key:"configure",value:function(e){}}],[{key:"rgbToHex",value:function(e,t,a){return(1<<24)+(e<<16)+(t<<8)+a}}]),e}();tt.Signals={STOP:"STOP"};var at=a(340),nt=a(330),ot=a(331),rt=a(332),ct=a(333),it=a(334),st=a(335),dt=a(336),lt=window.Types,ut="",ft={Color:lt.object.aliased("RGBColor","RGB representation of a color"),Light:lt.object.aliased("Light","A light source in a scene"),Camera:lt.object.aliased("Camera","A camera that exists in a scene"),PostEffect:lt.object.aliased("PostEffect","A post production render effect"),SceneElement:lt.object.aliased("SceneElement","Anything that can be added to a scene, including Meshes, Lights, & Cameras")},bt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).started=!1,a.onAddToGraph=function(){a.state.base=new tt,a.state.added=[]},a._start=function(){a.props.child&&!a.started&&(a.started=!0,a.state.base.camera.position.set(0,0,30),a.state.base.camera.lookAt(new He.J(0,0,0)),a.state.base.start(),a.state.base.renderPass&&a.state.base.renderPass.renderToScreen&&(a.rendered=a.state.base.renderPass))},a.willBeRemoved=function(){a.state.base.reset(),a.state.base.cleanup()},a.addPass=function(e){var t=a.state.base.composer;a.rendered&&t&&(a.rendered.renderToScreen=!1,t.addPass(e),e.renderToScreen=!0,a.rendered=e)},a.removePass=function(e){var t=a.state.base.composer;t&&(t.removePass(e),e.renderToScreen=!1,e.dispose())},a.beforeDisconnectIn=function(e){"child"===e.toPort&&a.state.added.includes(e.from.id)&&(a.state.added=a.state.added.filter((function(t){return t!==e.from.id})),Object.values(e.from.outputCache).forEach((function(e){e instanceof He.s&&a.state.base.scene.remove(e)})))},a.onInputChange=function(e,t){var n=e.toPort;if("child"===n&&!a.state.added.includes(e.from.id)){a.state.added.push(e.from.id);var o=e.inDataFor(t);o instanceof He.s&&a.state.base.scene.add(o)}if("clearColor"===n){var r=e.inDataFor(t),c=Object(P.get)(a.state,"base.renderer");c&&c.getClearColor()!==r&&(c.setClearColor(r),a.state.base.scene.background=new He.e(r))}if("clearAlpha"===n){var i=e.inDataFor(t),s=Object(P.get)(a.state,"base.renderer");s&&s.getClearAlpha()!==i&&s.setClearAlpha(i)}return a._start(),[]},a}return Object(s.a)(t,e),t}(F);bt.displayName="Render Scene",bt.registryName="ThreeNode",bt.description=g.a.createElement("span",null,"This node renders a WebGL scene, by default with a perspective camera"),bt.schema={input:{child:ft.SceneElement.desc("Any scene element[s] to be added"),fx:G(ft.PostEffect).desc("Post render pass(es)"),clearColor:ft.Color.desc("The renderer's clear color"),clearAlpha:lt.number.desc("The alpha component for the renderer's clear color")},output:{},state:{}};var pt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).onAddToGraph=function(){a.state.light=new He.b(3226201)},a.process=function(){return{light:a.state.light}},a.willReceiveProps=function(e,t){["color"].forEach((function(o){t&&e[o]===t[o]||a.pushToState("light",Object(n.a)({},o,e[o]),[],o)}))},a.onInputChange=function(e,t){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);pt.displayName="Ambient Light",pt.registryName="AmbientLightNode",pt.description=g.a.createElement("span",null,"An ambient light, intended to be added to a scene"),pt.schema={input:{color:ft.Color.desc("The color of this ambient light")},output:{light:ft.Light.desc("The ambient light source")},state:{light:ft.Light.desc("The ambient light source")}};var mt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).willBecomeLive=function(){},a.onAddToGraph=function(){a.state.light=new He.i(16759722),a.state.light.position.set(0,-1,0)},a.afterConnectOut=function(e){e.to instanceof bt&&a.state.light.target.position.copy(e.to.state.base.scene.position)},a.willReceiveProps=function(e,t){["color"].forEach((function(o){t&&e[o]===t[o]||a.pushToState("light",Object(n.a)({},o,e[o]),[],o)}))},a.process=function(){return{light:a.state.light}},a.onInputChange=function(e,t){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);mt.displayName="Directional Light",mt.registryName="DirectionalLightNode",mt.description=g.a.createElement("span",null,"A focused light, intended to be added to a scene"),mt.schema={input:{color:ft.Color.desc("The color of this directional light")},output:{light:ft.Light.desc("The directional light source")},state:{light:ft.Light.desc("The directional light source, directed at the scene")}};var ht=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){var e=a.props.r||0,t=a.props.g||0,n=a.props.b||0;return{hex:tt.rgbToHex(e,t,n),rgb:{r:e,g:t,b:n}}},a.onInputChange=function(e,t){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);ht.displayName="Color",ht.registryName="Color",ht.defaultProps={r:0,g:0,b:0},ht.description=g.a.createElement("span",null,"A color representation"),ht.schema={input:{r:lt.number.desc("red channel, [0,255]"),g:lt.number.desc("green channel, [0,255]"),b:lt.number.desc("blue channel, [0,255]")},output:{hex:lt.number.desc("hex representation of this color"),rgb:ft.Color.desc("rgb representation")},state:{}};var yt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).rendered=!1,a.passes=[],a.load=function(e){var t=new Map,n=new He.o,o=new He.E(n);n.onProgress=function(n,o,r){o===r&&(a.assets=t,e())},o.load(ut+"/latent/textures/perturb.jpg",(function(e){e.magFilter=e.minFilter=He.r,t.set("perturb-map",e)}))},a._render=function(){!a.rendered&&a.glitch&&a.assets&&a.outputs.forEach((function(e){if(e.to instanceof bt){var t=e.to,n=t.state.base.camera;if(n){var o=new at.a(n,a.glitch),r=new at.a(n,a.aberration);t.addPass(o),t.addPass(r),a.passes=[r,o],a.rendered=!0}}}))},a.beforeDisconnectOut=function(){a.rendered=!1,a.outputs.forEach((function(e){if(e.to instanceof bt){var t=e.to;a.passes.forEach((function(e){e.enabled=!1,t.removePass(e)}))}}))},a.willBecomeLive=function(){},a.onAddToGraph=function(){a.load((function(){a.aberration=new nt.a,a.glitch=new ot.a({perturbationMap:a.assets.get("perturb-map"),chromaticAberrationOffset:a.aberration.offset}),a.glitch.delay=new He.I(5.5,10),a._render()}))},a.afterConnectOut=function(e){a._render()},a.process=function(){return{glitch:a.glitch}},a.onInputChange=function(e,t){return a.outputs.length&&a._render(),"delay"===e.toPort&&(a.glitch.delay=e.inDataFor(t)),a.outKeys()},a}return Object(s.a)(t,e),t}(F);yt.displayName="Glitch Pass",yt.registryName="GlitchPassNode",yt.description=g.a.createElement("span",null,"A holy perturbation"),yt.schema={input:{delay:lt.Vec2.desc("the min and max delay between glitches, as a 2d vector in second units")},output:{glitch:ft.PostEffect.desc("glitchy pass that can be applied to a render")},state:{}};var gt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).rendered=!1,a._render=function(){a.rendered||a.outputs.forEach((function(e){if(e.to instanceof bt){var t=e.to,n=t.state.base.camera;n&&(a.effect=new rt.a({eskil:!1,offset:.25,darkness:.55}),a.pass=new at.a(n,a.effect),t.addPass(a.pass),a.rendered=!0)}}))},a.beforeDisconnectOut=function(){a.rendered=!1,a.outputs.forEach((function(e){e.to instanceof bt&&e.to.removePass(a.pass)}))},a.willReceiveProps=function(e,t){var n=a.effect;n&&(["darkness","offset"].forEach((function(a){var o=n.uniforms.get(a),r=e[a];void 0!==o&&"number"===typeof r&&t[a]!==r&&(o.value=r)})),["opacity"].forEach((function(t){var a=Object(P.get)(n,"blendMode.opacity"),o=e[t];void 0!==a&&"number"===typeof o&&a.value!==o&&(a.value=o)})))},a.onAddToGraph=function(){a._render()},a.afterConnectOut=function(e){a._render()},a.process=function(){return{pass:a.pass,effect:a.effect}},a.onInputChange=function(e,t){return a.outputs.length&&a._render(),a.outKeys()},a}return Object(s.a)(t,e),t}(F);gt.displayName="Vignette Pass",gt.registryName="VignettePassNode",gt.description=g.a.createElement("span",null,"A Vignette post-process effect"),gt.schema={input:{opacity:lt.number.desc("The vignette opacity [0,1]"),offset:lt.number.desc("The vignette offset [0,1]"),darkness:lt.number.desc("The vignette darkness [0,1]")},output:{pass:ft.PostEffect.desc("a vignette pass that can be applied to a render"),effect:lt.object.desc("the effect info")},state:{}},gt.shortNames={effect:"fx"};var vt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).rendered=!1,a._render=function(){a.rendered||a.outputs.forEach((function(e){if(e.to instanceof bt){var t=e.to,n=t.state.base.camera;n&&(a.effect=new ct.a({density:1.5}),a.pass=new at.a(n,a.effect),t.addPass(a.pass),a.rendered=!0)}}))},a.willBecomeLive=function(){},a.beforeDisconnectOut=function(){a.rendered=!1,a.outputs.forEach((function(e){e.to instanceof bt&&e.to.removePass(a.pass)}))},a.onAddToGraph=function(){a._render()},a.afterConnectOut=function(e){a._render()},a.process=function(){return{pass:a.pass,effect:a.effect}},a.onInputChange=function(e,t){return a.outputs.length&&a._render(),a.outKeys()},a}return Object(s.a)(t,e),t}(F);vt.displayName="Scanline Pass",vt.registryName="ScanlinePassNode",vt.description=g.a.createElement("span",null,"A scanline post-process effect"),vt.schema={input:{},output:{pass:ft.PostEffect.desc("a scanline pass that can be applied to a render"),effect:lt.object.desc("the effect info")},state:{}},vt.shortNames={effect:"fx"};var Ot=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).rendered=!1,a._render=function(){a.rendered||a.outputs.forEach((function(e){if(e.to instanceof bt){var t=e.to,n=t.state.base.camera;if(n){var o=new it.a;a.effect=new st.a({blendFunction:13,scale:1,angle:.58*Math.PI}),a.effect.blendMode.opacity.value=.21,a.pass=new at.a(n,a.effect,o),t.addPass(a.pass),a.rendered=!0}}}))},a.willBecomeLive=function(){},a.beforeDisconnectOut=function(){a.rendered=!1,a.outputs.forEach((function(e){e.to instanceof bt&&e.to.removePass(a.pass)}))},a.onAddToGraph=function(){a._render()},a.afterConnectOut=function(e){a._render()},a.process=function(){return{pass:a.pass,effect:a.effect}},a.onInputChange=function(e,t){return a.outputs.length&&a._render(),a.outKeys()},a}return Object(s.a)(t,e),t}(F);Ot.displayName="DotScreen Pass",Ot.registryName="DotScreenPassNode",Ot.description=g.a.createElement("span",null,"A Dot-screen post-process effect"),Ot.schema={input:{},output:{pass:ft.PostEffect.desc("a dotscreen pass that can be applied to a render"),effect:lt.object.desc("the effect info")},state:{}},Ot.shortNames={effect:"fx"};var Pt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).rendered=!1,a._render=function(){a.rendered||a.outputs.forEach((function(e){if(e.to instanceof bt){var t=e.to,n=t.state.base.camera;n&&(a.effect=new dt.a({}),a.pass=new at.a(n,a.effect),a.effect.blendMode.opacity.value=Object(P.get)(Object(We.a)(a),"props.opacity",.21),t.addPass(a.pass),a.rendered=!0)}}))},a.willReceiveProps=function(e){var t=a.effect;t&&["opacity"].forEach((function(a){var n=Object(P.get)(t,"blendMode.opacity"),o=e[a];void 0!==n&&"number"===typeof o&&n.value!==o&&(n.value=o)}))},a.willBecomeLive=function(){},a.onAddToGraph=function(){a._render()},a.beforeDisconnectOut=function(){a.rendered=!1,a.outputs.forEach((function(e){e.to instanceof bt&&e.to.removePass(a.pass)}))},a.afterConnectOut=function(e){a._render()},a.process=function(){return{pass:a.pass,effect:a.effect}},a.onInputChange=function(e,t){return a.outputs.length&&a._render(),a.outKeys()},a}return Object(s.a)(t,e),t}(F);Pt.displayName="Noise Pass",Pt.registryName="NoisePassNode",Pt.description=g.a.createElement("span",null,"A noise post-process effect"),Pt.schema={input:{opacity:lt.number.desc("the blending opacity")},output:{pass:ft.PostEffect.desc("a noise pass that can be applied to a render"),effect:lt.object.desc("the effect info")},state:{}},Pt.shortNames={effect:"fx"};var jt=window.Types,It={Geometry:jt.object.aliased("Geometry","An abstract geometry that describes verticies in space")},wt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._setGeo=function(){var e=a.props,t=e.vertices;e.appendVerts?(a.state.geometry||(a.state.geometry=new He.l),a.state.geometry.vertices.push(t||[]),a.state.geometry.verticesNeedUpdate=!0):(a.state.geometry&&a.state.geometry.dispose(),a.state.geometry=new He.l,a.state.geometry.vertices.push(t||[]))},a.onAddToGraph=function(){a._setGeo()},a.onInputChange=function(e){return"vertices"===e.toPort&&a._setGeo(),[]},a.process=function(){return a.state},a}return Object(s.a)(t,e),t}(F);wt.displayName="Geometry Base",wt.registryName="GeometryBase",wt.defaultProps={vertices:[],appendVerts:!0},wt.description=g.a.createElement("span",null,"Geometries store attributes, e.g. vertex positions, faces, colors."),wt.schema={input:{vertices:G(jt.Vec3).desc(g.a.createElement("span",null,"The array of vertices holds the position of every vertex in the model. To signal an update in this array, ",g.a.createElement("code",null,"verticesNeedUpdate")," needs to be set to true")),appendVerts:jt.boolean.desc("Whether or not incoming verticies param should be appended. If false, incoming params will override verticies.")},output:{geometry:It.Geometry.desc("this particular geometry")},state:{geometry:It.Geometry.desc("this particular geometry")}},wt.shortNames={geometry:"geo"};var xt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._setGeo=function(){var e=a.props,t=e.radius,n=e.tube,o=e.tubularSegments,r=e.radialSegments,c=e.p,i=e.q;a.state.geometry&&a.state.geometry.dispose(),a.state.geometry=new He.F(t,n,o,r,c,i)},a.onAddToGraph=function(){a._setGeo()},a.onInputChange=function(e){var t=!1;return["radius","tube","tubularSegments","radialSegments","p","q"].forEach((function(n){n===e.toPort&&a.state.geometry.parameters[n]!==a.props[n]&&(a._setGeo(),t=!0)})),t?a.outKeys():[]},a.process=function(){return a.state},a}return Object(s.a)(t,e),t}(F);xt.displayName="Torus Knot Geometry",xt.registryName="TorusKnotGeometryNode",xt.defaultProps={radius:1,tube:.4,tubularSegments:64,radialSegments:8,p:2,q:3},xt.description=g.a.createElement("span",null,"A torus knot (buffer) geometry, with most attributes encoded in buffers so that they are more efficiently transported to your GPU."),xt.schema={input:{radius:jt.number.desc("The radius of this geometry"),tube:jt.number.desc("The tube radius"),tubularSegments:jt.number.desc("The number of tubular segments for this geometry"),radialSegments:jt.number.desc("The number of radial segments for this geometry"),p:jt.number.desc("The torus knot p"),q:jt.number.desc("The torus knot q")},output:{geometry:It.Geometry.desc("this particular geometry")},state:{geometry:It.Geometry.desc("this particular geometry")}},xt.shortNames={geometry:"geo",tubularSegments:"tSeg",radialSegments:"rSeg"};var Et=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._setGeo=function(){var e=a.props,t=e.width,n=e.height;a.state.geometry&&a.state.geometry.dispose(),a.state.geometry=new He.v(t,n)},a.onAddToGraph=function(){a._setGeo()},a.onInputChange=function(e){var t=!1;return["width","height"].forEach((function(n){n===e.toPort&&a.state.geometry.parameters[n]!==a.props[n]&&(a._setGeo(),t=!0)})),t?a.outKeys():[]},a.process=function(){return a.state},a}return Object(s.a)(t,e),t}(F);Et.displayName="Plane Geometry",Et.registryName="PlaneGeometryNode",Et.defaultProps={width:2,height:2},Et.description=g.a.createElement("span",null,"A plane (buffer) geometry, with most attributes encoded in buffers so that they are more efficiently transported to your GPU."),Et.schema={input:{width:jt.number.desc("The width of this plane"),height:jt.number.desc("The height of this plane")},output:{geometry:It.Geometry.desc("this particular geometry")},state:{geometry:It.Geometry.desc("this particular geometry")}},Et.shortNames={geometry:"geo"};var _t=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._setGeo=function(){var e=a.props,t=e.width,n=e.height,o=e.depth;a.state.geometry&&a.state.geometry.dispose(),a.state.geometry=new He.c(t,n,o)},a.onAddToGraph=function(){a._setGeo()},a.onInputChange=function(e){var t=!1;return["width","height","depth"].forEach((function(n){n===e.toPort&&a.state.geometry.parameters[n]!==a.props[n]&&(a._setGeo(),t=!0)})),t?a.outKeys():[]},a.process=function(){return a.state},a}return Object(s.a)(t,e),t}(F);_t.displayName="Box Geometry",_t.registryName="BoxGeometryNode",_t.defaultProps={width:1,height:1,depth:1},_t.description=g.a.createElement("span",null,"A box (buffer) geometry, with most attributes encoded in buffers so that they are more efficiently transported to your GPU."),_t.schema={input:{width:jt.number.desc("The width of this box"),height:jt.number.desc("The height of this box"),depth:jt.number.desc("The depth of this box")},output:{geometry:It.Geometry.desc("this particular geometry")},state:{geometry:It.Geometry.desc("this particular geometry")}},_t.shortNames={geometry:"geo"};var Nt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._setGeo=function(){var e=a.props,t=e.radius,n=e.widthSegments,o=e.heightSegments;a.state.geometry&&a.state.geometry.dispose(),a.state.geometry=new He.D(t,n,o)},a.onAddToGraph=function(){a._setGeo()},a.onInputChange=function(e){var t=!1;return["radius","widthSegments","heightSegments"].forEach((function(n){n===e.toPort&&a.state.geometry.parameters[n]!==a.props[n]&&(a._setGeo(),t=!0)})),t?a.outKeys():[]},a.process=function(){return a.state},a}return Object(s.a)(t,e),t}(F);Nt.displayName="Sphere Geometry",Nt.registryName="SphereGeometryNode",Nt.defaultProps={radius:1,widthSegments:8,heightSegments:6},Nt.description=g.a.createElement("span",null,"A sphere (buffer) geometry, with most attributes encoded in buffers so that they are more efficiently transported to your GPU."),Nt.schema={input:{radius:jt.number.desc("The radius of the sphere"),widthSegments:jt.number.desc("The number of segments along the geometry width"),heightSegments:jt.number.desc("The number of segments along the geometry height")},output:{geometry:It.Geometry.desc("this particular geometry")},state:{geometry:It.Geometry.desc("this particular geometry")}},Nt.shortNames={geometry:"geo",widthSegments:"wSeg",heightSegments:"hSeg"};var St=window.Types,kt={Color:St.number.aliased("Color","Hex color"),Material:St.object.aliased("Material","An abstract material, usually applied to geometries"),ShaderProgram:St.string.aliased("ShaderProgram",g.a.createElement("div",null,g.a.createElement("p",null,"An OpenGL compatible GLSL shader")))},Ct=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onAddToGraph=function(){a.state.material=new He.q({transparent:!1,color:a.props.color,wireframe:!1,size:.1})},a.onInputChange=function(e,t){if("color"===e.toPort){var n=e.inDataFor(t);"object"===typeof n&&"number"===typeof n.r?a.state.material.color.setRGB(n.r,n.g,n.b):a.state.material.color.setHex(e.inDataFor(t))}return[]},a.process=function(){return a.state},a}return Object(s.a)(t,e),t}(F);Ct.displayName="Lambert Material",Ct.registryName="LambertMaterialNode",Ct.defaultProps={color:tt.rgbToHex(28,5,9)},Ct.description=g.a.createElement("div",null,g.a.createElement("p",null,"A material for non-shiny surfaces, without specular highlights."),g.a.createElement("p",null,"The material uses a non-physically based Lambertian model for calculating reflectance. This can simulate some surfaces (such as untreated wood or stone) well, but cannot simulate shiny surfaces with specular highlights (such as varnished wood)."),g.a.createElement("p",null,"Shading is calculated using a Gouraud shading model. This calculates shading per vertex (i.e. in the vertex shader) and interpolates the results over the polygon's faces.")),Ct.schema={input:{color:kt.Color.desc("Color of this material")},output:{material:kt.Material.desc("The resulting material")},state:{material:kt.Material}},Ct.shortNames={material:"mat"};var Tt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onAddToGraph=function(){a.state.material=new He.x({color:a.props.color,size:.2,transparent:!0,blending:He.a})},a.onInputChange=function(e,t){if("color"===e.toPort){var n=e.inDataFor(t);"object"===typeof n&&"number"===typeof n.r?a.state.material.color.setRGB(n.r,n.g,n.b):a.state.material.color.setHex(e.inDataFor(t))}return[]},a.process=function(){return a.state},a}return Object(s.a)(t,e),t}(F);Tt.displayName="Particle Material",Tt.registryName="ParticleMaterialNode",Tt.defaultProps={color:tt.rgbToHex(28,5,9)},Tt.description=g.a.createElement("div",null,g.a.createElement("p",null,"A material of particles")),Tt.schema={input:{color:kt.Color.desc("Color of this material")},output:{material:kt.Material.desc("The resulting material")},state:{material:kt.Material}},Tt.shortNames={material:"mat"};var At=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._setMaterial=function(){a.state.material=new He.C({uniforms:et,vertexShader:Object(P.get)(a.props,"vertex"),fragmentShader:Object(P.get)(a.props,"fragment"),transparent:!0})},a.onAddToGraph=function(){a._setMaterial()},a.willReceiveProps=function(e,t){["vertex","fragment"].forEach((function(n){t&&e[n]===t[n]||(a.state.material["".concat(n,"Shader")]=e[n],a.state.material.needsUpdate=!0)})),["transparent"].forEach((function(n){t&&e[n]===t[n]||(a.state.material[n]=e[n],a.state.material.needsUpdate=!0)}))},a.process=function(){return a.state},a}return Object(s.a)(t,e),t}(F);At.displayName="Shader Material",At.registryName="ShaderMaterialNode",At.defaultProps={vertex:"void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragment:"void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}"},At.description=g.a.createElement("div",null,g.a.createElement("p",null,"A material rendered with custom shaders. A shader is a small program written in GLSL that runs on the GPU."),g.a.createElement("p",null,"You can use the directive #pragma unroll_loop in order to unroll a for loop in GLSL by the shader preprocessor. The directive has to be placed right above the loop. The loop should be formatted with the standard spec (normalized, var i, paren spacing)"),g.a.createElement("p",null,"Additionally, all shader materials will be subscribed to global uniforms: `u_mouse` (vec2), `u_time` (float), and `u_resolution` (vec2)")),At.schema={input:{vertex:kt.ShaderProgram.desc("Vertex shader for this shader material"),fragment:kt.ShaderProgram.desc("Fragment shader for this shader material"),transparent:St.boolean.desc("Whether or not this material responds to an alpha component")},output:{material:kt.Material.desc("The resulting material")},state:{material:kt.Material}},At.shortNames={material:"mat",transparent:"transp"};var Dt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._loaded={},a.onInputChange=function(){var e=a.props,t=e.url,n=e.name;if(t&&!a._loaded[t]){var o=new He.E;a._loaded[t]=o.load(t)}return n&&!et[n]&&a._loaded[t]&&(et[n]={type:"t",value:a._loaded[t]}),[]},a}return Object(s.a)(t,e),t}(F);Dt.displayName="Load Texture",Dt.registryName="LoadTextureNode",Dt.description=g.a.createElement("p",null,"Load a texture into the global uniform set"),Dt.schema={input:{url:St.string.desc("The url to fetch this texture at"),name:St.string.desc("The name to export this sampler2D as")},output:{},state:{}};var Rt=window.Types,Mt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._map={},a.process=function(){return{result:1===Object(P.uniq)(a.inputs.map((function(e){return a._map[e.id]}))).length}},a.onInputChange=function(e,t){return a._map[e.id]=e.inDataFor(t),a.outKeys()},a}return Object(s.a)(t,e),t}(F);Mt.displayName="Equals",Mt.registryName="EqualsNode",Mt.description=g.a.createElement("span",null,"Strict equals operator"),Mt.schema={input:{input:Rt.any.desc("Any set of members to perform strict equals over")},output:{result:Rt.number.desc("Logical equals over inputs")},state:{}};var Lt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._map={},a.process=function(){return{result:a.inputs.reduce((function(e,t){return e&&a._map[t.id]}),!0)}},a.onInputChange=function(e,t){return a._map[e.id]=e.inDataFor(t),a.outKeys()},a}return Object(s.a)(t,e),t}(F);Lt.displayName="AND",Lt.registryName="AndNode",Lt.description=g.a.createElement("span",null,"Logical AND over inputs"),Lt.schema={input:{input:Rt.any.desc("Any set of members to logical `AND` over")},output:{result:Rt.number.desc("Logical and of inputs")},state:{}};var Kt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._map={},a.process=function(){return{result:a.inputs.reduce((function(e,t){return e||a._map[t.id]}),!1)}},a.onInputChange=function(e,t){return a._map[e.id]=e.inDataFor(t),a.outKeys()},a}return Object(s.a)(t,e),t}(F);Kt.displayName="OR",Kt.registryName="OrNode",Kt.description=g.a.createElement("span",null,"Logical OR over inputs"),Kt.schema={input:{input:Rt.any.desc("Any set of members to logical `OR` over")},output:{result:Rt.number.desc("Logical OR of inputs")},state:{}};var zt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return{result:!a.props.in}},a.onInputChange=function(e,t){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);zt.displayName="Not",zt.registryName="NotNode",zt.description=g.a.createElement("span",null,"logical not"),zt.schema={input:{in:Rt.any.desc("anything. negation follows regular js semantics")},output:{result:Rt.boolean},state:{}};var Ft=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).requireForOutput=function(){return"undefined"!==typeof a.props.value&&"undefined"!==typeof a.props.not},a.process=function(){return{result:Object(P.isEqual)(a.props.value,a.props.not)?a.props.else:a.props.value}},a.onInputChange=function(){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);function Gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}Ft.displayName="Switch",Ft.registryName="SwitchNode",Ft.description=g.a.createElement("span",null,"An If-Else switch on value equality"),Ft.schema={input:{value:Rt.any.desc("Any value, as input to the switch"),not:Rt.any.desc("Any value to use to compare the input to"),else:Rt.any.desc("Any value to return if not logically equal")},output:{result:Rt.any.desc("Result of the switch")},state:{}};var Vt=window.Types,Bt={Geometry:Vt.object.aliased("Geometry","An abstract geometry that describes verticies in space"),Material:Vt.object.aliased("Material","An abstract material, usually applied to geometries"),Mesh:Vt.object.aliased("Mesh","A mesh that can be added to a scene and rendered")},qt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).willBecomeLive=function(){var e=a.props,t=e.geometry,n=e.material;a.state.mesh=new He.p(t,n),a.notifyAllOutputs(!0)},a.onAddToGraph=function(){a.state.mesh=new He.p},a.onInputChange=function(e,t){if("rotation"===e.toPort){var n=a.props.rotation;a.state.mesh.rotation.x=n.x,a.state.mesh.rotation.y=n.y}if("scale"===e.toPort){var o=a.props.scale;a.state.mesh.scale.x=o.x,a.state.mesh.scale.y=o.y,a.state.mesh.scale.z=o.z}if("material"===e.toPort){var r=e.inDataFor(t);Object(P.get)(r.id)!==Object(P.get)(a.state.mesh,"material.id")&&(a.state.mesh.material&&a.state.mesh.material.dispose(),a.state.mesh.material=r)}if("geometry"===e.toPort){var c=e.inDataFor(t);Object(P.get)(c.id)!==Object(P.get)(a.state.mesh,"geometry.id")&&(a.state.mesh.geometry&&a.state.mesh.geometry.dispose(),a.state.mesh.geometry=c)}return a.outKeys()},a.process=function(){return a.state},a}return Object(s.a)(t,e),t}(F);qt.displayName="Mesh",qt.registryName="MeshNode",qt.description=g.a.createElement("span",null,"A WebGL mesh"),qt.schema={input:{geometry:Bt.Geometry.desc("The geometry to use with this mesh"),material:Bt.Material.desc("This mesh's material"),rotation:Vt.Vec2.desc("The rotation of this mesh node, in radians"),scale:Vt.Vec3.desc("The scale of this mesh node")},output:{mesh:Bt.Mesh.desc("The resulting Mesh")},state:{mesh:Vt.object}},qt.shortNames={material:"mat",geometry:"geo",rotation:"rot"};var Ut=[He.m,He.w].map((function(e){var t,a;return a=t=function(t){function a(){var t,n;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(n=Object(c.a)(this,(t=Object(i.a)(a)).call.apply(t,[this].concat(s)))).willBecomeLive=function(){var t=n.props,a=t.geometry,o=t.material;n.state.mesh=new e(a,o),n.notifyAllOutputs(!0)},n.onAddToGraph=function(){n.state.mesh=new e},n}return Object(s.a)(a,t),a}(qt),t.displayName=e.name,t.registryName="".concat(e.name,"Node"),t.description=g.a.createElement("span",null,"A WebGL ",e.name),t.schema=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gt(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},qt.schema,{output:{mesh:Bt.Mesh.desc("The resulting ".concat(e.name," object"))}}),a})),Wt=Object(he.a)(Ut,2),Ht=Wt[0],Jt=Wt[1],Yt=window.Types,Xt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._loaded=!1,a.available=[],a.midi=null,a.loadAll=Object(Pe.a)(Oe.a.mark((function e(){var t,n;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.navigator,e.next=4,t.requestMIDIAccess();case 4:n=e.sent,a._loaded=!0,n.outputs.forEach((function(e){return a.available.push(e)})),a.available.length>0&&a._setMidi(a.available[0].id),a.notifyAllOutputs(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),a._loaded=!0,console.log("no midi devices found");case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),a._setMidi=function(e){a.midi=a.available.find((function(t){return t.id===e||t.name===e}))||a.midi,a.midi&&console.log("connected to midi out",a.midi.name),a.notifyAllOutputs()},a.onAddToGraph=function(){a.loadAll()},a.willReceiveProps=function(e,t){if(e.id&&(!t||e.id!==t.id)){var n=String(e.id);a._loaded?a._setMidi(n):a.loadAll().then((function(){a._setMidi(n)}))}},a.process=function(){return{device:a.midi}},a.onInputChange=function(e,t){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);Xt.displayName="Midi Out",Xt.registryName="MidiOutNode",Xt.description=g.a.createElement("span",null,"A midi output device. If no id / name are provided, the first midi device found will be used"),Xt.schema={input:{id:Yt.string.desc("The midi out device id *or* name. The first matching one will be used in the case of collisions")},output:{device:Yt.object.desc("The midi output, or none if none were found")},state:{}};var Qt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._loaded=!1,a.available=[],a.midi=null,a.loadAll=Object(Pe.a)(Oe.a.mark((function e(){var t,n;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.navigator,e.next=4,t.requestMIDIAccess();case 4:n=e.sent,a._loaded=!0,n.inputs.forEach((function(e){return a.available.push(e)})),a.available.length>0&&(a.midi=a.available[0]),a.notifyAllOutputs(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),a._loaded=!0,console.log("no midi devices found");case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),a._setMidi=function(e){a.midi=a.available.find((function(t){return t.id===e||t.name===e}))||a.midi,a.notifyAllOutputs()},a.onAddToGraph=function(){a.loadAll()},a.willReceiveProps=function(e,t){if(e.id&&(!t||e.id!==t.id)){var n=String(e.id);a._loaded?a._setMidi(n):a.loadAll().then((function(){a._setMidi(n)}))}},a.process=function(){return{device:a.midi}},a.onInputChange=function(e,t){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);Qt.displayName="Midi In",Qt.registryName="MidiInNode",Qt.description=g.a.createElement("span",null,"A midi input device. If no id / name are provided, the first midi device found will be used"),Qt.schema={input:{id:Yt.string.desc("The midi in device id *or* name. The first matching one will be used in the case of collisions")},output:{device:Yt.object.desc("The midi input, or none if none were found")},state:{}};var $t=a(37),Zt=window.Types,ea=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return{anything:a.props.anything}},a.onInputChange=function(e,t){return console.log(e.from.constructor.displayName,e.fromPort,e.inDataFor(t)),a.outKeys()},a}return Object(s.a)(t,e),t}(F);ea.displayName="InfoLog",ea.registryName="InfoLog",ea.description=g.a.createElement("span",null,"Log any inputs as they come to console info"),ea.schema={input:{anything:Zt.any.desc("Anything you would like to log")},output:{anything:Zt.any.desc("The input, passed through")},state:{}};var ta=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return{out:a.props.in?JSON.parse(a.props.in):{}}},a.onInputChange=function(){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);ta.displayName="JSON Parse",ta.registryName="JSONParse",ta.description=g.a.createElement("span",null,"Parse a string into an object"),ta.schema={input:{in:Zt.string.desc("String serialization")},output:{out:Zt.object.desc("Parsed object")},state:{}};var aa=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return{out:Object(P.get)(a.props.from,a.props.get||"")}},a.onInputChange=function(){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);aa.displayName="Extract",aa.registryName="ExtractNode",aa.description=g.a.createElement("span",null,"Extract a value from an object. Complement of SetNode"),aa.schema={input:{from:Zt.object.desc("Object to extract from"),get:Zt.string.desc(g.a.createElement("span",null,"The key to get. You can traverse an object with dot notation, i.e. ",g.a.createElement("code",null,"foo.bar")))},output:{out:Zt.any.desc(g.a.createElement("span",null,"The extracted value, or ",g.a.createElement("code",null,"undefined")))},state:{}};var na=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return{out:a._val}},a.onInputChange=function(){return a._val=Object(P.set)(a.props.target,a.props.path||"",a.props.value),a.outKeys()},a}return Object(s.a)(t,e),t}(F);na.displayName="Set Value",na.registryName="SetNode",na.description=g.a.createElement("span",null,"Set a value on any object / array. Complement of ExtractNode"),na.schema={input:{target:Zt.object.desc("Object / array to set to"),path:Zt.string.desc(g.a.createElement("span",null,"The path to set at. You can use dot notation, i.e. ",g.a.createElement("code",null,"foo.bar"))),value:Zt.any.desc("The value to set at path.")},output:{out:Zt.any.desc(g.a.createElement("span",null,"The extracted value, or ",g.a.createElement("code",null,"undefined")))},state:{}};var oa=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).currentState=[],a.willReceiveProps=function(e,n){if(n&&e.rule===n.rule||(a.transitions=t.toBin8(e.rule)),!n||e.initialState!==n.initialState){var o=e.initialState;Array.isArray(o)?a.currentState=o.map((function(e){return parseInt(e)})):"string"===typeof o&&(a.currentState=o.split("").map((function(e){return parseInt(e)})))}},a.onInputChange=function(e,t){if("call"===e.toPort&&e.inDataFor(t)){var n=a.props.rule,o=a.currentState;o&&Array.isArray(o)&&"number"===typeof n&&(a.currentState=o.map((function(e,t){var n=((t-1)%o.length+o.length)%o.length,r=(t+1)%o.length,c=(1==o[n]?4:0)+(1==e?2:0)+(1==o[r]?1:0);return a.transitions[c]})),a.notifyAllOutputs(!0))}return[]},a.process=function(){return{out:a.currentState}},a}return Object(s.a)(t,e),Object(r.a)(t,null,[{key:"toBin8",value:function(e){var t=Object($t.a)(e.toString(2)).map((function(e){return parseInt(e,10)}));return t.length<8&&t.unshift.apply(t,Object($t.a)(Object($t.a)(new Array(8-t.length)).map((function(){return 0})))),Object(P.reverse)(t)}}]),t}(F);oa.displayName="Stephen Wolfram",oa.registryName="StephenWolfram",oa.description=g.a.createElement("span",null,"Stephen Wolfram is an operator that, when given a 1D cellular automata rule number [0-255] and a binary representation of the world, outputs the subsequent state of the world according to that rule. He can do this indefinitely and is, in fact, Earth's first eternal human."),oa.schema={input:{rule:Zt.number.desc("The rule number. Given a binary state and two neighbors (2^3 states), a transition rule set can be encoded with a binary number with each digit slot representing the next state of that configuration (2^(2^3) rule sets)."),initialState:Zt.any.desc("He doesn't know or care where it comes from, but Wolfram needs an initial state in order to operate. His world is probably circular, so the first index and last index are assumed to be neighbors for rule application. Both binary strings and binary arrays are acceptable."),call:U.Call},output:{out:G(Zt.number).desc("The resulting binary array")},state:{}};var ra=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).memory=[],a.process=function(){return{out:a.memory}},a.onInputChange=function(e,t){if("value"===e.toPort){var n=e.inDataFor(t);if(n){var o=a.props.capacity;"number"===typeof o&&a.memory.length>=o&&a.memory.shift(),a.memory.push(n),a.notifyAllOutputs(!0)}}return[]},a}return Object(s.a)(t,e),t}(F);ra.displayName="Collect",ra.registryName="HistoryNode",ra.description=g.a.createElement("span",null,"Buffer values from an input stream. If memory capacity is reached, oldest values are purged first"),ra.schema={input:{capacity:Zt.number.desc("The max number of elements to keep. Omitting this means no limit"),value:Zt.any.desc("Any value. This will be pushed into the output collector")},output:{out:G(Zt.any).desc("The collected queue, oldest to newest.")},state:{}};var ca=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return{out:(a.props.array||[]).join(a.props.separator||"")}},a.onInputChange=function(){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);ca.displayName="Join",ca.registryName="JoinNode",ca.description=g.a.createElement("span",null,"Join an array of values together with a separator"),ca.schema={input:{array:Zt.object.desc("Array of any data. Ideally this data is string serializable."),separator:Zt.string.desc("Separator string to join elements together with")},output:{out:Zt.string.desc("The joined array, as a string")},state:{}};var ia=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).willReceiveProps=function(e,t){if(!t||e.regex!==t.regex&&e.regex){var n=e.regex.match(/\/(.+)\/(\w*)/);if(n){var o=Object(he.a)(n,3),r=(o[0],o[1]),c=o[2];a.re=new RegExp(r,c)}else a.re=new RegExp(e.regex)}},a.requireForOutput=function(){return Boolean(a.re&&a.props.string&&["string","number"].includes(typeof a.props.replacement))},a.process=function(){return{out:a.props.string.replace(a.re,a.props.replacement)}},a.onInputChange=function(e,t){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);ia.displayName="Regex Replace",ia.registryName="RegexReplace",ia.description=g.a.createElement("span",null,"Replace a regex match with something else"),ia.schema={input:{string:Zt.string.desc("The string over which to perform the replace"),regex:Zt.string.desc("the regexp"),replacement:Zt.string.desc("The string to replace matches with")},output:{out:Zt.string.desc("The joined array, as a string")},state:{}};var sa=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return{out:Object($t.a)(new Array(a.props.length||0)).map((function(){return a.props.fillWith}))}},a.onInputChange=function(){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);sa.displayName="Array Fill",sa.registryName="ArrayFillNode",sa.description=g.a.createElement("span",null,"Create an array filled with a value"),sa.schema={input:{length:Zt.number.desc("The length of this array"),fillWith:Zt.any.desc("The value to fill with")},output:{out:G(Zt.any).desc("An array, filled to length by value")},state:{}};var da=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._count=0,a.process=function(){return{count:a._count++}},a.onInputChange=function(){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);da.displayName="Count Source",da.registryName="CountSourceNode",da.description=g.a.createElement("span",null,"Create an array filled with a value"),da.schema={input:{},output:{count:Zt.number.desc("The output count")},state:{}};var la=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).requireForOutput=function(){return a.inputs.length>=2},a.process=function(){return{zipped:a.forAllConnectedInputs((function(e,t){return t}))}},a.onInputChange=function(){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);la.displayName="Zip",la.registryName="ZipItemsNode",la.description=g.a.createElement("span",null,"Zip elements from an input stream"),la.schema={input:{arg1:Zt.any.desc("Any object to zip"),arg2:Zt.any.desc("Any object to zip"),arg3:Zt.any.desc("Any object to zip"),arg4:Zt.any.desc("Any object to zip")},output:{zipped:G(Zt.any).desc("The zipped object")},state:{}};var ua=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return{output:a.props.input}},a.onInputChange=function(){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);ua.displayName="Null",ua.registryName="NullNode",ua.description=g.a.createElement("span",null,"A passthrough node. Useful to name streams or to organize edges"),ua.schema={input:{input:Zt.any.desc("Any input. Will be passed directly to output")},output:{output:Zt.any.desc("The input, passed through")},state:{}};var fa=window.Types,ba=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onInputChange=function(){return a.state.value=a.props,a.outKeys()},a.process=function(){return{out:a.state.value}},a}return Object(s.a)(t,e),t}(F);ba.displayName="Vector 2D",ba.registryName="Vector2D",ba.description=g.a.createElement("span",null,"A two dimensional vector with keys ",g.a.createElement("code",null,"x")," and ",g.a.createElement("code",null,"y")),ba.schema={input:{x:fa.number,y:fa.number},output:{out:fa.Vec2},state:{value:fa.Vec2}};var pa=window.Types,ma=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onInputChange=function(){return a.state.value=a.props,a.outKeys()},a.process=function(){return{out:a.state.value}},a}return Object(s.a)(t,e),t}(F);ma.displayName="Vector 3D",ma.registryName="Vector3D",ma.description=g.a.createElement("span",null,"A two dimensional vector with ",g.a.createElement("code",null,"x")," ",g.a.createElement("code",null,"y")," and ",g.a.createElement("code",null,"z")," components"),ma.schema={input:{x:pa.number,y:pa.number,z:pa.number},output:{out:pa.Vec3},state:{value:pa.Vec3}};var ha=window.Types,ya=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).inserted=!1,a._ensureExist=function(){a.inserted||(a.domNode=document.createElement("div"),a.props.style&&a.domNode.setAttribute("style",a.props.style),setTimeout((function(){return a._tryInsert()}),20))},a._tryInsert=function(){if(!a.inserted){var e=document.getElementById("graph-root"),t=document.getElementById("graph-scalable");e&&t&&(a.inserted=Boolean(e.insertBefore(a.domNode,t))),a.inserted||setTimeout((function(){return a._tryInsert()}),20)}},a.willReceiveProps=function(e,t){a._ensureExist(),t&&e.text===t.text||(a.domNode.innerText=e.text),t&&e.html===t.html||(a.domNode.innerHTML=e.html),t&&e.style===t.style||a.domNode.setAttribute("style",e.style)},a.process=function(){return null},a}return Object(s.a)(t,e),t}(F);ya.displayName="HTML Element",ya.registryName="DomNode",ya.description=g.a.createElement("span",null,"A node that renders HTML to the screen"),ya.defaultProps={html:""},ya.schema={input:{html:ha.string.desc("The html for this element"),text:ha.string.desc("The inner text of this element"),style:ha.string.desc("The style attribute for this node")},output:{},state:{}};var ga=window.Types,va=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return{out:a.props.left+a.props.right}},a}return Object(s.a)(t,e),t}(F);va.displayName="Plus",va.registryName="PlusNode",va.description=g.a.createElement("span",null,"A plus operator. Usable with both strings and numbers."),va.schema={input:{left:ga.any.desc("left hand side"),right:ga.any.desc("right hand side")},output:{out:ga.any.desc("The result")},state:{}};var Oa=a(60),Pa=a(133),ja=a(34),Ia=a(26),wa=window.Types,xa={Note:wa.string.aliased("Note","Note encoding, can be something like A4, a midi index, or a raw frequency in Hz"),Interval:wa.string.aliased("Interval","Natural interval name, e.g. 1P, 2M, 3M, 4P, 5P, 6m, 7m"),Scale:wa.string.aliased("ScaleName",g.a.createElement("div",null,g.a.createElement("p",null,"One of:"),g.a.createElement("p",{style:{display:"flex",flexWrap:"wrap"}},Oa.b.names().map((function(e){return g.a.createElement("span",{style:{marginRight:4,marginBottom:6},key:e},g.a.createElement("code",null,e)," ")}))))),Chord:wa.string.aliased("ChordName",g.a.createElement("div",null,g.a.createElement("p",null,"One of:"),g.a.createElement("p",{style:{display:"flex",flexWrap:"wrap"}},Oa.a.names().map((function(e){return g.a.createElement("span",{style:{marginRight:4,marginBottom:6},key:e},g.a.createElement("code",null,e)," ")})))))},Ea=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return Object(P.get)(a.props,"tonic")?{notes:Oa.b.notes(a.props.tonic,a.props.name),intervals:Oa.b.intervals(a.props.name||a.props.tonic)}:{notes:[],intervals:[]}},a.onInputChange=function(){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);Ea.displayName="Music Scale",Ea.registryName="ScaleNode",Ea.description=g.a.createElement("span",null,"A Musical scale"),Ea.schema={input:{tonic:wa.string.desc('The tonic for this scale, e.g. "C" or "Ab4". You can optionally specify the scale name here too, and omit the name input, e.g. "C minor pentatonic" See the name param info for possible scale names.'),name:xa.Scale.desc("The name of the scale. Check type for possible values")},output:{notes:G(xa.Note).desc("The notes in this scale"),intervals:G(xa.Interval).desc("The intervals between notes in this scale")},state:{}};var _a=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return Object(P.get)(a.props,"tonic")?{notes:Oa.a.notes(a.props.tonic,a.props.name),intervals:Oa.a.intervals(a.props.name||a.props.tonic)}:{notes:[],intervals:[]}},a.onInputChange=function(){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);_a.displayName="Music Chord",_a.registryName="ChordNode",_a.description=g.a.createElement("span",null,"A Chord"),_a.schema={input:{tonic:wa.string.desc('The tonic for this scale, e.g. "C" or "Ab4". You can optionally specify the chord name here too, and omit the name input, e.g. "E Maj7" See the name param info for recognized chord names.'),name:xa.Chord.desc("The name of the chord. Check type for possible values")},output:{notes:G(xa.Note).desc("The notes in this chord"),intervals:G(xa.Interval).desc("The intervals between notes in this chord")},state:{}};var Na=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return Object(P.get)(a.props,"key")?{notes:Pa.a(a.props.key)}:{notes:[]}},a.onInputChange=function(e,t){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);Na.displayName="Key Triads",Na.registryName="KeyTriadsNode",Na.description=g.a.createElement("span",null,"Triads For a Key"),Na.schema={input:{key:wa.string.desc("The name of the key (a tonic + a mode), e.g. C major, Db dorian")},output:{notes:G(xa.Note).desc("Triad lead-sheet symbols for this key")},state:{}};var Sa=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return a.props.note&&a.props.interval?{out:Object(Ia.d)(a.props.note,a.props.interval)}:{out:void 0}},a.onInputChange=function(e,t){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);Sa.displayName="Transpose",Sa.registryName="TransposeNode",Sa.description=g.a.createElement("span",null,"Transpose a note by an interval. e.g. transpose(A4, M3) -> C#5 "),Sa.schema={input:{note:wa.string.desc("The note to transpose. This can be abstract or a concrete pitch, i.e. C or C4"),interval:wa.string.desc("The interval to transpose by, e.g. P5 or M3")},output:{out:wa.string.desc("The note, transposed by the interval")},state:{}};var ka=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return Object(P.get)(a.props,"notes")&&Array.isArray(a.props.notes)?{chroma:Object(ja.a)(a.props.notes).split("").map((function(e){return parseInt(e)}))}:{chroma:[]}},a.onInputChange=function(e,t){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);ka.displayName="Scale Chroma",ka.registryName="ChromaNode",ka.description=g.a.createElement("span",null,"A chroma representation of a pitchset as a 12-digit binary array, with each index presenting one semitone of the octave"),ka.schema={input:{notes:G(xa.Note).desc("A list of notes to compute a chroma for")},output:{chroma:G(wa.number).desc("the chroma output: 12-digit binary array, with each index presenting one semitone of the octave")},state:{}};var Ca=window.Types,Ta=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).process=function(){return{result:a.props.dividend/a.props.divisor,int:parseInt(a.props.dividend/a.props.divisor,10)}},a.onInputChange=function(){return a.props.dividend&&a.props.divisor?a.outKeys():[]},a}return Object(s.a)(t,e),t}(F);Ta.displayName="Divide",Ta.registryName="DivideNode",Ta.defaultProps={dividend:0,divisor:1},Ta.description=g.a.createElement("span",null,"Divide one number by another"),Ta.schema={input:{dividend:Ca.number,divisor:Ca.number},output:{result:Ca.number,int:Ca.number},state:{}};var Aa=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._map={},a.process=function(){return{result:a.inputs.reduce((function(e,t){return e+a._map[t.id]||0}),0)}},a.onInputChange=function(e,t){return a._map[e.id]=e.inDataFor(t),a.outKeys()},a}return Object(s.a)(t,e),t}(F);Aa.displayName="Sum",Aa.registryName="SumNode",Aa.description=g.a.createElement("span",null,"Sum across numbers"),Aa.schema={input:{numbers:Ca.number.desc("All numbers to add together")},output:{result:Ca.number.desc("Sum")},state:{}};var Da=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._map={},a.process=function(){return{result:a.inputs.reduce((function(e,t){return e*a._map[t.id]||0}),1)}},a.onInputChange=function(e,t){return a._map[e.id]=e.inDataFor(t),a.outKeys()},a}return Object(s.a)(t,e),t}(F);Da.displayName="Product",Da.registryName="ProductNode",Da.description=g.a.createElement("span",null,"Multiply over numbers"),Da.schema={input:{numbers:Ca.number.desc("All numbers to multiply together")},output:{result:Ca.number.desc("Product")},state:{}};var Ra=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).requireForOutput=function(){return(a.props.in||"number"===typeof a.props.in)&&"string"===typeof a.props.fn},a.process=function(){return{result:Math[a.props.fn].apply(null,Array.isArray(a.props.in)?a.props.in:[a.props.in])}},a.onInputChange=function(e,t){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);function Ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function La(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ma(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ma(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}Ra.displayName="Math: Int -> Int",Ra.registryName="IntToIntMathNode",Ra.description=g.a.createElement("div",null,"Admittedly a node borne of laziness -- given a standard js math package operation name, this node performs that operation. Constants are included. Full signature list in MathFnIntInt help. For non unary functions like ",g.a.createElement("code",null,"min"),", an array argument can be spread into the args."),Ra.schema={input:{fn:Ca.string.aliased("MathFn",g.a.createElement("div",null,g.a.createElement("p",null,"Signatures for the available functions"),g.a.createElement("p",null,"E: number; LN10: number; LN2: number; LOG10E: number; LOG2E: number; PI: number; SQRT1_2: number; SQRT2: number; abs(x: number): number; acos(x: number): number; acosh(x: number): number; asin(x: number): number; asinh(x: number): number; atan(x: number): number; atan2(y: number, x: number): number; atanh(x: number): number; cbrt(x: number): number; ceil(x: number): number; cos(x: number): number; cosh(x: number): number; exp(x: number): number; expm1(x: number): number; floor(x: number): number; fround(x: number): number; log(x: number): number; log10(x: number): number; log1p(x: number): number; log2(x: number): number; pow(x: number, y: number): number; random(): number; round(x: number): number; sign(x: number): number; sin(x: number): number; sinh(x: number): number; sqrt(x: number): number; tan(x: number): number; tanh(x: number): number; trunc(x: number): number; max(...args: number[]); min(...args: number[])"))).desc("The function name. Check type info for options"),in:Ca.number},output:{result:Ca.number},state:{}};var Ka=window.Types,za={Program:Ka.object.aliased("GPGPUProgram","An uncompiled GPGPU program")},Fa=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._varNames=[],a.updateProgram=function(e){e.variableNames&&(Array.isArray(e.variableNames)?a._varNames=e.variableNames:"string"!==typeof e.variableNames||a._varNames.includes(e.variableNames)||a._varNames.push(e.variableNames))},a.process=function(){return{program:La({},a.props,{variableNames:a._varNames})}},a.onInputChange=function(e,t){return a.updateProgram(t),a.outKeys()},a}return Object(s.a)(t,e),t}(F);Fa.displayName="GPGPU Program",Fa.registryName="GPGPUProgram",Fa.defaultProps={variableNames:[],outputShape:[],userCode:""},Fa.shortNames={variableNames:"varNames",outputShape:"outShape"},Fa.description=g.a.createElement("span",null,"Define a GPGPU program to be run on your machine's compatible backend"),Fa.schema={input:{userCode:Ka.string.desc(g.a.createElement("p",null,"Your user code for the kernel to be uploaded to your graphics hardware. Syntax is specific to your backend, but a good strategy is conforming to the OpenGL/WebGL standards that most GPUs will support. In order to set an output to your kernel call"," ",g.a.createElement("code",null,"setOutput")," in your kernel's main function. To get the output coords in your computation call ",g.a.createElement("code",null,"getOutputCoords"),".")).aliased("GPGPUKernel","An open frameworks compliant shader program"),outputShape:G(Ka.number).desc(g.a.createElement("p",null,"A tensor shape describing the kernel output, e.g. ",g.a.createElement("code",null,"[100, 100]"),". if omitted, output shape is assumed to be the same as the input shape")),variableNames:G(Ka.string).desc(g.a.createElement("p",null,"A list of variable names that your kernel will use. This gives you access to functions inside your program kernel. i.e. variable named ",g.a.createElement("code",null,"X")," gives you the methods"," ",g.a.createElement("code",null,"getXAtOutCoords")," and ",g.a.createElement("code",null,"getX")))},output:{program:za.Program.desc('Program info output. Use the "Run GPGPU" node to compile and run this over inputs')},state:{}};var Ga=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._inputQ=[],a.process=function(){return{result:a._result}},a.requireForOutput=function(){return a.props.program&&a.props.program.userCode&&Boolean(a.props.input)},a._processQ=Object(Pe.a)(Oe.a.mark((function e(){var t,n,o;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.program,a.requireForOutput()){e.next=3;break}return e.abrupt("return");case 3:n=a._inputQ.pop();case 4:if(!n){e.next=21;break}return o=je.i(n),t&&0===t.outputShape.length&&(t.outputShape=o.shape.slice()),e.prev=7,e.next=10,je.a().compileAndRun(t,[o]).data();case 10:a._result=e.sent,a.notifyAllOutputs(!0),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),console.error(e.t0);case 17:o.dispose(),n=a._inputQ.pop(),e.next=4;break;case 21:case"end":return e.stop()}}),e,null,[[7,14]])}))),a.onInputChange=function(e,t){return"input"===e.toPort&&(a._inputQ.push(a.props.input),a._processQ()),[]},a}return Object(s.a)(t,e),t}(F);Ga.displayName="Run GPGPU",Ga.registryName="RunGPGPUProgram",Ga.description=g.a.createElement("span",null,"Compile and run a GPGPU program. Kernels passed in will be compiled and cached, so that subsequent calls to kernels will not create new binaries."),Ga.schema={input:{program:za.Program.desc("The uncompiled program info to be turned into a full WebGL shader"),input:G(Ka.any).desc("The input tensor to run through the compiled program kernel")},output:{result:G(Ka.any).desc("Program output")},state:{}};var Va=window.Types,Ba=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).make=function(){return window.Function('"use strict";\nconst arg1 = this.arg1;\nconst arg2 = this.arg2;\nconst arg3 = this.arg3;\nconst arg4 = this.arg4;\nconst arg5 = this.arg5;\n'.concat(a.props.userCode)).bind(a.props)},a.requireForOutput=function(){return Boolean(a.props.userCode)},a.process=function(){var e,t=a.make();try{e=t()}catch(n){return{error:{error:n,fn:t},return:void 0}}return{return:e,error:void 0}},a.onInputChange=function(e,t){return a.outKeys()},a}return Object(s.a)(t,e),t}(F);Ba.displayName="JavaScript",Ba.defaultProps={userCode:""},Ba.registryName="JSCodeNode",Ba.description=g.a.createElement("span",null,"Define arbitrary JS code in this node. Runtime compatibility is based on your browser"),Ba.schema={input:{userCode:Va.string.aliased("JSFunction",g.a.createElement("div",null,"A valid JS code block. You should call ",g.a.createElement("code",null,"return")," at the end of your function to provide an output.")).desc(g.a.createElement("p",null,"A JS code block that returns something over the inputs. You can reference variables by input name, e.g. ",g.a.createElement("code",null,"arg1"))),arg1:Va.any.desc(g.a.createElement("p",null,"Any arg to supply to the user code block, accessible via ",g.a.createElement("code",null,"arg1"))),arg2:Va.any.desc(g.a.createElement("p",null,"Any arg to supply to the user code block, accessible via ",g.a.createElement("code",null,"arg2"))),arg3:Va.any.desc(g.a.createElement("p",null,"Any arg to supply to the user code block, accessible via ",g.a.createElement("code",null,"arg3"))),arg4:Va.any.desc(g.a.createElement("p",null,"Any arg to supply to the user code block, accessible via ",g.a.createElement("code",null,"arg4"))),arg5:Va.any.desc(g.a.createElement("p",null,"Any arg to supply to the user code block, accessible via ",g.a.createElement("code",null,"arg5")))},output:{return:Va.any.desc("Whatever was returned in the userCode block"),error:Va.any.desc("If the user code errored, this is the exception and function")},state:{}};var qa=window.Types,Ua=["number","string","boolean","date"].map((function(e){return qa[e]})).map((function(e){var t,a;return a=t=function(t){function a(){var t,n;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(n=Object(c.a)(this,(t=Object(i.a)(a)).call.apply(t,[this].concat(s)))).process=function(){return{out:e.serialize?e.serialize(n.state.value):n.state.value}},n}return Object(s.a)(a,t),a}(F),t.defaultState={value:e.defaultValue},t.displayName=e.name,t.registryName=e.name,t.isPrimitive=!0,t.schema={input:{},output:{out:e},state:{value:e}},a})),Wa=Object(he.a)(Ua,4),Ha=Wa[0],Ja=Wa[1],Ya=Wa[2],Xa=Wa[3],Qa=[ba,qt,Jt,Ht,xt,Et,Nt,_t,wt,Ct,At,Tt,Dt,bt,le,de,ne,J,X,ee,te,ae,Be,Ue,re,se,be,fe,H,W,Y,ue,ie,$,Z,oe,Q,ce,pe,Fe,Ge,Ta,Aa,Da,Ra,ht,mt,pt,yt,vt,Ot,gt,Pt,ma,Lt,Kt,zt,Mt,Ft,Ae,Re,De,ea,Ea,ka,_a,Sa,Na,Xt,Qt,ta,aa,na,oa,ra,ca,ia,sa,da,la,ua,ya,va,Fa,Ga,Ba,Ha,Ja,Ya,Xa];window.allNodes=Qa;var $a=Object(P.fromPairs)(Qa.map((function(e){return[e.getRegistryName(),e]})));if(Object.keys($a).length!==Qa.length)throw new Error("duplicate node by registryName in node registry");window.NodeRegistry=$a,window.Tone=l.a,window.$debug=!0;var Za=a(33),en=a(114),tn=a(135),an=a(48),nn=a(51),on=a(129),rn=(a(198),a(199),a(200),a(201),a(47)),cn=a.n(rn),sn=a(83),dn=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={hover:!1},a.onMouseUp=function(e){e.stopPropagation(),a.props.onMouseUp(a.props.index)},a.onMouseOver=function(){return a.setState({hover:!0})},a.onMouseOut=function(){return a.setState({hover:!1})},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.hover,t=this.props,a=t.filled,n=t.item,o=e?" hover":a?" connected-node":"";return g.a.createElement("li",{onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onMouseUp:this.onMouseUp},g.a.createElement("span",{className:"input-text".concat(o)},g.a.createElement("i",{className:"fa ".concat("fa-circle")}),n))}}]),t}(g.a.PureComponent),ln=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onMouseUp=function(e){a.props.onCompleteConnector(e)},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.items,n=t.connected,o=t.display;return g.a.createElement("div",{className:"nodeInputWrapper"},g.a.createElement("ul",{className:"nodeInputList"},a.map((function(t,a){return g.a.createElement(dn,{onMouseUp:e.onMouseUp,key:"item-".concat(a),index:a,item:o[a],filled:n.includes(t)})}))))}}]),t}(g.a.PureComponent),un=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onMouseDown=function(e,t){e.stopPropagation(),e.preventDefault(),a.props.onMouseDown(a.props.index,e,t)},a.onClick=function(e){e.stopPropagation(),e.preventDefault();var t=a.props;(0,t.onMouseDown)(t.index,e)},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.filled,a=e.item,n=t?"":" unconnected";return g.a.createElement(rn.DraggableCore,{onStart:this.onMouseDown},g.a.createElement("li",{onClick:this.onClick},g.a.createElement("span",null,a,g.a.createElement("i",{className:"fa fa-circle".concat(n)}))))}}]),t}(g.a.PureComponent),fn=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,a=e.connected,n=e.display,o=e.scale,r=e.positionOffset,c=e.onStartConnector;return g.a.createElement("div",{className:"nodeOutputWrapper"},g.a.createElement("ul",{className:"nodeOutputList"},t.map((function(e,t){return g.a.createElement(un,{filled:a.includes(e),onMouseDown:c,key:"item-".concat(t),index:t,item:n[t],scale:o,positionOffset:r})}))))}}]),t}(g.a.PureComponent),bn=a(5);function pn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function mn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pn(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var hn=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={editing:!1},a._onInputKeyUp=function(e){var t=a.props.onFinish;"Enter"===Object(P.get)(e,"key")&&(t&&t(e.target.value),a.input&&a.input.blur())},a._toEdit=function(e){a._isControlled()||(e.stopPropagation(),a.setState({editing:!0},a._focusInput))},a._onBlur=function(e){var t=a.props.onFinish;t&&t(e.target.value),a._isControlled()||a.setState({editing:!1})},a._focusInput=function(){return a.input&&a.input.focus()},a._isControlled=function(){return void 0!==a.props.editing},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e){!1===e.editing&&this.props.editing&&this._focusInput()}},{key:"render",value:function(){var e=this,t=this.props,a=t.style,n=t.value,o=t.onChange;return(void 0===this.props.editing?this.state.editing:this.props.editing)?g.a.createElement("div",{className:"bp3-dark"},g.a.createElement("input",{ref:function(t){return e.input=t},style:mn({},yn.input,{},a),onKeyUp:this._onInputKeyUp,className:bn.a.INPUT,type:"text",placeholder:"untitled",dir:"auto",onChange:function(e){return o(e.target.value)},onBlur:this._onBlur,value:n})):g.a.createElement("span",{style:a,onClick:this._toEdit},n)}}]),t}(g.a.PureComponent),yn={input:{textAlign:"inherit"}},gn=4,vn=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,renaming:!1},a._onDelete=function(){return a.props.onDelete&&a.props.onDelete(a.props.nis.node)},a.handleDragStart=function(e,t){e.stopPropagation(),e.metaKey||e.shiftKey||(a.dragStart={x:e.clientX,y:e.clientY},a.props.onNodeStart(a.props.nis,t))},a.handleDragStop=function(e,t){e.stopPropagation(),a.props.onNodeStop(a.props.nis,t),setTimeout((function(){a.dragStart=null}))},a.handleDrag=function(e,t){e.stopPropagation(),!e.metaKey&&a.props.onNodeMove(a.props.nis,t)},a.onStartConnector=function(e,t,n){return a.props.onStartConnector(a.props.nis.node.id,e,t,n)},a.onCompleteConnector=function(e){a.props.onCompleteConnector(a.props.nis.node.id,e),a.forceUpdate()},a._selectNode=function(e){return a.props.onNodeSelect&&a.props.onNodeSelect(a.props.nis,a.props.index,e)},a._deselectNode=function(e,t){a.props.onNodeDeselect&&a.props.onNodeDeselect(a.props.nis,e,t)},a.handleClick=function(e){var t=Object(P.get)(a.dragStart,"x"),n=Object(P.get)(a.dragStart,"y");t&&n&&e.clientX&&e.clientY&&(Math.abs(e.clientX-t)>gn||Math.abs(e.clientY-n)>gn)||(a.props.selected?a._deselectNode(e.metaKey,!e.metaKey):a._selectNode())},a.handleClickOutside=function(e){var t=a.props,n=t.selected,o=t.infoShowing,r=t.onNodeDeselect,c=t.nis,i=!n&&!o;e.metaKey||e.shiftKey||i||r&&r(c,!1)},a._rename=function(){return a.setState({renaming:!0})},a._noRename=function(){return a.setState({renaming:!1})},a._setTitle=function(e){a.props.nis.node.setTitle(e),a.forceUpdate()},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.loading!==this.props.nis.node.isLoading&&this.setState({loading:this.props.nis.node.isLoading}),this.props.nis.node.setLoadStateListener((function(t){return e.setState({loading:t})}))}},{key:"componentDidUpdate",value:function(e){var t=this;e.nis.node.id!==this.props.nis.node.id&&(e.nis.node.setLoadStateListener(null),this.state.loading!==this.props.nis.node.isLoading&&this.setState({loading:this.props.nis.node.isLoading}),this.props.nis.node.setLoadStateListener((function(e){return t.setState({loading:e})})))}},{key:"componentWillUnmount",value:function(){this.props.nis.node.setLoadStateListener(null)}},{key:"render",value:function(){var e=this,t=this.props,a=t.selected,n=t.infoShowing,o=t.visible,r=t.pos,c=t.scale,i=t.positionOffset,s=t.disabled,d=this.props.nis.node,l=this.state,u=l.loading,f=l.renaming,b=n?"in-view":a?"selected":"",p="node"+(b?" ".concat(b," ignore-react-onclickoutside"):"");return o?g.a.createElement(cn.a,{disabled:s,position:r,handle:".node",onStart:this.handleDragStart,onStop:this.handleDragStop,onDrag:this.handleDrag,scale:c||1,positionOffset:i},g.a.createElement("div",{className:p,onClick:this.handleClick,onDoubleClick:function(){return e._selectNode(!0)},id:d.domId()},g.a.createElement("header",{className:"node-header".concat(f?" node-header-edit":""),onDoubleClick:this._rename},g.a.createElement(hn,{editing:f,value:f?d.title||"":j(d.name(),16),onChange:this._setTitle,onFinish:this._noRename})),g.a.createElement("div",{className:"node-content"},g.a.createElement(ln,{connected:d.connectedInputKeys(),items:d.inKeys(),display:d.constructor.displayInKeys(),onCompleteConnector:this.onCompleteConnector}),g.a.createElement(fn,{connected:d.connectedOutputKeys(),items:d.outKeys(),display:d.constructor.displayOutKeys(),onStartConnector:this.onStartConnector,scale:c||1,positionOffset:i?x(r,i):r})),u&&g.a.createElement("div",{className:"spinner"}))):g.a.createElement("div",null)}},{key:"renderHotkeys",value:function(){return this.props.selected||this.props.infoShowing?g.a.createElement(tn.a,null,g.a.createElement(an.a,{group:"Node Actions",combo:"backspace",label:"Delete selected node",global:!0,onKeyDown:this._onDelete})):g.a.createElement(tn.a,null)}}]),t}(g.a.PureComponent),On=function(e,t){return Boolean(e.graph.infoOpen===t.nis.node.id)},Pn=function(e,t){return e.graph.nodePos[t.nis.node.id]||t.nis.pos},jn=Object(Za.b)((function(){var e=Object(en.a)([Pn,On],(function(e,t){return{pos:e,infoShowing:t}}));return function(t,a){return e(t,a)}}))(Object(sn.a)(Object(on.a)(vn)));function In(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var wn=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"untitled",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Object(o.a)(this,e),this.name="untitled",this.description="",this.meta={},this.nodes=[],this._nodesById={},this.edges=[],this.nodeWithId=function(e){return t._nodesById[e]},this.nodeWithIdF=function(e){var a=t.nodeWithId(e);if(!a)throw new Error("not found");return a},this.addNode=function(e,a){var n={node:e,pos:a};return t._nodesById[e.id]=n,t.nodes.push(n),e.onAddToGraph(),n},this.setNodes=function(e){return t.nodes=e,t._nodesById=Object(P.fromPairs)(e.map((function(e){return[e.node.id,e]}))),t},this.updatePositions=function(e){t.nodes.forEach((function(t){var a=e[t.node.id];a&&(t.pos=a)}))},this.nodeIds=function(){return Object.keys(t._nodesById)},this.nodePositions=function(){return Object(P.mapValues)(t._nodesById,"pos")},this.removeNode=function(e){return e.inputs.forEach(t.removeEdge),e.outputs.forEach(t.removeEdge),e.willBeRemoved(),t.setNodes(t.nodes.filter((function(t){return t.node.id!==e.id}))),t},this.addEdge=function(e){t.edges.push(e),e.from.addOutput(e),e.to.addInput(e)},this.removeEdge=function(e){t.edges=t.edges.filter((function(t){return t.id!==e.id})),e.from.removeOutput(e),e.to.removeInput(e)},this.serialize=function(e,a){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?In(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):In(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({name:e,nodes:t.nodes.map((function(e){return e.node.serialize(e.pos.x,e.pos.y)})),edges:t.edges.map((function(e){return e.serialize()}))},a&&{meta:a},{description:t.description||""})},this.setName=function(e){t.name=e},this.duplicate=function(e){var a=e.map((function(e){return e.node.id})),n=e.map((function(e){return t.addNode(F.duplicate(e.node),{x:e.pos.x+50,y:e.pos.y+50})}));return Object(P.uniqBy)(Object(P.flatten)(e.map((function(e){return e.node.inputs.concat(e.node.outputs)}))),"id").forEach((function(e){var o=a.indexOf(e.from.id),r=a.indexOf(e.to.id);-1!==o&&-1!==r&&t.addEdge(new w(n[o].node,n[r].node,e.fromPort,e.toPort))})),n},this.dispose=function(){t.edges.forEach(t.removeEdge),t.nodes.map((function(e){return e.node})).forEach(t.removeNode),t.edges=[],t.nodes=[],t._nodesById={},Object(P.get)(window,"$graph.id")===t.id&&(window.$graph=null)},this.id=I(),(a||[]).forEach((function(e){return t.addNode(e.node,e.pos)})),(r||[]).forEach(this.addEdge),this.name=c,this.description=i||"",this.meta=s}return Object(r.a)(e,null,[{key:"load",value:function(t){var a=t.nodes.map((function(e){return{node:F.load(e),pos:{x:e.x,y:e.y}}})),n=a.map((function(e){return e.node}));return new e(a,t.edges.map((function(e){return w.load(e,n)})),t.name||"untitled",t.description||"",t.meta||{})}},{key:"empty",value:function(){return{name:"untitled",edges:[],nodes:[]}}},{key:"serialization",value:function(e){return"object"===typeof e&&e.edges&&e.nodes?e:null}},{key:"fromFile",value:function(e,t){var a=new FileReader;a.onload=function(){var e=a.result;if("string"===typeof e)try{t(JSON.parse(e))}catch(n){console.error("could not load graph",n)}},a.readAsText(e)}}]),e}(),xn=a(17),En=a(29),_n=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=Object(En.a)(e,["children"]);return g.a.createElement("svg",a,t)}}]),t}(g.a.PureComponent),Nn=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={selected:!1,transmitting:!1},a.handleClick=function(){a.setState({selected:!0}),a.props.selSet([]),a.props.setInfoOpen(null)},a._setListener=function(){a.props.edge&&a.listeningOnEdge!==a.props.edge.id&&(a.props.edge.notifyListener=a._onNotify,a.listeningOnEdge=a.props.edge.id)},a.transTime=null,a._schedTransOff=function(){a.transTime&&clearTimeout(a.transTime),a.transTime=setTimeout((function(){a.setState({transmitting:!1}),a.transTime=null}),420)},a._onNotify=function(){a.state.transmitting||a.setState({transmitting:!0}),a._schedTransOff()},a.handleClickOutside=function(e){!a.state.selected||e.metaKey||e.shiftKey||a.setState({selected:!1})},a.handleRemove=function(){a.setState({selected:!1});var e=a.props,t=e.onRemove,n=e.edge;t&&n&&t(n)},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this._setListener()}},{key:"componentDidUpdate",value:function(){this._setListener()}},{key:"render",value:function(){var e=this,t=this.state,a=t.selected,n=t.transmitting,o=this.props,r=o.start,c=o.end,i=o.highlighted,s=o.edge,d=o.incomplete,l=this.distance([r.x,r.y],[c.x,c.y]),u=s&&Object(P.get)(s,"from.id")===Object(P.get)(s,"to.id"),f=this.bezierCurve(r.x,r.y,r.x+l*(u?.7:.18),r.y-l*(u?.9:0),c.x-l*(u?.7:.35),c.y-l*(u?.9:0),c.x,c.y),b="connector"+(a?" selected":"")+(i?" highlight":"")+(d?" incomplete":"")+(n?" transmitting":"");return g.a.createElement("g",null,g.a.createElement("path",{className:"connector-click-area",d:f,onClick:this.handleClick}),g.a.createElement("path",{className:b,d:f,onClick:this.handleClick,ref:function(t){return e.el=t}}))}},{key:"bezierCurve",value:function(e,t,a,n,o,r,c,i){return"M".concat(e,",").concat(t," C").concat(a,",").concat(n," ").concat(o,",").concat(r," ").concat(c,",").concat(i)}},{key:"distance",value:function(e,t){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}},{key:"renderHotkeys",value:function(){return this.state.selected?g.a.createElement(tn.a,null,g.a.createElement(an.a,{group:"Edge Actions",combo:"backspace",label:"Delete edge",global:!0,onKeyDown:this.handleRemove})):g.a.createElement(tn.a,null)}}]),t}(g.a.PureComponent),Sn=Object(Za.b)(null,(function(e){return{selSet:function(t){return e(Object(xn.b)(t))},setInfoOpen:function(t){return e(Object(xn.g)(t))}}}))(Object(sn.a)(Object(on.a)(Nn))),kn=Object(en.a)([xn.c,xn.d],(function(e,t){return{paneId:e,positions:t}})),Cn=Object(Za.b)(kn)((function(e){var t=e.positions,a=e.dragging,n=e.source,o=e.visible,r=e.paneId,c=e.selected,i=e.onRemoveConnector,s=e.edges,d=e.pan,l=e.graph,u=e.scaleInverse,f=e.mousePos;if(!o)return null;var b=null;if(a&&n&&f){var p=Object(he.a)(n,2),m=p[0],h=p[1],y=t[m]||l.nodeWithIdF(m).pos;b=g.a.createElement(Sn,{incomplete:!0,start:x(R(y.x,y.y,h),d),end:M(f,u)})}return g.a.createElement(_n,{height:"100%",width:"100%",className:"edge-svg"},s.map((function(e){var a,n,o,s=[e.from.id,e.to.id],u=s[0],f=s[1],b=[l.nodeWithIdF(f),l.nodeWithIdF(u)],p=b[0],m=b[1],h=m.node.constructor.outKeyIndex(e.fromPort),y=p.node.constructor.inKeyIndex(e.toPort),v=t[e.from.id]||m.pos,O=t[e.to.id]||p.pos;return g.a.createElement(Sn,{highlighted:c[u]||c[f]||r&&(u===r||f===r),edge:e,start:x(R(v.x,v.y,h),d),end:x((a=O.x,n=O.y,o=y,{x:a+A,y:n+C+o*T}),d),key:"".concat(e.id,"-spline"),onRemove:i})})),b)}));function Tn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function An(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tn(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Dn=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).dragOffsets={},a.moving=!1,a.deselectNodes=!1,a.timeoutId=null,a.deltaY=0,a.state={source:null,connecting:!1,mousePos:null,canvasDragEnd:null,metaDown:!1},a.onKeyUp=function(e){return"Meta"===e.key&&a.setState({metaDown:!1})},a.onKeyDown=function(e){return"Meta"===e.key&&a.setState({metaDown:!0})},a.onScroll=function(e){var t=a.props,n=t.zoom,o=t.scale;a.deltaY+=e.deltaY;var r=null;if(a.deltaY>30&&n<xn.n.length-1?(r=a.props.zoomIn,a.deltaY=0):a.deltaY<-30&&n>0&&(r=a.props.zoomOut,a.deltaY=0),(a.deltaY>30||a.deltaY<-30)&&(a.deltaY=0),r){var c=E({x:e.clientX,y:e.clientY},window.centerP);r(S(c,.1*o*Math.sign(e.deltaY)))}},a.onWinResize=function(){window.centerP={x:window.innerWidth/2,y:window.innerHeight/2}},a.onMouseUp=function(){a.timeoutId=setTimeout((function(){return a.setState({mousePos:null})}),1)},a.onMouseMove=function(e){if(!a.moving){var t=a.state.connecting,n=a.props.selectCount;(t||n>0)&&a._debouncedSetMouse(e)}},a._debouncedSetMouse=Object(P.throttle)((function(e){a.setState({mousePos:{x:e.clientX,y:e.clientY}})}),24),a._getSelected=function(){var e=a.props,t=e.selected;return e.graph.nodes.filter((function(e){return t[e.node.id]}))},a.onNodeStartMove=function(e,t){a.props.selected[e.node.id]?a.dragOffsets=Object(P.fromPairs)(a._getSelected().map((function(t){return[t.node.id,E(e.pos,t.pos)]})).concat([[e.node.id,k]])):(a.dragOffsets=Object(n.a)({},e.node.id,k),a.props.selectCount&&a.props.selSet([])),a.moving=!0},a.onNodeStopMove=function(e,t){a.onNodeMove(e,t);var n=Object(P.mapValues)(a.dragOffsets,(function(e){return E(t,e)}));a._posUpdate(n),a.dragOffsets={},a.moving=!1},a._posUpdate=function(e){a.props.graph.updatePositions(e),a._setPosFromGraph()},a.lastUpdateTime=performance.now(),a.onNodeMove=function(e,t){var n=120*a.props.scaleInverse,o=a.props.selectCount<4?16:a.props.selectCount<11?30:50;if(!a.lastData||performance.now()-a.lastUpdateTime>o||Math.abs(a.lastData.x-t.x)>n||Math.abs(a.lastData.y-t.y)>n){var r=Object(P.mapValues)(a.dragOffsets,(function(e){return E(t,e)}));a.props.updatePos(r),a.lastUpdateTime=performance.now(),a.lastData=t}},a.onStartConnector=function(e,t,n){a.setState({connecting:!0,source:[e,t],mousePos:{x:n.clientX,y:n.clientY}})},a.onCompleteConnector=function(e,t){var n=a.state,o=n.connecting,r=n.source,c=a.props.graph;if(o&&r){var i=Object(he.a)(r,2),s=i[0],d=i[1],l=c.nodeWithId(s),u=c.nodeWithId(e);if(l&&u){var f=l.node.outKeyAt(d),b=u.node.inKeyAt(t),p=new w(l.node,u.node,f,b);c.addEdge(p),a.props.onCreateEdge&&a.props.onCreateEdge(p)}}a.setState({connecting:!1,mousePos:null}),a.forceUpdate()},a.handleRemoveConnector=function(e){a.props.onDeleteEdge&&a.props.onDeleteEdge(e),a.props.graph.removeEdge(e),a.forceUpdate()},a.onNodeSelect=function(e,t,n){a.props.onNodeSelect&&a.props.onNodeSelect(e.node);var o=n?[e.node.id]:Object(P.uniq)(Object.keys(a.props.selected).concat(e.node.id));o.length>1?a._onNodeChange(null):a._onNodeChange(e.node,t),a.props.selSet(o)},a.onNodeDeselect=function(e,t,n){if(a.props.onNodeDeselect&&a.props.onNodeDeselect(e.node),a._onNodeChange(null),t||n){var o=n?t?[]:[e.node.id]:Object.keys(Object(P.omit)(a.props.selected,e.node.id));a.props.selSet(o)}},a.onDeleteNode=function(e){a.props.graph.removeNode(e),a._setPosFromGraph(),a._onNodeChange(null)},a._setPosFromGraph=function(){return a.props.updatePos(a.props.graph.nodePositions())},a._onNodeChange=function(e,t){a.props.onNodeSelectionChange&&a.props.onNodeSelectionChange(e,t)},a._overlaps=function(e,t){return!(e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)},a._nodesIntersecting=function(e){return a.props.graph.nodes.filter((function(t){var n=t.node.domNode();return n&&a._overlaps(e,n.getBoundingClientRect())}))},a._setIntersects=Object(P.throttle)((function(e,t){var n=document.getElementById("selection-box");if(n){var o=n.getBoundingClientRect();if(!(o.width<10&&o.height<10)){var r=a.props,c=r.selSet,i=r.selected,s=a._nodesIntersecting(o).map((function(e){return e.node.id}));c(e?Object(P.uniq)(Object.keys(i).concat(s)):t?Object.keys(i).filter((function(e){return!s.includes(e)})):s)}}}),30),a._onCanvasDrag=Object(P.throttle)((function(e,t){if(!a.moving)if(e.metaKey&&a.canvasDragStart)a.setState({canvasDragEnd:t}),a._setIntersects(e.shiftKey,e.altKey);else if(!e.metaKey){var n=a.props,o=n.setPan,r=n.pan,c=n.scaleInverse,i=n.scale,s=x(r,S({x:t.deltaX,y:t.deltaY},c));Math.max(Math.abs(r.x-s.x),Math.abs(r.y-s.y))>4&&o(s),document.body&&(document.body.style.backgroundPosition="".concat(s.x*i,"px ").concat(s.y*i,"px")),a.deselectNodes=!1}}),18),a._onStartCanvasDrag=function(e,t){e.metaKey?(a.canvasDragStart=t,a.deselectNodes=!1):a.deselectNodes=!0},a._onEndCanvasDrag=function(e,t){a.deselectNodes&&(a.props.selectCount&&a.props.selSet([]),a.deselectNodes=!1),a._clearCanvasDrag()},a._onCanvasDoubleClick=function(e){Object.keys(a.props.selected).length&&a.props.selSet([]),a._clearCanvasDrag(),a._clearConnecting(),a.moving=!1,e.metaKey!==a.state.metaDown&&a.setState({metaDown:e.metaKey})},a._onCanvasClick=function(e){a._clearConnecting(),a._clearCanvasDrag(),a.moving=!1,e.metaKey!==a.state.metaDown&&a.setState({metaDown:e.metaKey})},a._clearConnecting=function(){a.state.connecting&&a.setState({connecting:!1})},a._clearCanvasDrag=function(){a.canvasDragStart=null,a.state.canvasDragEnd&&a.setState({canvasDragEnd:null})},a._rootStyle=function(){return{transform:"scale(".concat(a.props.scale,")")}},a._rootClassName=function(){return a.state.connecting?"dragging":a.canvasDragStart||a.state.metaDown?"selecting":a.moving?"moving-node":""},a._selectionBoxStyle=function(){var e=Object(We.a)(a),t=e.canvasDragStart,n=e.state.canvasDragEnd;if(n&&t){var o=E(n,t);return{width:Math.abs(o.x),height:Math.abs(o.y),top:Math.min(t.y,n.y),left:Math.min(t.x,n.x)}}},a._onCopy=function(){var e=a.props.graph.duplicate(a._getSelected()).map((function(e){return e.node.id}));a.props.selSet(e)},a._vAlign=function(){var e=a._getSelected();if(!(e.length<2)){var t=e[0].pos.x,n=Object(P.fromPairs)(e.map((function(e){return[e.node.id,An({},e.pos,{x:t})]})));a._posUpdate(n)}},a._hAlign=function(){var e=a._getSelected();if(!(e.length<2)){var t=e[0].pos.y,n=Object(P.fromPairs)(e.map((function(e){return[e.node.id,An({},e.pos,{y:t})]})));a._posUpdate(n)}},a._autoFmt=function(){var e=a._getSelected(),t=[],n=24;if(e.length<2?t=a.props.graph.nodes:(t=e,n=60),!(t.length<2)){for(var o=Object(P.fromPairs)(t.map((function(e){return[e.node.id,e]}))),r=Object(P.get)(t,[0,"node","id"]),c=[];r;){var i=o[r];delete o[r];var s=[i];for(var d in o)o[d]&&Math.abs(o[d].pos.x-i.pos.x)<n&&(s.push(o[d]),delete o[d]);c.push(s);var l=Object.keys(o);r=l.length?l[0]:void 0}for(var u={},f=function(){var e=p[b],t=e[0].pos.x;e.forEach((function(e){u[e.node.id]=An({},e.pos,{x:t})}))},b=0,p=c;b<p.length;b++)f();Object.keys(u).length&&a._posUpdate(u)}},a._selectAll=function(){return a.props.selSet(a.props.graph.nodeIds())},a._pan=Object(P.throttle)((function(e){var t=a.props,n=t.setPan,o=t.pan,r=t.scaleInverse;n(x(o,S(N(e),20*r)))}),60),a._panR=function(){return a._pan("right")},a._panL=function(){return a._pan("left")},a._panD=function(){return a._pan("down")},a._panU=function(){return a._pan("up")},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("keyup",this.onKeyUp),document.addEventListener("keydown",this.onKeyDown),window.centerP={x:window.innerWidth/2,y:window.innerHeight/2},window.addEventListener("resize",this.onWinResize),this.props.graph&&this._setPosFromGraph()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("resize",this.onWinResize),this.timeoutId&&clearTimeout(this.timeoutId),this._debouncedSetMouse.cancel()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.graph,n=t.scale;if(a&&a!==e.graph&&this._setPosFromGraph(),e.scale!==n&&document.body){var o=250*(.25*n+.75);document.body.style.backgroundSize="".concat(o,"px ").concat(o,"px")}}},{key:"render",value:function(){var e=this,t=this.state,a=t.connecting,n=t.source,o=t.metaDown,r=this.props,c=r.visible,i=r.selected,s=r.scale,d=r.pan,l=r.graph,u=r.scaleInverse,f=this._selectionBoxStyle();return g.a.createElement(rn.DraggableCore,{onDrag:this._onCanvasDrag,scale:s,onStart:this._onStartCanvasDrag,onStop:this._onEndCanvasDrag},g.a.createElement("div",{id:"graph-root",className:this._rootClassName(),onWheel:this.onScroll,onDoubleClick:this._onCanvasDoubleClick,onClick:this._onCanvasClick},g.a.createElement("div",{id:"graph-scalable",style:this._rootStyle()},l.nodes.map((function(t,a){return g.a.createElement(jn,{selected:i[t.node.id],visible:c,disabled:Boolean(o),index:a,nis:t,key:"node-".concat(t.node.id),onNodeStart:e.onNodeStartMove,onNodeStop:e.onNodeStopMove,onNodeMove:e.onNodeMove,onStartConnector:e.onStartConnector,onCompleteConnector:e.onCompleteConnector,onNodeSelect:e.onNodeSelect,onNodeDeselect:e.onNodeDeselect,onDelete:e.onDeleteNode,scale:s,positionOffset:d})})),g.a.createElement(Cn,{edges:Object(P.get)(l,"edges",[]),dragging:a,source:n,visible:c,selected:i,onRemoveConnector:this.handleRemoveConnector,pan:d,scaleInverse:u,graph:l,mousePos:this.state.mousePos})),f&&g.a.createElement("div",{id:"selection-box",style:f})))}},{key:"renderHotkeys",value:function(){var e=this.props,t=e.selectCount,a=e.zoomIn,n=e.zoomOut,o=e.zoomReset,r=t>0;return g.a.createElement(tn.a,null,r&&g.a.createElement(an.a,{group:"Node Actions",combo:"shift + meta + c",label:"Duplicate node(s)",global:!0,onKeyDown:this._onCopy,preventDefault:!0}),r&&g.a.createElement(an.a,{group:"Node Actions",combo:"h",label:"Horizontal align",global:!0,onKeyDown:this._hAlign}),r&&g.a.createElement(an.a,{group:"Node Actions",combo:"v",label:"Vertical align",global:!0,onKeyDown:this._vAlign}),g.a.createElement(an.a,{group:"Node Actions",combo:"meta + alt + l",label:"Auto-format ".concat(t<2?"all":"selected"),global:!0,onKeyDown:this._autoFmt,preventDefault:!0}),g.a.createElement(an.a,{global:!0,combo:"alt + =",label:"Zoom in",onKeyDown:a,group:"View"}),g.a.createElement(an.a,{global:!0,combo:"alt + -",label:"Zoom out",onKeyDown:n,group:"View"}),g.a.createElement(an.a,{global:!0,combo:"alt + 0",label:"Home view",onKeyDown:o,group:"View"}),g.a.createElement(an.a,{global:!0,combo:"right",label:"Pan right",onKeyDown:this._panR,group:"View"}),g.a.createElement(an.a,{global:!0,combo:"left",label:"Pan left",onKeyDown:this._panL,group:"View"}),g.a.createElement(an.a,{global:!0,combo:"down",label:"Pan down",onKeyDown:this._panD,group:"View"}),g.a.createElement(an.a,{global:!0,combo:"up",label:"Pan up",onKeyDown:this._panU,group:"View"}),g.a.createElement(an.a,{global:!0,combo:"shift + meta + a",label:"Select all",onKeyDown:this._selectAll,group:"Selection"}),g.a.createElement(an.a,{global:!0,combo:"meta + drag",label:"Select area",group:"Selection"}),g.a.createElement(an.a,{global:!0,combo:"meta + alt + drag",label:"Subtract selection",group:"Selection"}),g.a.createElement(an.a,{global:!0,combo:"meta + shift + drag",label:"Add selection",group:"Selection"}))}}]),t}(g.a.PureComponent),Rn=Object(en.a)([xn.f,xn.e],(function(e,t){return An({},e,{},t)})),Mn=Object(Za.b)(Rn,(function(e){return{selSet:function(t){return e(Object(xn.b)(t))},zoomIn:function(t){return e(Object(xn.k)(t))},zoomOut:function(t){return e(Object(xn.l)(t))},zoomReset:function(){return e(Object(xn.m)())},setPan:function(t){return e(Object(xn.h)(t))},updatePos:function(t){return e(Object(xn.j)(t))}}}))(Object(on.a)(Dn)),Ln=a(15),Kn=["gainnode","delaynode","midiinput","midioutput","float32array"];function zn(e){var t=function(e){return{}.toString.call(e).split(" ")[1].slice(0,-1).toLowerCase()}(e);return"number"===t&&(t=isNaN(e)?"nan":(0|e)!=e?"float":"integer"),Kn.includes(t)?"object":t}var Fn={scheme:"rjv-default",base00:"transparent",base01:"rgba(0, 0, 0, 0.3)",base02:"rgba(0, 0, 0, 0.4)",base03:"rgba(200, 200, 200, 0.3)",base04:"#5f9c92",base05:"#81b5ac",base06:"#a7cec8",base07:"#d2e7e4",base08:"#3e9688",base09:"#3e7996",base0A:"#d0d5d6",base0B:"#883e96",base0C:"#963e4c",base0D:"#cdbe51",base0E:"#4caa4d",base0F:"#e9d449"},Gn={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:'monaco, Monaco, Consolas, "Source Code Pro", "Lucida Console", monospace, sans-serif',globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:0,keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:0,nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 5px",nullBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputHeight:"25px",editInputMinWidth:"130px",editInputBorderRadius:"3px",editInputPadding:"10px 8px",editInputMarginRight:"4px",editInputFontFamily:'monaco, Monaco, Consolas, "Source Code Pro", "Lucida Console", monospace, sans-serif',iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"},Vn=a(137);function Bn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bn(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Un=function(e){var t=function(e){return{backgroundColor:e.base00,ellipsisColor:e.base09,braceColor:e.base07,expandedIcon:e.base0D,collapsedIcon:e.base0E,keyColor:e.base07,arrayKeyColor:e.base0C,objectSize:e.base04,copyToClipboard:e.base0F,copyToClipboardCheck:e.base0D,objectBorder:e.base03,dataTypes:{boolean:e.base0E,date:e.base0D,float:e.base0B,function:e.base0D,integer:e.base0F,string:e.base09,nan:e.base08,null:e.base0A,undefined:e.base05,regexp:e.base0A,background:e.base02},editVariable:{editIcon:e.base0E,cancelIcon:e.base09,removeIcon:e.base09,addIcon:e.base0E,checkIcon:e.base0E,background:e.base01,color:e.base0A,border:e.base07},addKeyModal:{background:e.base05,border:e.base04,color:e.base0A,labelColor:e.base01},validationFailure:{background:e.base09,iconColor:e.base01,fontColor:e.base01}}}(e);return{"app-container":{fontFamily:Gn.globalFontFamily,cursor:Gn.globalCursor,backgroundColor:t.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:t.ellipsisColor,fontSize:Gn.ellipsisFontSize,lineHeight:Gn.ellipsisLineHeight,cursor:Gn.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:Gn.braceCursor,fontWeight:Gn.braceFontWeight,color:t.braceColor},"expanded-icon":{color:t.expandedIcon},"collapsed-icon":{color:t.collapsedIcon},colon:{display:"inline-block",margin:Gn.keyMargin,color:t.keyColor,verticalAlign:"top"},objectKeyVal:function(e,a){return{style:qn({paddingTop:Gn.keyValPaddingTop,paddingRight:Gn.keyValPaddingRight,paddingBottom:Gn.keyValPaddingBottom,borderLeft:Gn.keyValBorderLeft+" "+t.objectBorder,":hover":{paddingLeft:a.paddingLeft-1+"px",borderLeft:Gn.keyValBorderHover+" "+t.objectBorder}},a)}},"object-key-val-no-border":{padding:Gn.keyValPadding},"pushed-content":function(e,t){return{style:qn({marginLeft:Gn.pushedContentMarginLeft},t)}},variableValue:function(e,t){return{style:qn({display:"inline-block",paddingRight:Gn.variableValuePaddingRight,position:"relative"},t)}},"object-name":{display:"inline-block",color:t.keyColor,letterSpacing:Gn.keyLetterSpacing,fontStyle:Gn.keyFontStyle,verticalAlign:Gn.keyVerticalAlign,opacity:Gn.keyOpacity,":hover":{opacity:Gn.keyOpacityHover}},"array-key":{display:"inline-block",color:t.arrayKeyColor,letterSpacing:Gn.keyLetterSpacing,fontStyle:Gn.keyFontStyle,verticalAlign:Gn.keyVerticalAlign,opacity:Gn.keyOpacity,":hover":{opacity:Gn.keyOpacityHover}},"object-size":{color:t.objectSize,borderRadius:Gn.objectSizeBorderRadius,fontStyle:Gn.objectSizeFontStyle,margin:Gn.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:Gn.dataTypeFontSize,marginRight:Gn.dataTypeMarginRight,opacity:Gn.datatypeOpacity},boolean:{display:"inline-block",color:t.dataTypes.boolean,fontWeight:"bold"},date:{display:"inline-block",color:t.dataTypes.date},"date-value":{marginLeft:Gn.dateValueMarginLeft},float:{display:"inline-block",color:t.dataTypes.float},function:{display:"inline-block",color:t.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:t.dataTypes.integer},string:{display:"inline-block",color:t.dataTypes.string},nan:{display:"inline-block",color:t.dataTypes.nan,fontWeight:Gn.nullFontWeight,fontSize:Gn.nullFontSize,padding:Gn.nullPadding,borderRadius:Gn.nullBorderRadius,backgroundColor:t.dataTypes.background},null:{display:"inline-block",color:t.dataTypes.null,fontWeight:Gn.nullFontWeight,fontSize:Gn.nullFontSize,padding:Gn.nullPadding,borderRadius:Gn.nullBorderRadius,backgroundColor:t.dataTypes.background},undefined:{display:"inline-block",color:t.dataTypes.undefined,fontSize:Gn.nullFontSize,padding:Gn.nullPadding,borderRadius:Gn.nullBorderRadius,backgroundColor:t.dataTypes.background},regexp:{display:"inline-block",color:t.dataTypes.regexp},"copy-to-clipboard":{cursor:Gn.clipboardCursor},"copy-icon":{color:t.copyToClipboard,fontSize:Gn.iconFontSize,marginRight:Gn.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:t.copyToClipboardCheck,marginLeft:Gn.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:Gn.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:Gn.metaDataPadding},"icon-container":{display:"inline-block",width:Gn.iconContainerWidth},tooltip:{padding:Gn.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.removeIcon,cursor:Gn.iconCursor,fontSize:Gn.iconFontSize,marginRight:Gn.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.addIcon,cursor:Gn.iconCursor,fontSize:Gn.iconFontSize,marginRight:Gn.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.editIcon,cursor:Gn.iconCursor,fontSize:Gn.iconFontSize,marginRight:Gn.iconMarginRight},"edit-icon-container":{display:"flex",width:"100%",justifyContent:"flex-end"},"check-icon":{display:"inline-block",cursor:Gn.iconCursor,color:t.editVariable.checkIcon,fontSize:Gn.iconFontSize,padding:6},"cancel-icon":{display:"inline-block",cursor:Gn.iconCursor,color:t.editVariable.cancelIcon,fontSize:Gn.iconFontSize,padding:6},"edit-input":{display:"inline-block",minHeight:Gn.editInputHeight,minWidth:Gn.editInputMinWidth,borderRadius:Gn.editInputBorderRadius,border:"none",backgroundColor:t.editVariable.background,color:t.editVariable.color,padding:Gn.editInputPadding,fontFamily:Gn.editInputFontFamily,resize:"none"},"detected-row":{paddingTop:Gn.detectedRowPaddingTop},"key-modal-request":{position:Gn.addKeyCoverPosition,top:Gn.addKeyCoverPositionPx,left:Gn.addKeyCoverPositionPx,right:Gn.addKeyCoverPositionPx,bottom:Gn.addKeyCoverPositionPx,backgroundColor:Gn.addKeyCoverBackground},"key-modal":{width:Gn.addKeyModalWidth,backgroundColor:t.addKeyModal.background,marginLeft:Gn.addKeyModalMargin,marginRight:Gn.addKeyModalMargin,padding:Gn.addKeyModalPadding,borderRadius:Gn.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:t.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:t.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:t.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:t.addKeyModal.labelColor,fontSize:Gn.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:t.editVariable.addIcon,fontSize:Gn.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:t.ellipsisColor,fontSize:Gn.ellipsisFontSize,lineHeight:Gn.ellipsisLineHeight,cursor:Gn.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:t.validationFailure.fontColor,backgroundColor:t.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:t.validationFailure.iconColor,fontSize:Gn.iconFontSize,transform:"rotate(45deg)"}}},Wn=function(e){return Object(Vn.createStyling)(Un,{defaultBase16:Fn})(e)};function Hn(e,t,a){return e||console.error("theme has not been set"),Wn(e)(t,a)}var Jn=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type_name,a=e.displayDataTypes,n=e.theme;return a?g.a.createElement("span",Object.assign({className:"data-type-label"},Hn(n,"data-type-label")),t):null}}]),t}(g.a.PureComponent),Yn=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props;return g.a.createElement("div",Hn(e.theme,"boolean"),g.a.createElement(Jn,Object.assign({type_name:"bool"},e)),e.value?"true":"false")}}]),t}(g.a.PureComponent),Xn=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props;return g.a.createElement("div",Hn(e.theme,"date"),g.a.createElement(Jn,Object.assign({type_name:"date"},e)),g.a.createElement("span",Object.assign({className:"date-value"},Hn(e.theme,"date-value")),e.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),t}(g.a.PureComponent),Qn=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props;return g.a.createElement("div",Hn(e.theme,"float"),g.a.createElement(Jn,Object.assign({type_name:"float"},e)),this.props.value)}}]),t}(g.a.PureComponent),$n=a(138),Zn=new(a(139).Dispatcher);function eo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function to(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eo(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eo(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ao=new(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).objects={},a.set=function(e,t,n,o){void 0===a.objects[e]&&(a.objects[e]={}),void 0===a.objects[e][t]&&(a.objects[e][t]={}),a.objects[e][t][n]=o},a.get=function(e,t,n,o){return void 0===a.objects[e]||void 0===a.objects[e][t]||void 0==a.objects[e][t][n]?o:a.objects[e][t][n]},a.handleAction=function(e){var t=e.rjvId,n=e.data;switch(e.name){case"RESET":a.emit("reset-"+t);break;case"VARIABLE_UPDATED":e.data.updated_src=a.updateSrc(t,n),a.set(t,"action","variable-update",to({},n,{type:"variable-edited"})),a.emit("variable-update-"+t);break;case"VARIABLE_REMOVED":e.data.updated_src=a.updateSrc(t,n),a.set(t,"action","variable-update",to({},n,{type:"variable-removed"})),a.emit("variable-update-"+t);break;case"VARIABLE_ADDED":e.data.updated_src=a.updateSrc(t,n),a.set(t,"action","variable-update",to({},n,{type:"variable-added"})),a.emit("variable-update-"+t);break;case"ADD_VARIABLE_KEY_REQUEST":a.set(t,"action","new-key-request",n),a.emit("add-key-request-"+t)}},a.updateSrc=function(e,t){var n=t.name,o=t.namespace,r=t.new_value,c=(t.existing_value,t.variable_removed);o.shift();var i=a.get(e,"global","src"),s=a.deepCopy(i,Object($t.a)(o)),d=s,l=!0,u=!1,f=void 0;try{for(var b,p=o[Symbol.iterator]();!(l=(b=p.next()).done);l=!0){d=d[b.value]}}catch(m){u=!0,f=m}finally{try{l||null==p.return||p.return()}finally{if(u)throw f}}return c?"array"==zn(d)?d.splice(n,1):delete d[n]:null!==n?d[n]=r:s=r,a.set(e,"global","src",s),s},a.deepCopy=function(e,t){var n,o=zn(e),r=t.shift();return"array"==o?n=Object($t.a)(e):"object"==o&&(n=to({},e)),void 0!==r&&(n[r]=a.deepCopy(e[r],t)),n},a}return Object(s.a)(t,e),t}($n.EventEmitter));Zn.register(ao.handleAction.bind(ao));var no=ao,oo=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).toggleCollapsed=function(){a.setState({collapsed:!a.state.collapsed},(function(){no.set(a.props.rjvId,a.props.namespace,"collapsed",a.state.collapsed)}))},a.getFunctionDisplay=function(e){var t=Object(We.a)(a).props;return e?g.a.createElement("span",null,a.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),g.a.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},g.a.createElement("span",null,"{"),g.a.createElement("span",Hn(t.theme,"ellipsis"),"..."),g.a.createElement("span",null,"}"))):a.props.value.toString().slice(9,-1)},a.state={collapsed:no.get(e.rjvId,e.namespace,"collapsed",!0)},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=this.state.collapsed;return g.a.createElement("div",Hn(e.theme,"function"),g.a.createElement(Jn,Object.assign({type_name:"function"},e)),g.a.createElement("span",Object.assign({},Hn(e.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(t)))}}]),t}(g.a.PureComponent),ro=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return g.a.createElement("div",Hn(this.props.theme,"nan"),"NaN")}}]),t}(g.a.PureComponent),co=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return g.a.createElement("div",Hn(this.props.theme,"null"),"null")}}]),t}(g.a.PureComponent),io=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props;return g.a.createElement("div",Hn(e.theme,"integer"),g.a.createElement(Jn,Object.assign({type_name:"int"},e)),this.props.value)}}]),t}(g.a.PureComponent),so=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props;return g.a.createElement("div",Hn(e.theme,"regexp"),g.a.createElement(Jn,Object.assign({type_name:"regexp"},e)),this.props.value.toString())}}]),t}(g.a.PureComponent),lo=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).toggleCollapsed=function(){a.setState({collapsed:!a.state.collapsed},(function(){no.set(a.props.rjvId,a.props.namespace,"collapsed",a.state.collapsed)}))},a.state={collapsed:no.get(e.rjvId,e.namespace,"collapsed",!0)},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.collapseStringsAfterLength,a=e.theme,n=e.isPrimitive,o=e.value,r={style:{cursor:"default",whiteSpace:"pre-wrap"}};return"integer"===zn(t)&&o.length>t&&!n&&(r.style.cursor="pointer",this.state.collapsed&&(o=g.a.createElement("span",null,o.substring(0,t),g.a.createElement("span",Hn(a,"ellipsis")," ...")))),g.a.createElement("div",Hn(a,"string"),g.a.createElement(Jn,Object.assign({type_name:"string"},e)),g.a.createElement("span",Object.assign({className:"string-value"},r,{onClick:this.toggleCollapsed}),'"',o,'"'))}}]),t}(g.a.PureComponent),uo=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return g.a.createElement("div",Hn(this.props.theme,"undefined"),"undefined")}}]),t}(g.a.PureComponent),fo=a(152);function bo(e){e=e.trim();try{if("["===(e=JSON.stringify(JSON.parse(e)))[0])return po("array",JSON.parse(e));if("{"===e[0])return po("object",JSON.parse(e));if(e.match(/-?\d+\.\d+/)&&e.match(/-?\d+\.\d+/)[0]===e)return po("float",parseFloat(e));if(e.match(/-?\d+/)&&e.match(/-?\d+/)[0]===e)return po("integer",parseInt(e))}catch(t){}switch(e=e.toLowerCase()){case"undefined":return po("undefined",void 0);case"nan":return po("nan",NaN);case"infinity":return po("infinity",1/0);case"null":return po("null",null);case"true":return po("boolean",!0);case"false":return po("boolean",!1);default:return po(!1,null)}}function po(e,t){return{type:e,value:t}}var mo=function(e){var t;switch(zn(e)){case"undefined":t="undefined";break;case"nan":t="NaN";break;case"string":t=e;break;case"date":case"function":case"regexp":t=e.toString();break;default:try{t=JSON.stringify(e,null,"  ")}catch(a){t=""}}return t},ho=a(341),yo=a(142),go=a(144),vo=a(107);function Oo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Po(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oo(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oo(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var jo="#000000",Io=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.style,a=Object(En.a)(e,["style"]);return g.a.createElement("span",a,g.a.createElement("svg",Object.assign({},Ro(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),g.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),t}(g.a.PureComponent),wo=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.style,a=Object(En.a)(e,["style"]);return g.a.createElement("span",a,g.a.createElement("svg",Object.assign({},Ro(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),g.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),t}(g.a.PureComponent),xo=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.style,a=Object(En.a)(e,["style"]),n=Ro(t).style;return g.a.createElement("span",a,g.a.createElement("svg",{fill:n.color,width:n.height,height:n.width,style:n,viewBox:"0 0 1792 1792"},g.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),t}(g.a.PureComponent),Eo=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.style,a=Object(En.a)(e,["style"]),n=Ro(t).style;return g.a.createElement("span",a,g.a.createElement("svg",{fill:n.color,width:n.height,height:n.width,style:n,viewBox:"0 0 1792 1792"},g.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),t}(g.a.PureComponent),_o=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.style,a=Object(En.a)(e,["style"]);return g.a.createElement("span",a,g.a.createElement("svg",{style:Po({},Ro(t).style,{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},g.a.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),t}(g.a.PureComponent),No=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.style,a=Object(En.a)(e,["style"]);return g.a.createElement("span",a,g.a.createElement("svg",{style:Po({},Ro(t).style,{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},g.a.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),t}(g.a.PureComponent),So=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.style,a=Object(En.a)(e,["style"]);return g.a.createElement("span",a,g.a.createElement("svg",Object.assign({},Ro(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),g.a.createElement("g",null,g.a.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),t}(g.a.PureComponent),ko=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.style,Object(En.a)(e,["style"]));return g.a.createElement("span",t,g.a.createElement("i",{className:"fa fa-remove attr-indicator"}))}}]),t}(g.a.PureComponent),Co=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.style,a=Object(En.a)(e,["style"]);return g.a.createElement("span",a,g.a.createElement("svg",Object.assign({},Ro(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),g.a.createElement("g",null,g.a.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),t}(g.a.PureComponent),To=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.style,a=Object(En.a)(e,["style"]);return g.a.createElement("span",a,g.a.createElement("svg",Object.assign({},Ro(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),g.a.createElement("g",null,g.a.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),t}(g.a.PureComponent),Ao=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.style,Object(En.a)(e,["style"]));return g.a.createElement("span",t,"edit")}}]),t}(g.a.PureComponent),Do=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.style,Object(En.a)(e,["style"]));return g.a.createElement("span",t,g.a.createElement("i",{className:"fa fa-check attr-indicator"}))}}]),t}(g.a.PureComponent);function Ro(e){return e||(e={}),{style:Po({verticalAlign:"middle"},e,{color:e.color?e.color:jo,height:"1em",width:"1em"})}}function Mo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Lo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mo(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mo(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}ho.a.registerLanguage("javascript",yo.a),ho.a.registerLanguage("glsl",go.a);var Ko=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).renderKey=function(){var e=a.props,t=e.type,n=e.isPrimitive,o=e.variable,r=e.theme,c=e.namespace;return n?null:"array"===t?g.a.createElement("span",Object.assign({},Hn(r,"array-key"),{key:o.name+"_"+c}),o.name,g.a.createElement("div",Hn(r,"colon"),":")):g.a.createElement("span",null,g.a.createElement("span",Object.assign({},Hn(r,"object-name"),{className:"object-key",key:o.name+"_"+c}),g.a.createElement("span",{style:{display:"inline-block"}},o.name)),g.a.createElement("span",Hn(r,"colon"),":"))},a.getEditIcon=function(){var e=a.props,t=e.variable,n=e.theme;return g.a.createElement("span",{className:"click-to-edit",style:{verticalAlign:"middle"}},g.a.createElement(Ao,Object.assign({className:"click-to-edit-icon"},Hn(n,"editVarIcon"),{onClick:function(){return a.prepopInput(t)}})))},a.prepopInput=function(e){if(!1!==a.props.onEdit){var t=mo(e.value),n=bo(t);a.setState({editMode:!0,editValue:t,parsedInput:{type:n.type,value:n.value}})}},a.getRemoveIcon=function(){var e=a.props,t=e.variable,n=e.namespace,o=e.theme,r=e.rjvId;return g.a.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top"}},g.a.createElement(ko,Object.assign({className:"click-to-remove-icon"},Hn(o,"removeVarIcon"),{onClick:function(){Zn.dispatch({name:"VARIABLE_REMOVED",rjvId:r,data:{name:t.name,namespace:n,existing_value:t.value,variable_removed:!0}})}})))},a.getValue=function(e,t){if(t)return a.getEditInput();var n=a.props.attrType;if(e.value&&"JSFunction"===n.name)return g.a.createElement(ho.a,{language:"javascript",style:vo.a,codeTagProps:{className:"syntax-highlighter"}},e.value);if(e.value&&["GPGPUKernel","ShaderProgram"].includes(n.name))return g.a.createElement(ho.a,{language:"glsl",style:vo.a,codeTagProps:{className:"syntax-highlighter"}},e.value);var o=e.type,r=Object(We.a)(a).props;switch(o){case"string":return g.a.createElement(lo,Object.assign({value:e.value},r));case"integer":return g.a.createElement(io,Object.assign({value:e.value},r));case"float":return g.a.createElement(Qn,Object.assign({value:e.value},r));case"boolean":return g.a.createElement(Yn,Object.assign({value:e.value},r));case"function":return g.a.createElement(oo,Object.assign({value:e.value},r));case"null":return g.a.createElement(co,r);case"nan":return g.a.createElement(ro,r);case"undefined":return g.a.createElement(uo,r);case"date":return g.a.createElement(Xn,Object.assign({value:e.value},r));case"regexp":return g.a.createElement(so,Object.assign({value:e.value},r));default:return g.a.createElement("div",{className:"object-value"},JSON.stringify(e.value))}},a.getEditInput=function(){var e=a.props.theme,t=a.state.editValue;return g.a.createElement("div",{style:{display:"flex",alignItems:"center",width:"100%",flexDirection:"column"}},g.a.createElement(fo.a,Object.assign({type:"text",inputRef:function(e){return e&&e.focus()},value:t,className:"variable-editor",onChange:function(e){var t=e.target.value,n=bo(t);a.setState({editValue:t,parsedInput:{type:n.type,value:n.value}})},onKeyDown:function(e){switch(e.key){case"Escape":a.setState({editMode:!1,editValue:""});break;case"Enter":(e.ctrlKey||e.metaKey)&&a.submitEdit(!0)}e.stopPropagation()},placeholder:"edit..."},Hn(e,"edit-input"))),g.a.createElement("div",Hn(e,"edit-icon-container"),g.a.createElement("div",Hn(e,"cancel-icon"),g.a.createElement(ko,{className:"edit-cancel",onClick:function(){a.setState({editMode:!1,editValue:""})}})),g.a.createElement("div",Hn(e,"check-icon"),g.a.createElement(Do,{className:"edit-check string-value",onClick:function(){return a.submitEdit(!0)}}))))},a.submitEdit=function(e){var t=a.props,n=t.variable,o=t.namespace,r=t.rjvId,c=a.state,i=c.editValue,s=c.parsedInput,d=i;e&&s.type&&(d=s.value),a.setState({editMode:!1}),Zn.dispatch({name:"VARIABLE_UPDATED",rjvId:r,data:{name:n.name,namespace:o,existing_value:n.value,new_value:d,variable_removed:!1}})},a.getDetectedInput=function(){var e=a.state.parsedInput,t=e.type,n=e.value,o=Object(We.a)(a).props,r=o.theme;if(!1!==t)switch(t.toLowerCase()){case"object":return g.a.createElement("span",null,g.a.createElement("span",{style:Lo({},Hn(r,"brace").style,{cursor:"default"})},"{"),g.a.createElement("span",{style:Lo({},Hn(r,"ellipsis").style,{cursor:"default"})},"..."),g.a.createElement("span",{style:Lo({},Hn(r,"brace").style,{cursor:"default"})},"}"));case"array":return g.a.createElement("span",null,g.a.createElement("span",{style:Lo({},Hn(r,"brace").style,{cursor:"default"})},"["),g.a.createElement("span",{style:Lo({},Hn(r,"ellipsis").style,{cursor:"default"})},"..."),g.a.createElement("span",{style:Lo({},Hn(r,"brace").style,{cursor:"default"})},"]"));case"string":return g.a.createElement(lo,Object.assign({value:n},o));case"integer":return g.a.createElement(io,Object.assign({value:n},o));case"float":return g.a.createElement(Qn,Object.assign({value:n},o));case"boolean":return g.a.createElement(Yn,Object.assign({value:n},o));case"function":return g.a.createElement(oo,Object.assign({value:n},o));case"null":return g.a.createElement(co,o);case"nan":return g.a.createElement(ro,o);case"undefined":return g.a.createElement(uo,o);case"date":return g.a.createElement(Xn,Object.assign({value:new Date(n)},o))}},a.state={editMode:!1,editValue:"",renameKey:!1,parsedInput:{type:!1,value:null}},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"renderHotkeys",value:function(){var e=this;return this.props.editOnHotkey?g.a.createElement(tn.a,null,g.a.createElement(an.a,{group:"Detail Pane",global:Boolean(this.props.variable),combo:"meta + i",label:"Edit First Value",onKeyDown:function(){return e.prepopInput(e.props.variable)}})):g.a.createElement(tn.a,null)}},{key:"render",value:function(){var e=this,t=this.props,a=t.variable,n=t.singleIndent,o=t.theme,r=t.namespace,c=t.indentWidth,i=t.onEdit,s=t.onDelete,d=t.onSelect,l=t.isPrimitive,u=this.state.editMode,f=l?{paddingLeft:0,borderLeft:"none"}:{paddingLeft:c*n};return g.a.createElement("div",Object.assign({},Hn(o,"objectKeyVal",f),{className:"variable-row",key:a.name}),this.renderKey(),g.a.createElement("div",Object.assign({className:"variable-value",onClick:!1===d&&!1===i?null:function(t){var n=Object($t.a)(r);(t.ctrlKey||t.metaKey)&&!1!==i?e.prepopInput(a):!1!==d&&(n.shift(),d(Lo({},a,{namespace:n})))}},Hn(o,"variableValue",{cursor:!1===d?"default":"pointer"})),this.getValue(a,u)),!1!==i&&!1===u?this.getEditIcon():null,!1!==s&&!1===u?this.getRemoveIcon():null)}}]),t}(g.a.PureComponent),zo=Object(on.a)(Ko);function Fo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Go(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fo(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fo(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Vo=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).copiedTimer=null,a.handleCopy=function(){var e=document.createElement("textarea"),t=a.props,n=t.clickCallback,o=t.src,r=t.namespace;e.innerHTML=JSON.stringify(a.clipboardValue(o),null,"  "),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),a.copiedTimer=setTimeout((function(){a.setState({copied:!1})}),5500),a.setState({copied:!0},(function(){"function"===typeof n&&n({src:o,namespace:r,name:r[r.length-1]})}))},a.getClippyIcon=function(){var e=a.props.theme;return a.state.copied?g.a.createElement("span",null,g.a.createElement(So,Object.assign({className:"copy-icon"},Hn(e,"copy-icon"))),g.a.createElement("span",Hn(e,"copy-icon-copied"),"\u2714")):g.a.createElement(So,Object.assign({className:"copy-icon"},Hn(e,"copy-icon")))},a.clipboardValue=function(e){switch(zn(e)){case"function":case"regexp":return e.toString();default:return e}},a.state={copied:!1},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var e=this.props,t=(e.src,e.theme),a=e.hidden,n=Hn(t,"copy-to-clipboard").style,o="inline";return a&&(o="none"),g.a.createElement("span",{className:"copy-to-clipboard-container",title:"Copy to clipboard"},g.a.createElement("span",{style:Go({},n,{display:o}),onClick:this.handleCopy},this.getClippyIcon()))}}]),t}(g.a.PureComponent);function Bo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bo(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bo(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Uo=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).getObjectSize=function(){var e=a.props,t=e.size,n=e.theme;if(e.displayObjectSize)return g.a.createElement("span",Object.assign({className:"object-size"},Hn(n,"object-size")),t," item",1===t?"":"s")},a.getAddAttribute=function(){var e=a.props,t=e.theme,n=e.namespace,o=e.name,r=e.src,c=e.rjvId,i=e.depth;return g.a.createElement("span",{className:"click-to-add",style:{verticalAlign:"top"}},g.a.createElement(Co,Object.assign({className:"click-to-add-icon"},Hn(t,"addVarIcon"),{onClick:function(){var e={name:i>0?o:null,namespace:n.splice(0,n.length-1),existing_value:r,variable_removed:!1,key_name:null};"object"===zn(r)?Zn.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:c,data:e}):Zn.dispatch({name:"VARIABLE_ADDED",rjvId:c,data:qo({},e,{new_value:[].concat(Object($t.a)(r),[null])})})}})))},a.getRemoveObject=function(){var e=a.props,t=e.theme,n=(e.hover,e.namespace),o=e.name,r=e.src,c=e.rjvId;if(1!==n.length)return g.a.createElement("span",{className:"click-to-remove"},g.a.createElement(ko,Object.assign({className:"click-to-remove-icon"},Hn(t,"removeVarIcon"),{onClick:function(){Zn.dispatch({name:"VARIABLE_REMOVED",rjvId:c,data:{name:o,namespace:n.splice(0,n.length-1),existing_value:r,variable_removed:!0}})}})))},a.render=function(){var e=a.props,t=e.theme,n=e.onDelete,o=e.onAdd,r=e.enableClipboard,c=e.src,i=e.namespace;return g.a.createElement("div",Object.assign({},Hn(t,"object-meta-data"),{className:"object-meta-data",onClick:function(e){e.stopPropagation()}}),a.getObjectSize(),r?g.a.createElement(Vo,Object.assign({clickCallback:r},{src:c,theme:t,namespace:i})):null,!1!==o?a.getAddAttribute():null,!1!==n?a.getRemoveObject():null)},a}return Object(s.a)(t,e),t}(g.a.PureComponent);function Wo(e){var t=e.parent_type,a=e.namespace,n=e.theme,o=e.jsvRoot,r=e.name,c=e.name?e.name:"";return!o||!1!==r&&null!==r?"array"==t?g.a.createElement("span",Object.assign({},Hn(n,"array-key"),{key:a}),g.a.createElement("span",{className:"array-key"},c),g.a.createElement("span",Hn(n,"colon"),":")):g.a.createElement("span",Object.assign({},Hn(n,"object-name"),{key:a}),g.a.createElement("span",{className:"object-key"},g.a.createElement("span",null,c)),g.a.createElement("span",Hn(n,"colon"),":")):g.a.createElement("span",null)}function Ho(e){var t=e.theme;switch(e.iconStyle){case"triangle":return g.a.createElement(No,Object.assign({},Hn(t,"expanded-icon"),{className:"expanded-icon"}));case"square":return g.a.createElement(xo,Object.assign({},Hn(t,"expanded-icon"),{className:"expanded-icon"}));default:return g.a.createElement(Io,Object.assign({},Hn(t,"expanded-icon"),{className:"expanded-icon"}))}}function Jo(e){var t=e.theme;switch(e.iconStyle){case"triangle":return g.a.createElement(_o,Object.assign({},Hn(t,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return g.a.createElement(Eo,Object.assign({},Hn(t,"collapsed-icon"),{className:"collapsed-icon"}));default:return g.a.createElement(wo,Object.assign({},Hn(t,"collapsed-icon"),{className:"collapsed-icon"}))}}var Yo=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).toggleCollapsed=function(e){var t=[];for(var n in a.state.expanded)t.push(a.state.expanded[n]);t[e]=!t[e],a.setState({expanded:t})},a.state={expanded:[]},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"getExpandedIcon",value:function(e){var t=this.props,a=t.theme,n=t.iconStyle;return this.state.expanded[e]?g.a.createElement(Ho,{theme:a,iconStyle:n}):g.a.createElement(Jo,{theme:a,iconStyle:n})}},{key:"render",value:function(){var e=this,t=this.props,a=t.src,n=t.groupArraysAfterLength,o=(t.depth,t.name),r=t.theme,c=t.jsvRoot,i=t.namespace,s=(t.parent_type,Object(En.a)(t,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),d=0,l=5*this.props.indentWidth;c||(d=5*this.props.indentWidth);var u=n,f=Math.ceil(a.length/u);return g.a.createElement("div",Object.assign({className:"object-key-val"},Hn(r,c?"jsv-root":"objectKeyVal",{paddingLeft:d})),g.a.createElement(Wo,this.props),g.a.createElement("span",null,g.a.createElement(Uo,Object.assign({size:a.length},this.props))),Object($t.a)(Array(f)).map((function(t,n){return g.a.createElement("div",Object.assign({key:n,className:"object-key-val array-group"},Hn(r,"objectKeyVal",{marginLeft:6,paddingLeft:l})),g.a.createElement("span",Hn(r,"brace-row"),g.a.createElement("div",Object.assign({className:"icon-container"},Hn(r,"icon-container"),{onClick:function(t){return e.toggleCollapsed(n)}}),e.getExpandedIcon(n)),e.state.expanded[n]?g.a.createElement(ar,Object.assign({key:o+n,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:u,index_offset:n*u,src:a.slice(n*u,n*u+u),namespace:i,type:"array",parent_type:"array_group",theme:r},s)):g.a.createElement("span",Object.assign({},Hn(r,"brace"),{onClick:function(t){return e.toggleCollapsed(n)},className:"array-group-brace"}),"[",g.a.createElement("div",Object.assign({},Hn(r,"array-group-meta-data"),{className:"array-group-meta-data"}),g.a.createElement("span",Object.assign({className:"object-size"},Hn(r,"object-size")),n*u," - ",n*u+u>a.length?a.length:n*u+u)),"]")))})))}}]),t}(g.a.PureComponent);function Xo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Qo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xo(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xo(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $o=1,Zo=5,er=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).toggleCollapsed=function(){a.setState({expanded:!a.state.expanded},(function(){no.set(a.props.rjvId,a.props.namespace,"expanded",a.state.expanded)}))},a.getObjectContent=function(e,t,n){var o=n.isPrimitive?{marginLeft:0}:{};return g.a.createElement("div",{className:"pushed-content object-container"},g.a.createElement("div",Object.assign({className:"object-content"},Hn(a.props.theme,"pushed-content",o)),a.renderObjectContents(t,n)))},a.getEllipsis=function(){return 0===a.state.size?null:g.a.createElement("div",Object.assign({},Hn(a.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:a.toggleCollapsed}),"...")},a.getObjectMetaData=function(){var e=a.state.size;return g.a.createElement(Uo,Object.assign({size:e},a.props))},a.getBraceStart=function(e,t){var n=a.props,o=n.attrType,r=n.theme,c=n.iconStyle;if("array_group"===n.parent_type)return g.a.createElement("span",null,g.a.createElement("span",Hn(r,"brace"),"array"===e?"[":"{"),t?a.getObjectMetaData():null);if("primitive"===o.type)return null;var i=t?Ho:Jo;return g.a.createElement("span",null,g.a.createElement("span",Object.assign({onClick:a.toggleCollapsed},Hn(r,"brace-row")),g.a.createElement("div",Object.assign({className:"icon-container"},Hn(r,"icon-container")),g.a.createElement(i,{theme:r,iconStyle:c})),g.a.createElement(Wo,a.props),g.a.createElement("span",Hn(r,"brace"),"array"===e?"[":"{")),t?a.getObjectMetaData():null)},a.getBraceEnd=function(){var e=a.props,t=e.theme,n=e.attrType,o=a.state,r=o.object_type,c=o.expanded;return"primitive"===n.type?null:g.a.createElement("span",{className:"brace-row"},g.a.createElement("span",{style:Qo({},Hn(t,"brace").style,{paddingLeft:c?"3px":"0px"})},"array"===r?"]":"}"),c?null:a.getObjectMetaData())},a.renderObjectContents=function(e,t){var n,o=a.props,r=o.depth,c=o.parent_type,i=o.index_offset,s=o.groupArraysAfterLength,d=o.namespace,l=o.rejectMatching,u=a.state.object_type,f=[],b=Object.keys(e||{});return a.props.sortKeys&&(b=b.sort()),b.forEach((function(o,b){if(n=new tr(o,e[o]),"array_group"===c&&i&&(n.name=parseInt(n.name)+i),!e.hasOwnProperty(o))return null;if(l&&o.match(l))return null;if("object"===n.type)f.push(g.a.createElement(ar,Object.assign({key:n.name,depth:r+$o,name:n.name,src:n.value,namespace:d.concat(n.name),parent_type:u},t,{editOnHotkey:!1})));else if("array"===n.type){var p=ar;s&&n.value.length>s&&(p=Yo),f.push(g.a.createElement(p,Object.assign({key:n.name,depth:r+$o,name:n.name,src:n.value,namespace:d.concat(n.name),type:"array",parent_type:u,editOnHotkey:!1},t)))}else f.push(g.a.createElement(zo,Object.assign({key:n.name+"_"+d,variable:n,singleIndent:Zo,namespace:d,type:a.props.type},t)))})),f};var n=t.getState(e);return a.state=Qo({},n,{prevProps:{}}),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.depth,a=e.src,n=(e.namespace,e.name,e.type,e.parent_type),o=e.theme,r=e.jsvRoot,c=e.iconStyle,i=Object(En.a)(e,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),s=this.state,d=s.object_type,l=s.expanded,u={};return r||"array_group"===n?"array_group"===n&&(u.borderLeft=0,u.display="inline"):u.paddingLeft=this.props.indentWidth*Zo,g.a.createElement("div",Object.assign({className:"object-key-val"},Hn(o,r?"jsv-root":"objectKeyVal",u)),this.getBraceStart(d,l),l?this.getObjectContent(t,a,Qo({theme:o,iconStyle:c},i)):this.getEllipsis(),this.getBraceEnd())}}],[{key:"getDerivedStateFromProps",value:function(e,a){var n=a.prevProps;return e.src!==n.src||e.collapsed!==n.collapsed||e.name!==n.name||e.namespace!==n.namespace||e.rjvId!==n.rjvId?Qo({},t.getState(e),{prevProps:e}):null}}]),t}(g.a.PureComponent);er.getState=function(e){var t=Object.keys(e.src).length,a=t<5&&(!1===e.collapsed||!0!==e.collapsed&&e.collapsed>e.depth)&&(!e.shouldCollapse||!1===e.shouldCollapse({name:e.name,src:e.src,type:zn(e.src),namespace:e.namespace}))&&0!==t;return{expanded:no.get(e.rjvId,e.namespace,"expanded",a),object_type:"array"===e.type?"array":"object",parent_type:"array"===e.type?"array":"object",size:t}};var tr=function e(t,a){Object(o.a)(this,e),this.name=t,this.value=a,this.type=zn(a)};Object(Ln.polyfill)(er);var ar=er,nr=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).render=function(){var e=Object(We.a)(a).props,t=[e.name],n=ar;return e.groupArraysAfterLength&&e.src.length>e.groupArraysAfterLength&&(n=Yo),g.a.createElement("div",{className:"pretty-json-container object-container"},g.a.createElement("div",{className:"object-content"},g.a.createElement(n,Object.assign({namespace:t,depth:0,jsvRoot:!0},e))))},a}return Object(s.a)(t,e),t}(g.a.PureComponent),or=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).closeModal=function(){Zn.dispatch({rjvId:a.props.rjvId,name:"RESET"})},a.submit=function(){a.props.submit(a.state.input)},a.state={input:e.input?e.input:""},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.theme,n=t.rjvId,o=t.isValid,r=this.state.input,c=o(r);return g.a.createElement("div",Object.assign({className:"key-modal-request"},Hn(a,"key-modal-request"),{onClick:this.closeModal}),g.a.createElement("div",Object.assign({},Hn(a,"key-modal"),{onClick:function(e){e.stopPropagation()}}),g.a.createElement("div",Hn(a,"key-modal-label"),"Key Name:"),g.a.createElement("div",{style:{position:"relative"}},g.a.createElement("input",Object.assign({},Hn(a,"key-modal-input"),{className:"key-modal-input",ref:function(e){return e&&e.focus()},spellCheck:!1,value:r,placeholder:"...",onChange:function(t){e.setState({input:t.target.value})},onKeyPress:function(t){c&&"Enter"===t.key?e.submit():"Escape"===t.key&&e.closeModal()}})),c?g.a.createElement(Do,Object.assign({},Hn(a,"key-modal-submit"),{className:"key-modal-submit",onClick:function(t){return e.submit()}})):null),g.a.createElement("span",Hn(a,"key-modal-cancel"),g.a.createElement(To,Object.assign({},Hn(a,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){Zn.dispatch({rjvId:n,name:"RESET"})}})))))}}]),t}(g.a.PureComponent);function rr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var cr=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).isValid=function(e){var t=a.props.rjvId,n=no.get(t,"action","new-key-request");return""!=e&&-1===Object.keys(n.existing_value).indexOf(e)},a.submit=function(e){var t=a.props.rjvId,o=no.get(t,"action","new-key-request");o.new_value=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rr(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},o.existing_value),o.new_value[e]=a.props.defaultValue,Zn.dispatch({name:"VARIABLE_ADDED",rjvId:t,data:o})},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.active,a=e.theme,n=e.rjvId;return t?g.a.createElement(or,{rjvId:n,theme:a,isValid:this.isValid,submit:this.submit}):null}}]),t}(g.a.PureComponent),ir=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.message,a=e.active,n=e.theme,o=e.rjvId;return a?g.a.createElement("div",Object.assign({className:"validation-failure"},Hn(n,"validation-failure"),{onClick:function(){Zn.dispatch({rjvId:o,name:"RESET"})}}),g.a.createElement("span",Hn(n,"validation-failure-label"),t),g.a.createElement(To,Hn(n,"validation-failure-clear"))):null}}]),t}(g.a.PureComponent);function sr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function dr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?sr(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var lr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).rjvId=Date.now().toString(),a.getListeners=function(){return{reset:a.resetState,"variable-update":a.updateSrc,"add-key-request":a.addKeyRequest}},a.updateSrc=function(){var e,t=no.get(a.rjvId,"action","variable-update"),n=t.name,o=t.namespace,r=t.new_value,c=t.existing_value,i=(t.variable_removed,t.updated_src),s=t.type,d=a.props,l=d.onEdit,u=d.onDelete,f=d.onAdd,b={existing_src:a.state.src,new_value:r,updated_src:i,name:n,namespace:o,existing_value:c};switch(s){case"variable-added":e=f(b);break;case"variable-edited":e=l(b);break;case"variable-removed":e=u(b)}!1!==e?(no.set(a.rjvId,"global","src",i),a.setState({src:i})):a.setState({validationFailure:!0})},a.addKeyRequest=function(){a.setState({addKeyRequest:!0})},a.resetState=function(){a.setState({validationFailure:!1,addKeyRequest:!1})},a.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:t.defaultProps.src,name:t.defaultProps.name,theme:t.defaultProps.theme,validationMessage:t.defaultProps.validationMessage,prevSrc:t.defaultProps.src,prevName:t.defaultProps.name,prevTheme:t.defaultProps.theme},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){no.set(this.rjvId,"global","src",this.state.src);var e=this.getListeners();for(var t in e)no.on(t+"-"+this.rjvId,e[t]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(e,t){!1!==t.addKeyRequest&&this.setState({addKeyRequest:!1}),!1!==t.editKeyRequest&&this.setState({editKeyRequest:!1}),e.src!==this.state.src&&no.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var e=this.getListeners();for(var t in e)no.removeListener(t+"-"+this.rjvId,e[t])}},{key:"render",value:function(){var e=this.state,t=e.validationFailure,a=e.validationMessage,n=e.addKeyRequest,o=e.theme,r=e.src,c=e.name,i=this.props,s=i.style,d=i.defaultValue;return g.a.createElement("div",{className:"react-json-view",style:dr({},Hn(o,"app-container").style,{},s)},g.a.createElement(ir,{message:a,active:t,theme:o,rjvId:this.rjvId}),g.a.createElement(nr,Object.assign({},this.props,{src:r,name:c,theme:o,type:zn(r),rjvId:this.rjvId})),g.a.createElement(cr,{active:n,theme:o,rjvId:this.rjvId,defaultValue:d}))}}],[{key:"getDerivedStateFromProps",value:function(e,a){if(e.src!==a.prevSrc||e.name!==a.prevName||e.theme!==a.prevTheme){var n={src:e.src,name:e.name,theme:e.theme,validationMessage:e.validationMessage,prevSrc:e.src,prevName:e.name,prevTheme:e.theme};return t.validateState(n)}return null}}]),t}(g.a.PureComponent);lr.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null,rejectMatching:null},lr.validateState=function(e){var t={};"object"!==zn(e.theme)||function(e){var t=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if("object"===zn(e)){for(var a=0;a<t.length;a++)if(!(t[a]in e))return!1;return!0}return!1}(e.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),t.theme="rjv-default");var a=zn(e.src);return"object"!==a&&"array"!==a&&(console.error("json tree: src should be json but is ".concat(a),e.src),t.name="ERROR",t.src={message:"".concat(a," is not an object"),src:e.src}),dr({},e,{},t)},Object(Ln.polyfill)(lr);var ur=lr,fr=a(69),br=function(e){return g.a.createElement(fr.a,{hoverCloseDelay:56,hoverOpenDelay:50,interactionKind:e.interactionKind||fr.b.HOVER,popoverClassName:"bp3-popover-content-sizing",className:"bp3-dark",transitionDuration:48},e.anchor,g.a.createElement("div",{className:"bp3-dark attr-help-content ignore-react-onclickoutside"},e.contentDesc&&g.a.createElement("div",{className:"attr-pop-content-header"},e.contentDesc),g.a.createElement("div",null,e.content)))},pr=window.Types,mr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={fullDocs:!0,width:380,resizerTop:0},a._setListener=function(e){a.listener=e.registerListener(a._updateListener)},a._updateListener=Object(P.throttle)((function(){return a.forceUpdate()}),60),a._helpInfo=function(e){return!e.type.hasHelpInfo()||a.state.fullDocs?null:g.a.createElement(br,{anchor:g.a.createElement("i",{className:"fa fa-eye attr-indicator attr-help"}),content:e.type.description,contentDesc:"DESCRIPTION",interactionKind:fr.b.CLICK})},a._docInfo=function(e){return a.state.fullDocs?g.a.createElement("div",{className:"attr-doc"},e.type.description):null},a._changeables=function(){var e=a.props.node.changeables();return Object.keys(e).map((function(t,n){var o=e[t].map((function(o,r){return g.a.createElement("div",{key:"changeable-".concat(r,"-").concat(t)},g.a.createElement("div",{className:"attr-title"},o.title,a._helpInfo(o),g.a.createElement("span",{style:yr.spacer}),g.a.createElement(br,{anchor:g.a.createElement("span",{className:"attr-type-indicator attr-help"},o.type.name),content:o.type.typeDescription,contentDesc:"TYPE"})),a._docInfo(o),g.a.createElement("div",{className:"attr-value-row".concat(r===e[t].length-1?" attr-last":"")},g.a.createElement(hr,{item:o,editOnHotkey:0===r&&0===n})))}));return g.a.createElement("div",{key:t},g.a.createElement("div",{className:"changeable-section-title"},t,":"),g.a.createElement("div",null,o))}))},a._description=function(){var e=a.props.node,t=a.state.fullDocs;if(!e.constructor.description)return null;var n=e.constructor.description,o=t?n:j(n);return g.a.createElement("div",{className:"node-description"},o)},a._signature=function(){return a.props.node.signature(0,{fontSize:10,padding:"0 16px 12px",color:"rgba(250, 250, 250, 0.8)"})},a._toggleDocs=function(){return a.setState({fullDocs:!a.state.fullDocs})},a._onResize=function(e){return a.setState({width:window.innerWidth-e.clientX})},a._onScroll=function(e){return a.setState({resizerTop:e.target.scrollTop})},a.root=g.a.createRef(),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"renderHotkeys",value:function(){return g.a.createElement(tn.a,null,g.a.createElement(an.a,{global:Boolean(this.props.node),group:"Detail Pane",combo:"meta + j",label:"Toggle Docs",onKeyDown:this._toggleDocs}))}},{key:"componentDidMount",value:function(){this.props.node&&this._setListener(this.props.node)}},{key:"componentDidUpdate",value:function(e){if(Object(P.get)(this,"props.node.id")!==Object(P.get)(e,"node.id")){if(e&&e.node){var t=this.listener;t&&e.node.removeListener(t),this.listener=null}this.props.node&&this._setListener(this.props.node),this.root&&this.root.current&&(this.root.current.scrollTop=0)}}},{key:"componentWillUnmount",value:function(){var e=this.props.node,t=this.listener;t&&e.removeListener(t)}},{key:"render",value:function(){if(!this.props.node)return g.a.createElement("div",null);var e=this.state,t=e.fullDocs,a=e.width;return g.a.createElement("div",{ref:this.root,className:"attribute-pane ignore-react-onclickoutside",style:{width:a},onScroll:this._onScroll},g.a.createElement("h3",{className:"pane-header"},this.props.node.title||F.nameFrom(this.props.node.constructor)),this._signature(),this._description(),g.a.createElement("div",{className:"attr-doc-toggle",onClick:this._toggleDocs},t?"Collapse":"Expand"," Docs"),g.a.createElement("hr",null),g.a.createElement("div",{className:"attr-list"},this._changeables()),g.a.createElement(rn.DraggableCore,{onDrag:this._onResize},g.a.createElement("div",{id:"attr-pane-resizer",style:{top:this.state.resizerTop}})))}}]),t}(g.a.PureComponent),hr=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r))))._isComplex=function(){return a.props.item.type.isA(pr.any)?"object"===typeof a.props.item.value:a.props.item.type.isComplex()},a._onEdit=function(e){var t=Object(P.get)(a.props,"item.onChange");t&&t(a._isComplex()?e.updated_src:e.updated_src.value)},a._getEdit=function(){if(Object(P.get)(a.props,"item.onChange"))return a._onEdit},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.item,t=e.value,a=e.type,n=this._isComplex(),o=n?t:{value:t};return g.a.createElement(ur,{src:o,attrType:a,isPrimitive:!n,name:null,indentWidth:2,collapsed:1,onEdit:this._getEdit(),enableClipboard:!1,displayObjectSize:!1,collapseStringsAfterLength:20,displayDataTypes:!1,rejectMatching:/^_/,editOnHotkey:this.props.editOnHotkey})}}]),t}(g.a.PureComponent);hr.defaultProps={disabled:!1,editOnHotkey:!1};var yr={spacer:{flex:1}},gr=Object(on.a)(mr),vr=a(68),Or=a.n(vr),Pr=a(337),jr=a(153),Ir=a(154),wr=window.allNodes,xr=function(e,t){var a=t.handleClick,n=t.modifiers;t.query;return g.a.createElement(jr.a,{className:"bp3-dark",active:n.active,disabled:n.disabled,label:L(e,12),key:e.displayName,onClick:a,text:e.displayName.substring(0,20)})},Er=g.a.createElement(jr.a,{disabled:!0,text:"No matching nodes"}),_r=function(e){var t=e.filteredItems.map(e.renderItem).filter((function(e){return null!=e})),a=t.length>0?t:Er;return g.a.createElement(Ir.a,{ulRef:e.itemsParentRef},a)},Nr=new Or.a(wr,["displayName"]),Sr=function(e){return(Boolean(e)?Nr.search(e):wr).slice(0,12)},kr=function(e){return g.a.createElement(Pr.a,Object.assign({},e,{items:wr,className:"bp3-dark",itemListPredicate:Sr,resetOnSelect:!0,itemListRenderer:_r,itemRenderer:xr,noResults:Er}))};var Cr=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).openFileInput=function(){a.fileInput&&a.fileInput.click()},a._onFile=function(e){var t=Object(P.get)(e,["target","files",0]);t&&a.props.onFile(t)},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return g.a.createElement("input",{onChange:this._onFile,style:{display:"none"},ref:function(t){return e.fileInput=t},type:"file"})}}]),t}(g.a.PureComponent),Tr=a(324),Ar=a(66),Dr=a(151),Rr=a(57),Mr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e)))._onChange=function(e){a.setState({name:e.target.value})},a._onInputKeyUp=function(e){"Enter"===Object(P.get)(e,"key")&&a._onSave()},a._onSave=function(){a.props.saveFile(a.state.name)},a.state={name:e.initial||""},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleClose,a=e.isOpen,n=this.state.name;return g.a.createElement(Tr.a,{className:"bp3-dark",onClose:t,title:"Export Graph",isOpen:a,icon:"download"},g.a.createElement("div",{className:bn.a.DIALOG_BODY},g.a.createElement("p",null,"Save a serialized version of this graph"),g.a.createElement(Ar.c,null,"Save As...",g.a.createElement("input",{style:Lr.input,onKeyUp:this._onInputKeyUp,autoFocus:!0,className:bn.a.INPUT,type:"text",placeholder:"project1",dir:"auto",onChange:this._onChange,value:n}))),g.a.createElement("div",{className:bn.a.DIALOG_FOOTER},g.a.createElement("div",{className:bn.a.DIALOG_FOOTER_ACTIONS},g.a.createElement(Dr.b,{onClick:t,minimal:!0},"Cancel"),g.a.createElement(Dr.b,{intent:Rr.a.PRIMARY,onClick:this._onSave,minimal:!0},"Download"))))}}]),t}(g.a.PureComponent),Lr={input:{marginTop:18}};function Kr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var zr=function(e,t){var a=t.handleClick,n=t.modifiers;t.query;return g.a.createElement(jr.a,{className:"bp3-dark",active:n.active,disabled:n.disabled,key:e.id,onClick:a,text:String(e.name()).substring(0,20)})},Fr=g.a.createElement(jr.a,{disabled:!0,text:"No matching node in graph"}),Gr=function(e){var t=e.filteredItems.map(e.renderItem).filter((function(e){return null!=e})),a=t.length>0?t:Fr;return g.a.createElement(Ir.a,{ulRef:e.itemsParentRef},a)},Vr=function(e){var t=Object(P.get)(e.graph,"nodes",[]).map((function(e){return e.node})),a=new Or.a(t.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Kr(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Kr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{_name:e.name()})})),["_name","constructor.displayName"]);return g.a.createElement(Pr.a,Object.assign({},e,{items:t,className:"bp3-dark",itemListPredicate:function(e){return function(e,t,a){return(Boolean(e)?t.search(e):a).slice(0,12)}(e,a,t)},resetOnSelect:!0,itemListRenderer:Gr,itemRenderer:zr,noResults:g.a.createElement(jr.a,{disabled:!0,text:"No matching nodes"})}))},Br=[a(310),a(311),a(312),a(313),a(314),a(315),a(316),a(317),a(318),a(319),a(320),a(321)],qr=function(e,t){var a=t.handleClick,n=t.modifiers;return g.a.createElement(jr.a,{className:"bp3-dark",active:n.active,disabled:n.disabled,label:e.description||"".concat(e.nodes.length," nodes"),key:e.name||I(),onClick:a,text:(e.name||"untitled").substring(0,40)})},Ur=g.a.createElement(jr.a,{disabled:!0,text:"No matching examples"}),Wr=function(e){var t=e.filteredItems.map(e.renderItem).filter((function(e){return null!=e})),a=t.length>0?t:Ur;return g.a.createElement(Ir.a,{ulRef:e.itemsParentRef},a)},Hr=new Or.a(Br,["name"]),Jr=function(e){return(Boolean(e)?Hr.search(e):Br).slice(0,12)},Yr=function(e){return g.a.createElement(Pr.a,Object.assign({},e,{items:Br,className:"bp3-dark",itemListPredicate:Jr,resetOnSelect:!0,itemListRenderer:Wr,itemRenderer:qr,noResults:Ur,inputProps:{placeholder:"Examples..."}}))},Xr=a(150);function Qr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qr(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Zr=function(){return window.location.replace("/")},ec=Object(en.a)([xn.c],(function(e){return{infoShowing:Boolean(e)}})),tc=Object(Za.b)(ec)((function(e){var t=e.loadExample,a=e.insertNode,n=e.toggleVis,o=e.graphVisible,r=e.exportJSON,c=e.loadJSON,i=e.title,s=e.toggleInfo,d=e.infoShowing,l=e.reBake,u=e.setTitle;return g.a.createElement("div",{className:"graph-toolbar ignore-react-onclickoutside"},g.a.createElement("div",{style:$r({},nc.toolSection,{},nc.leftAlign)},g.a.createElement(Xr.a,{content:"load an example"},g.a.createElement(Dr.a,{minimal:!0,icon:"folder-shared-open",large:!0,onClick:t})),g.a.createElement(Xr.a,{content:"insert a new node"},g.a.createElement(Dr.a,{minimal:!0,icon:"new-link",large:!0,onClick:a})),g.a.createElement(Xr.a,{content:"".concat(o?"hide":"show"," graph")},g.a.createElement(Dr.a,{minimal:!0,icon:o?"eye-open":"eye-off",large:!0,onClick:n})),g.a.createElement(Xr.a,{content:"clean & rerun"},g.a.createElement(Dr.a,{minimal:!0,icon:"clean",large:!0,onClick:l})),g.a.createElement(Xr.a,{content:"clear everything"},g.a.createElement(Dr.a,{minimal:!0,icon:"reset",large:!0,onClick:Zr})),g.a.createElement(Xr.a,{content:"export graph as JSON"},g.a.createElement(Dr.a,{minimal:!0,icon:"download",large:!0,onClick:r})),g.a.createElement(Xr.a,{content:"open JSON file"},g.a.createElement(Dr.a,{minimal:!0,icon:"upload",large:!0,onClick:c}))),g.a.createElement(hn,{value:i,onChange:u,style:nc.title}),g.a.createElement("div",{style:$r({},nc.toolSection,{},nc.rightAlign)},g.a.createElement(Xr.a,{content:"open github repo"},g.a.createElement(Dr.a,{minimal:!0,icon:"git-repo",large:!0,href:"https://github.com/kousun12/eternal",target:"_blank"})),g.a.createElement(Xr.a,{content:"node API docs"},g.a.createElement(Dr.a,{minimal:!0,icon:"panel-stats",large:!0,href:"https://github.com/kousun12/eternal/blob/master/docs.md",target:"_blank"})),g.a.createElement(Xr.a,{content:"show keyboard shortcuts"},g.a.createElement(Dr.a,{minimal:!0,icon:"key-command",large:!0,onClick:ac})),g.a.createElement(Xr.a,{content:"".concat(d?"hide":"show"," info pane")},g.a.createElement(Dr.a,{minimal:!0,icon:"chevron-".concat(d?"right":"left"),large:!0,onClick:s}))))})),ac=function(){document.dispatchEvent(new KeyboardEvent("keydown",{which:47,keyCode:47,shiftKey:!0,bubbles:!0}))},nc={toolSection:{flex:1,display:"flex",alignItems:"center"},leftAlign:{justifyContent:"flex-start"},rightAlign:{justifyContent:"flex-end"},title:{fontSize:16,textAlign:"center"}},oc=function(e){var t=e.title,a=e.onClose,n=e.load;return g.a.createElement(Tr.a,{canOutsideClickClose:!1,isOpen:Boolean(t),className:"bp3-dark",title:"Load...",onClose:a},g.a.createElement("div",{className:bn.a.DIALOG_FOOTER},g.a.createElement("div",{className:bn.a.DIALOG_BODY},g.a.createElement("p",null,"you are about to load the example"),g.a.createElement("p",null,"~",t,"~")),g.a.createElement("div",{className:bn.a.DIALOG_FOOTER_ACTIONS},g.a.createElement(Dr.b,{onClick:n,minimal:!0,intent:Rr.a.PRIMARY},"\ud83d\udc7e ok computer"))))},rc=a(338),cc=Object(Za.b)((function(e){return{zoom:e.graph.view.zoom}}),(function(e){return{setScale:function(t){return e(Object(xn.i)(t))}}}))((function(e){var t=e.zoom,a=e.setScale;return g.a.createElement("div",{className:"zoomer"},g.a.createElement(rc.a,{className:"bp3-dark",min:0,max:xn.n.length-1,stepSize:1,labelStepSize:10,onChange:a,value:t,labelRenderer:function(e){return"".concat(xn.n[e]/100,"x")},showTrackFill:!1}))})),ic={exId:/[?&]e=([\w-\d% +]+)&?/,hide:/[?&]h=(\d)&?/,debug:/[?&]d=(\d)&?/},sc=a(322),dc={x:70,y:120},lc=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).nodeIndex=0,a.mostRecentNode=null,a._mousePos=dc,a._insertPos=null,a.state={searchOpen:!1,saveOpen:!1,graph:null,searchingNodes:!1,visible:!0,searchingExamples:!1,promptLoad:null},a._paramFor=function(e){return Object(P.get)(window.location.search.match(e),1)},a._onMouseMove=Object(P.throttle)((function(e){a._mousePos={x:e.clientX,y:e.clientY}}),30),a._setGraph=function(e){a.state.graph&&a.state.graph.dispose(),window.$node=null,a.setState({graph:null},(function(){a.mostRecentNode=Object(P.get)(e.nodes,[0,"node"]);var t=e.nodes.find((function(e){return"README"===e.node.title}));a._setInfoOpen(t?t.node.id:null),"number"===typeof e.meta.zoom&&a.props.setScale(e.meta.zoom),a.setState({graph:e},(function(){return window.$graph=e}))}))},a._setInfoOpen=function(e){return a.props.showNode!==e&&a.props.setInfoOpen(e)},a._onSearch=function(){return!a.state.searchOpen&&a.setState({searchOpen:!0})},a._searchExamples=function(){return!a.state.searchingExamples&&a.setState({searchingExamples:!0})},a._exportJSON=function(e){var t=a._getSerialization(e);t&&function(e,t){var a="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download",t+".json"),document.body.appendChild(n),n.click(),n.remove()}(t,t.name||e),a._closeSave()},a._getSerialization=function(e){var t=a.state.graph,n=a.props.view.zoom;return t&&t.serialize(e||t.name,{zoom:n})},a._loadJSON=function(){return a.fileUpload&&a.fileUpload.openFileInput()},a._onFileUpload=function(e){return wn.fromFile(e,a._loadGraph)},a._loadGraph=function(e){a._paramFor(ic.exId)?a._reload():a._setGraph(wn.load(e))},a._loadExample=function(e){sessionStorage.setItem("graph",JSON.stringify(e)),window.location.replace("/")},a._toggleDebug=function(){window.$debug=!window.$debug,a.setState({visible:!1},(function(){return a.setState({visible:!0})}))},a._addNode=function(e){var t=a.state.graph,o=a.props,r=o.view,c=o.updatePos,i=o.showNode,s=o.selSet;if(a.setState({searchOpen:!1}),t){var d=new e,l=a._insertPos||E(M(a._mousePos,r.scaleInverse),{x:30,y:30});t.addNode(d,l),i&&a._onNodeSelect(d),s([d.id]),c(Object(n.a)({},d.id,l))}a._insertPos=null},a._onNodeSelect=function(e,t){a._setInfoOpen(Object(P.get)(e,"id",null));var n=e;n&&(a.mostRecentNode=n,"number"===typeof t&&(a.nodeIndex=t),window.$node=e),a.state.searchingNodes&&a._closeSearch()},a._closeSearch=function(){return a.setState({searchOpen:!1,searchingNodes:!1,searchingExamples:!1})},a._closeSave=function(){return a.setState({saveOpen:!1})},a._showSave=function(){return a.setState({saveOpen:!0})},a._showNodeSearch=function(){return a.setState({searchingNodes:!0})},a._toggleGraph=function(){return a.setState({visible:!a.state.visible})},a._loadUrl=function(e){var t=a.state.promptLoad,n=wn.serialization(e);if(n||t){var o=n||Br.find((function(e){return e.name===t}));o&&a._setGraph(wn.load(o))}a.setState({promptLoad:null})},a._nextNode=function(){if(a.props.showNode){var e=Object(P.get)(a.state.graph,"nodes",[]);e.length<2||(a.nodeIndex=(a.nodeIndex+1)%e.length,a._onNodeSelect(e[a.nodeIndex].node))}},a._prevNode=function(){if(a.props.showNode){var e=Object(P.get)(a.state.graph,"nodes",[]);e.length<2||(a.nodeIndex=((a.nodeIndex-1)%e.length+e.length)%e.length,a._onNodeSelect(e[a.nodeIndex].node))}},a._toggleInfo=function(){return a.props.setInfoOpen(a.props.showNode?null:Object(P.get)(a.mostRecentNode,"id"))},a._reload=function(){return window.location.replace("/")},a._saveGraphToSession=function(){return sessionStorage.setItem("graph",JSON.stringify(a._getSerialization()))},a._reBake=function(){a._saveGraphToSession(),window.location.replace("/")},a._closePrompt=function(){a.setState({promptLoad:null}),a._reload()},a._setName=function(e){var t=a.state.graph;t&&(t.setName(e),a.setState({graph:t}))},a._manualInsert=function(){a._onSearch(),a._insertPos=dc},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=!0,t=sessionStorage.getItem("graph");if(t){var a=wn.serialization(JSON.parse(t)),n=a&&wn.load(a);n&&(e=!1,this._setGraph(n),sessionStorage.removeItem("graph"))}var o=this._paramFor(ic.exId);if(o){var r=decodeURIComponent(o).replace(/\+/g," ");Br.find((function(e){return e.name===r}))&&(e=!1,this.setState({promptLoad:r}))}e&&this._setGraph(wn.load(sc));var c=this._paramFor(ic.hide);"string"===typeof c&&this.setState({visible:"0"===c});var i=this._paramFor(ic.debug);"string"===typeof i&&"1"===i&&this._toggleDebug(),document.addEventListener("mousemove",this._onMouseMove)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this._onMouseMove)}},{key:"render",value:function(){var e=this,t=this.state,a=t.graph,n=t.searchOpen,o=t.saveOpen,r=t.searchingNodes,c=t.visible,i=t.searchingExamples,s=t.promptLoad,d=this.props.showNode,l=Object(P.get)(a,"name",""),u=d&&a?Object(P.get)(a.nodeWithId(d),"node",null):null;return g.a.createElement(g.a.Fragment,null,g.a.createElement(tc,{loadExample:this._searchExamples,insertNode:this._manualInsert,toggleVis:this._toggleGraph,graphVisible:c,toggleDebug:this._toggleDebug,exportJSON:this._showSave,loadJSON:this._loadJSON,title:l,toggleInfo:this._toggleInfo,reBake:this._reBake,setTitle:this._setName}),a&&g.a.createElement(Mn,{visible:c,graph:a,onNodeSelectionChange:this._onNodeSelect}),g.a.createElement(gr,{node:c?u:null}),c&&g.a.createElement(cc,null),o&&g.a.createElement(Mr,{initial:l,isOpen:o,handleClose:this._closeSave,saveFile:this._exportJSON}),a&&g.a.createElement(Vr,{isOpen:r,onItemSelect:this._onNodeSelect,onClose:this._closeSearch,graph:a}),g.a.createElement(kr,{isOpen:n,onItemSelect:this._addNode,onClose:this._closeSearch}),g.a.createElement(Yr,{isOpen:i,onItemSelect:this._loadExample,onClose:this._closeSearch}),s&&g.a.createElement(oc,{onClose:this._closePrompt,title:s,load:this._loadUrl}),g.a.createElement(Cr,{onFile:this._onFileUpload,ref:function(t){return e.fileUpload=t}}))}},{key:"renderHotkeys",value:function(){return this.state.promptLoad?g.a.createElement(tn.a,null,g.a.createElement(an.a,{global:!0,combo:"enter",label:"Load Example",onKeyDown:this._loadUrl})):g.a.createElement(tn.a,null,g.a.createElement(an.a,{global:!0,combo:"alt + e",label:"Load an Example...",onKeyDown:this._searchExamples}),g.a.createElement(an.a,{global:!0,combo:"meta + k",label:"Add Node",onKeyDown:this._onSearch}),g.a.createElement(an.a,{global:!0,combo:"esc",label:"Info Pane (show / hide)",onKeyDown:this._toggleInfo}),g.a.createElement(an.a,{global:!0,combo:"shift + meta + v",label:"Graph (show / hide)",onKeyDown:this._toggleGraph}),g.a.createElement(an.a,{global:!0,combo:"shift + meta + f",label:"Search existing nodes",onKeyDown:this._showNodeSearch}),g.a.createElement(an.a,{global:!0,combo:"shift + meta + s",label:"Export as JSON",onKeyDown:this._showSave}),g.a.createElement(an.a,{global:!0,combo:"shift + meta + o",label:"Load from JSON",onKeyDown:this._loadJSON}),g.a.createElement(an.a,{global:!0,combo:"alt + r",label:"Clean & Rerun",onKeyDown:this._reBake}),g.a.createElement(an.a,{global:!0,combo:"shift + meta + x",label:"Clear Everything",onKeyDown:this._reload}),g.a.createElement(an.a,{global:!0,combo:"alt + d",label:"Debug Mode",onKeyDown:this._toggleDebug}),g.a.createElement(an.a,{global:!0,combo:"j",label:"Next Node",onKeyDown:this._nextNode,group:"Selection"}),g.a.createElement(an.a,{global:!0,combo:"k",label:"Prev Node",onKeyDown:this._prevNode,group:"Selection"}))}}]),t}(g.a.PureComponent);Object(nn.c)({className:"bp3-dark",globalHotkeysGroup:"Menu"});var uc=Object(on.a)(lc),fc=Object(en.a)([xn.c,xn.e],(function(e,t){return{showNode:e,view:t}}));t.default=Object(Za.b)(fc,(function(e){return{setInfoOpen:function(t){return e(Object(xn.g)(t))},updatePos:function(t){return e(Object(xn.j)(t))},setScale:function(t){return e(Object(xn.i)(t))},selSet:function(t){return e(Object(xn.b)(t))}}}))(uc)},162:function(e,t,a){e.exports=a(323)},17:function(e,t,a){"use strict";var n=a(12),o=a(39),r=a(114),c=a(44),i=a(7);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}a.d(t,"n",(function(){return u})),a.d(t,"f",(function(){return v})),a.d(t,"e",(function(){return I})),a.d(t,"c",(function(){return w})),a.d(t,"d",(function(){return x})),a.d(t,"b",(function(){return E})),a.d(t,"g",(function(){return _})),a.d(t,"k",(function(){return S})),a.d(t,"l",(function(){return k})),a.d(t,"m",(function(){return C})),a.d(t,"h",(function(){return T})),a.d(t,"i",(function(){return A})),a.d(t,"j",(function(){return D}));var d=Object(o.b)({slice:"selected",initialState:[],reducers:{selSet:function(e,t){return t.payload}}}),l=Object(o.b)({slice:"infoOpen",initialState:null,reducers:{setInfoOpen:function(e,t){return t.payload}}}),u=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=[],o=e[0];o<=e[1];)n.push(o),o+=t;return n.map((function(e){return 0===a?parseInt(e.toFixed(a),10):parseFloat(e.toFixed(a))}))}([5,205],5,0),f={pan:{x:0,y:0},zoom:u.indexOf(100)},b=Object(o.b)({slice:"view",initialState:f,reducers:{setScale:function(e,t){e.zoom=t.payload},zoomIn:function(e,t){e.zoom=Math.min(u.length-1,e.zoom+1)},zoomOut:function(e,t){e.zoom=Math.max(0,e.zoom-1)},zoomReset:function(e){e.zoom=f.zoom,e.pan=f.pan},setPan:function(e,t){e.pan=t.payload}}}),p=Object(o.b)({slice:"nodePos",initialState:{},reducers:{updatePos:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},t.payload)}}}),m=function(e){return e.graph.selected},h={},y=Object(r.a)([m],(function(e){return e.length?Object(i.fromPairs)(e.map((function(e){return[e,!0]}))):h})),g=Object(r.a)([m],(function(e){return e.length})),v=Object(r.a)([y,g],(function(e,t){return{selected:e,selectCount:t}})),O=function(e){return e.graph.view.zoom},P=Object(r.a)([O],(function(e){return u[e]/100})),j=Object(r.a)([P],(function(e){return 1/e})),I=Object(r.a)([function(e){return e.graph.view.pan},P,j,O],(function(e,t,a,n){return{pan:e,scale:t,scaleInverse:a,zoom:n}})),w=function(e){return e.graph.infoOpen},x=function(e){return e.graph.nodePos},E=d.actions.selSet,_=l.actions.setInfoOpen,N=b.actions,S=N.zoomIn,k=N.zoomOut,C=N.zoomReset,T=N.setPan,A=N.setScale,D=p.actions.updatePos;t.a=Object(c.combineReducers)({selected:d.reducer,infoOpen:l.reducer,view:b.reducer,nodePos:p.reducer})},189:function(e,t){},190:function(e,t){},191:function(e,t){},198:function(e,t,a){},310:function(e){e.exports=JSON.parse('{"name":"nude, eternally","nodes":[{"id":"2e5487d5-8ca7-4bd4-a27f-c085f1aae2f5","type":"SynthNode","x":-98.07142857142708,"y":638.1176470588241,"state":{}},{"id":"949366d3-e5a8-473f-9479-09c49282f4eb","type":"SynthNode","x":-98.07142857142708,"y":765.8039215686276,"state":{}},{"id":"2564a8c0-4759-41f6-bae6-07a4e0aebf8c","type":"SynthNode","x":-98.07142857142708,"y":1020.7450980392168,"state":{}},{"id":"59d49a0e-7aad-447d-b6da-3b8512917eb2","type":"SynthNode","x":-98.07142857142708,"y":893.5098039215693,"state":{}},{"id":"20a63f42-82f9-419d-966f-8baf56eb5212","type":"string","x":-338.40476190476033,"y":845.9999999999995,"state":{"value":"sawtooth"}},{"id":"f0f04f59-b1c2-4c01-97cc-0747b11eb2c2","type":"string","x":-338.40476190476033,"y":1045.0000000000005,"state":{"value":"sine"}},{"id":"049c2ac3-7367-46af-890f-7f0566d1dfb3","type":"string","x":-338.40476190476033,"y":665.3333333333335,"state":{"value":"triangle"}},{"id":"ab5b28ea-2a05-4514-b8f1-b7f504402e1d","type":"ChordNode","x":-578.7380952380965,"y":-7.333333333333712,"state":{}},{"id":"05c5ba59-9e15-40d9-bfea-3a469e8c9017","type":"ArpeggiateNode","x":-98.07142857142708,"y":-375.7323232323233,"state":{}},{"id":"87346768-b2b5-43df-952f-c43deb90a0ed","type":"AttackReleaseNode","x":549.9841269841259,"y":-394.2777777777785,"state":{}},{"id":"2bf1569d-536b-41cd-9918-de10200bf0ed","type":"string","x":-826.7380952380965,"y":28.666666666666288,"state":{"value":"Maj7"}},{"id":"50de4b1d-a196-4dbc-8274-21973f104a1e","type":"string","x":-826.7380952380965,"y":-14.333333333333712,"state":{"value":"C#3"}},{"id":"5665dc0e-aa69-46d0-9f78-5ee5311b40c1","type":"string","x":-578.7380952380965,"y":-217.6666666666672,"state":{"value":"4n"}},{"id":"6c9dc8a1-f751-4f4c-9871-35d3bc5cd6f5","type":"string","x":-578.7380952380965,"y":-187.6666666666672,"state":{"value":"random"}},{"id":"f959875e-65a2-4534-b65c-757fb07acf72","type":"boolean","x":-578.7380952380965,"y":-155.66666666666714,"state":{"value":true}},{"id":"e103a7ec-1205-4da7-9a3d-d6c128ff8d67","type":"string","x":-98.07142857142708,"y":533.4999999999999,"state":{"value":"1n"}},{"id":"b5db734d-7bc0-4436-a058-2147c1ab663d","type":"PannerNode","x":757.5649350649355,"y":735.1072065189708,"state":{}},{"id":"9af40d03-7ec7-46da-b791-59678af7d803","type":"number","x":529.4437229437232,"y":673.0303030303028,"state":{"value":-0.5}},{"id":"9b46cb83-d458-451d-a27f-6d26716d405b","type":"FeedbackDelayNode","x":1087.564935064937,"y":822.4545454545439,"state":{}},{"id":"58004a94-2a1b-47f7-abf5-4610f8b34f9c","type":"string","x":757.5649350649355,"y":966.1212121212104,"state":{"value":"8n"}},{"id":"f6611f80-5fb0-4851-96e4-d6df37eefefc","type":"number","x":757.5649350649355,"y":1002.4545454545437,"state":{"value":0.5}},{"id":"981a7360-a931-412e-93ce-c6cc2ea53ffb","type":"AudioMasterNode","x":2217.5952380952367,"y":1110.5454545454545,"state":{}},{"id":"1cd59319-c979-426b-b9a4-3e962500523d","type":"ReverbNode","x":1385.5649350649362,"y":913.7878787878783,"state":{}},{"id":"ae76df4f-da44-4968-968c-36f2ac341247","type":"CompressorNode","x":1945.2619047619037,"y":1102.8787878787875,"state":{}},{"id":"34f632fe-a8e5-4867-bf9d-fb990e2d2ac6","type":"number","x":1087.564935064937,"y":963.7878787878781,"state":{"value":200}},{"id":"1b34f6e0-c72b-40b4-94dc-fa589d2fe0e9","type":"number","x":1087.564935064937,"y":996.7878787878781,"state":{"value":0.4}},{"id":"7f716690-74c5-4f9a-9da9-04c7e42440e6","type":"number","x":1651.9285714285713,"y":1239.5454545454559,"state":{"value":-2}},{"id":"f3487774-8560-48d4-bf1a-17a570e339e5","type":"number","x":1651.9285714285713,"y":1272.5454545454559,"state":{"value":3}},{"id":"e2183f6a-7f0e-4988-b639-49143618be85","type":"StartTransportNode","x":876.9285714285713,"y":1127.5454545454556,"state":{}},{"id":"055f9693-405e-41ce-9832-3325e71a6d3d","type":"TransportTimeNode","x":638.9285714285714,"y":1162.5454545454559,"state":{}},{"id":"92060d3c-e6ce-496f-8b69-f1e16a4f685d","type":"PlayerNode","x":1385.5649350649362,"y":1130.212121212122,"state":{}},{"id":"bf06ead4-17a0-4083-ad47-87c67c0467eb","type":"string","x":1106.595238095238,"y":1144.2121212121224,"state":{"value":"/sounds/thom.mp3"}},{"id":"3c640bfb-d929-46e4-a2bb-c535476e11e4","type":"VolumeNode","x":1651.9285714285713,"y":1120.212121212122,"state":{}},{"id":"1edf7d98-cf3b-49d7-94a3-21d0c253b0e3","type":"number","x":1385.5649350649362,"y":1270.2121212121233,"state":{"value":4}},{"id":"7b94caf6-4bc3-490a-a2f9-7014a81439bd","type":"EqualsNode","x":1106.595238095238,"y":1234.2121212121226,"state":{}},{"id":"43fb4c47-f78a-4d8e-99d3-9b8d846f011a","type":"string","x":876.9285714285713,"y":1327.8787878787891,"state":{"value":"started"}},{"id":"c1759a34-f752-4ca7-8873-1ca65e806f05","type":"ExtractNode","x":876.9285714285713,"y":1216.8787878787894,"state":{}},{"id":"ae9f93ab-b403-4510-8cee-bc75dafaa62e","type":"string","x":638.9285714285714,"y":1254.2121212121226,"state":{"value":"state"}},{"id":"6a826f5a-4668-4a9e-a0a4-8a3aa04407e7","type":"number","x":403.5952380952381,"y":1178.5454545454559,"state":{"value":10}},{"id":"3bd1a49f-d963-4d04-902b-43b16fcf6cab","type":"AttackReleaseNode","x":549.9841269841259,"y":-235.27777777777828,"state":{}},{"id":"aaa5d4e0-e0d6-4e41-bb97-bb9bc048cbc7","type":"ChordNode","x":-578.7380952380965,"y":143.6666666666663,"state":{}},{"id":"cc32259c-6570-4df7-a832-07a63f6f5d6a","type":"string","x":-826.7380952380965,"y":145.6666666666663,"state":{"value":"E3"}},{"id":"051e6695-3193-4a4f-adb4-857e29ed72f2","type":"string","x":-826.7380952380965,"y":188.6666666666663,"state":{"value":"Maj7"}},{"id":"2bff48e1-0e7b-4832-a546-6a2703624e35","type":"ChordNode","x":-578.7380952380965,"y":269.6666666666663,"state":{}},{"id":"77fbb99d-3282-4ca6-ab21-5285aae095a8","type":"string","x":-826.7380952380965,"y":310.6666666666663,"state":{"value":"A4"}},{"id":"21bf4d00-7979-4021-b96e-5319b34322ea","type":"string","x":-826.7380952380965,"y":352.6666666666663,"state":{"value":"Maj9"}},{"id":"4f7ee96a-01f4-48cf-9349-d9f4141a2c38","type":"ChordNode","x":-578.7380952380965,"y":497.3333333333335,"state":{}},{"id":"3b23f587-2df1-47e5-b210-ca91b294b845","type":"string","x":-826.7380952380965,"y":496.99999999999983,"state":{"value":"G#4"}},{"id":"7a72403c-a97b-4076-964b-d9759eab31b2","type":"string","x":-826.7380952380965,"y":530.9999999999998,"state":{"value":"m7"}},{"id":"6e1b10d4-c8fe-4692-b278-3dc6aa48b8bb","type":"ArpeggiateNode","x":-98.07142857142708,"y":162.20707070707084,"state":{}},{"id":"6d854c8e-eea2-4a8a-b9c8-44e841adb30e","type":"ArpeggiateNode","x":-98.07142857142708,"y":-14.33838383838389,"state":{}},{"id":"471992f0-4c06-407a-a92d-512758d07ff3","type":"ArpeggiateNode","x":-98.07142857142708,"y":344.1868686868695,"state":{}},{"id":"69739978-76e6-42e3-aa7f-68fcb20ae082","type":"AttackReleaseNode","x":549.9841269841259,"y":402.4999999999994,"state":{}},{"id":"7ebdb374-6d60-4a93-8601-d0dfba083dd5","type":"AttackReleaseNode","x":549.9841269841259,"y":98.49999999999937,"state":{}},{"id":"c7ccb270-a2d9-4e5c-b2ea-a8553ae71288","type":"AttackReleaseNode","x":549.9841269841259,"y":251.49999999999937,"state":{}},{"id":"41040f85-76cc-4930-b12e-bafe2fae27af","type":"AttackReleaseNode","x":549.9841269841259,"y":-55.500000000000625,"state":{}},{"id":"4c2b96ee-09ae-41d7-9f34-9f4a19cbd8bd","type":"PannerNode","x":757.5649350649355,"y":850.0735930735925,"state":{}},{"id":"7efd678f-a217-44b5-8d48-aed7193dcde0","type":"number","x":529.4437229437232,"y":1002.0303030303032,"state":{"value":0.5}},{"id":"b4cada18-3e1e-4873-88bd-51d7baf76cf9","type":"VolumeNode","x":1651.9285714285713,"y":995.7878787878783,"state":{}},{"id":"52fcd970-6195-4c2e-9ed6-949d9e4d0e88","type":"number","x":1385.5649350649362,"y":1023.7878787878783,"state":{"value":-4}},{"id":"87abd7ba-7514-4b54-a2e8-047a3269da72","type":"boolean","x":1106.595238095238,"y":1323.2121212121226,"state":{"value":true}},{"id":"0d66b7f4-54c0-4851-b028-1ba428947ec7","type":"string","x":-578.7380952380965,"y":-324.1666666666672,"state":{"value":"8n"}},{"id":"1be79d03-d588-4db0-bf38-89bc5b6559da","type":"ArpeggiateNode","x":-98.07142857142708,"y":-193.58080808080786,"state":{}},{"id":"90c0057e-70be-4a6d-9b52-6efcb5e0d699","type":"string","x":1087.564935064937,"y":-196.33333333333394,"state":{"value":"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\n\\nfloat random (in float x) {\\n    return fract(sin(x)*1e4);\\n}\\n\\nfloat random (in vec2 st) {\\n    return fract(sin(dot(st.xy, vec2(12.9898,78.233)))* 43758.5453123);\\n}\\n\\nfloat pattern(vec2 st, vec2 v, float t) {\\n    vec2 p = floor(st+v);\\n    return step(t, random(100.+p*.000001)+random(p.x)*0.5);\\n}\\n\\nvoid main() {\\n    vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n    st.x *= u_resolution.x/u_resolution.y;\\n\\n    vec2 grid = vec2(120.0,80.);\\n    st *= grid;\\n\\n    vec2 ipos = floor(st);\\n    vec2 fpos = fract(st);\\n\\n    vec2 vel = vec2(u_time*0.04*max(grid.x,grid.y));\\n    vel *= vec2(-4.,0.0) * random(1.0+ipos.y);\\n    vec2 offset = vec2(0.1,0.);\\n    vec3 color = vec3(1.);\\n    float t = 1.25;\\n    color.r = pattern(st+offset,vel,t - 0.2);\\n    color.g = pattern(st,vel,t - 0.2);\\n    color.b = pattern(st-offset,vel,t - 0.1);\\n    color *= step(0.65, fpos.y);\\n\\n    gl_FragColor = vec4(color,0.1);\\n}\\n"},"title":"Defrag"},{"id":"1142b50d-8b13-49d7-899d-02208daa1a43","type":"ShaderMaterialNode","x":1298.5952380952385,"y":-218.33333333333394,"state":{}},{"id":"3b6943cc-2e72-408d-a382-22a6bebdb372","type":"MeshNode","x":1545.5952380952385,"y":-213.33333333333394,"state":{}},{"id":"2a2ae445-ecc8-40e0-ab08-c78b760489c5","type":"ThreeNode","x":1814.5952380952385,"y":-129.33333333333388,"state":{}},{"id":"d731affe-246f-4a43-b823-3ba4d39abfba","type":"number","x":1087.564935064937,"y":-78.33333333333383,"state":{"value":120}},{"id":"9194c2e0-2c7c-416f-8020-7801037c9390","type":"Vector3D","x":1298.5952380952385,"y":-102.33333333333388,"state":{"value":"{\\"x\\":120,\\"y\\":120,\\"z\\":120}"}},{"id":"7de372d5-10f7-4001-a901-feeff9dbd069","type":"NoisePassNode","x":1545.5952380952385,"y":-14.333333333333826,"state":{}},{"id":"8f1723f3-6f25-4d32-87d2-734e950a5786","type":"number","x":1298.5952380952385,"y":18.666666666666174,"state":{"value":0.12}},{"id":"df993762-0296-4572-8e36-46d807c6f6ab","type":"string","x":1106.595238095238,"y":410.66666666666634,"state":{"value":"this is radiohead, eternal. in 79 nodes, set to ikeda."},"title":"README"},{"id":"7c5bc183-996c-45bf-a1e3-6a6cee709921","type":"PlaneGeometryNode","x":1298.5952380952385,"y":-324.33333333333394,"state":{}},{"id":"ef494aa1-df1f-4933-bbaa-efd264b8dc06","type":"Color","x":1545.5952380952385,"y":81.66666666666617,"state":{}},{"id":"90b91653-eaff-4218-81fd-5b468c2cfd32","type":"number","x":1298.5952380952385,"y":106.66666666666617,"state":{"value":18}},{"id":"f154f24e-7c67-4210-8cc4-10b4a68bd123","type":"number","x":-578.7380952380965,"y":380.0196078431368,"state":{"value":0.85}},{"id":"f073725f-ffbe-4347-add4-0e2e11b2321a","type":"DuoSynthNode","x":-98.07142857142708,"y":1166.7540106951885,"state":{}},{"id":"544a2927-8f84-4853-a3aa-a94bd4de16dc","type":"DuoSynthNode","x":-98.07142857142708,"y":1206.2085561497329,"state":{}}],"edges":[{"id":"7672bf44-593f-477c-bac0-0ccf95b19952","fromId":"20a63f42-82f9-419d-966f-8baf56eb5212","fromPort":"out","toId":"949366d3-e5a8-473f-9479-09c49282f4eb","toPort":"oscillator"},{"id":"380f50c0-5640-4f78-ba48-79af259b1ad0","fromId":"20a63f42-82f9-419d-966f-8baf56eb5212","fromPort":"out","toId":"59d49a0e-7aad-447d-b6da-3b8512917eb2","toPort":"oscillator"},{"id":"c11c1419-04d7-40f5-9d95-ffb0ff8c0ced","fromId":"f0f04f59-b1c2-4c01-97cc-0747b11eb2c2","fromPort":"out","toId":"2564a8c0-4759-41f6-bae6-07a4e0aebf8c","toPort":"oscillator"},{"id":"17a7c1bb-7f8a-4388-8007-5892d6ab7134","fromId":"049c2ac3-7367-46af-890f-7f0566d1dfb3","fromPort":"out","toId":"2e5487d5-8ca7-4bd4-a27f-c085f1aae2f5","toPort":"oscillator"},{"id":"bc7a4474-0442-49b7-894b-507111512458","fromId":"2bf1569d-536b-41cd-9918-de10200bf0ed","fromPort":"out","toId":"ab5b28ea-2a05-4514-b8f1-b7f504402e1d","toPort":"name"},{"id":"e80bc0ca-1f40-489c-a9f9-a88be4de74f1","fromId":"50de4b1d-a196-4dbc-8274-21973f104a1e","fromPort":"out","toId":"ab5b28ea-2a05-4514-b8f1-b7f504402e1d","toPort":"tonic"},{"id":"8210f635-4024-4a73-ac58-9693eacf2983","fromId":"ab5b28ea-2a05-4514-b8f1-b7f504402e1d","fromPort":"notes","toId":"05c5ba59-9e15-40d9-bfea-3a469e8c9017","toPort":"notes"},{"id":"c6280c79-4c41-4bf1-a95c-ce32f3069bf1","fromId":"6c9dc8a1-f751-4f4c-9871-35d3bc5cd6f5","fromPort":"out","toId":"05c5ba59-9e15-40d9-bfea-3a469e8c9017","toPort":"pattern"},{"id":"23708e8b-42d6-4721-aa84-5078005df698","fromId":"f959875e-65a2-4534-b65c-757fb07acf72","fromPort":"out","toId":"05c5ba59-9e15-40d9-bfea-3a469e8c9017","toPort":"humanize"},{"id":"7779a9b0-01d8-4a97-a427-0aed3dec1d7e","fromId":"e103a7ec-1205-4da7-9a3d-d6c128ff8d67","fromPort":"out","toId":"87346768-b2b5-43df-952f-c43deb90a0ed","toPort":"duration"},{"id":"ceb147a0-3474-405a-97a1-57c06e918759","fromId":"05c5ba59-9e15-40d9-bfea-3a469e8c9017","fromPort":"time","toId":"87346768-b2b5-43df-952f-c43deb90a0ed","toPort":"time"},{"id":"0c1d35fd-67a2-4a20-ba70-6330c0d17550","fromId":"05c5ba59-9e15-40d9-bfea-3a469e8c9017","fromPort":"note","toId":"87346768-b2b5-43df-952f-c43deb90a0ed","toPort":"note"},{"id":"d3fc21f6-2e35-47d3-bd4a-8fa266abf39e","fromId":"9af40d03-7ec7-46da-b791-59678af7d803","fromPort":"out","toId":"b5db734d-7bc0-4436-a058-2147c1ab663d","toPort":"pan"},{"id":"6050d0e8-0ca4-4c87-8fff-7753e10fe352","fromId":"949366d3-e5a8-473f-9479-09c49282f4eb","fromPort":"out","toId":"b5db734d-7bc0-4436-a058-2147c1ab663d","toPort":"node"},{"id":"96287943-2f4d-4734-9f59-517d8d712d7d","fromId":"2e5487d5-8ca7-4bd4-a27f-c085f1aae2f5","fromPort":"out","toId":"b5db734d-7bc0-4436-a058-2147c1ab663d","toPort":"node"},{"id":"47f4c873-1db2-4e7e-ac1b-b39896d8910f","fromId":"58004a94-2a1b-47f7-abf5-4610f8b34f9c","fromPort":"out","toId":"9b46cb83-d458-451d-a27f-6d26716d405b","toPort":"delayTime"},{"id":"e2619b98-48b0-44ef-bc75-37a45c168c66","fromId":"f6611f80-5fb0-4851-96e4-d6df37eefefc","fromPort":"out","toId":"9b46cb83-d458-451d-a27f-6d26716d405b","toPort":"feedback"},{"id":"232274da-c8f3-44ef-b205-489d61f67f82","fromId":"b5db734d-7bc0-4436-a058-2147c1ab663d","fromPort":"out","toId":"9b46cb83-d458-451d-a27f-6d26716d405b","toPort":"node"},{"id":"b1c71e00-1501-4454-8ea1-01de78d46906","fromId":"1b34f6e0-c72b-40b4-94dc-fa589d2fe0e9","fromPort":"out","toId":"1cd59319-c979-426b-b9a4-3e962500523d","toPort":"roomSize"},{"id":"d827aa5c-8405-452c-8ee0-0e88cb3bdce8","fromId":"34f632fe-a8e5-4867-bf9d-fb990e2d2ac6","fromPort":"out","toId":"1cd59319-c979-426b-b9a4-3e962500523d","toPort":"dampening"},{"id":"60339798-7fd6-4484-b7cb-9f089cf63206","fromId":"9b46cb83-d458-451d-a27f-6d26716d405b","fromPort":"out","toId":"1cd59319-c979-426b-b9a4-3e962500523d","toPort":"node"},{"id":"bf610c6d-049e-4ca2-a3a0-fab809a47ee7","fromId":"f3487774-8560-48d4-bf1a-17a570e339e5","fromPort":"out","toId":"ae76df4f-da44-4968-968c-36f2ac341247","toPort":"ratio"},{"id":"6310abd3-2161-4425-835a-9173ed37a2f9","fromId":"7f716690-74c5-4f9a-9da9-04c7e42440e6","fromPort":"out","toId":"ae76df4f-da44-4968-968c-36f2ac341247","toPort":"threshold"},{"id":"4db986b6-8420-4935-8910-1eae6d52845b","fromId":"bf06ead4-17a0-4083-ad47-87c67c0467eb","fromPort":"out","toId":"92060d3c-e6ce-496f-8b69-f1e16a4f685d","toPort":"url"},{"id":"8256bd2d-7668-4e69-94d0-9b77f05208d0","fromId":"1edf7d98-cf3b-49d7-94a3-21d0c253b0e3","fromPort":"out","toId":"3c640bfb-d929-46e4-a2bb-c535476e11e4","toPort":"volume"},{"id":"50b7ff32-1db6-46d9-93e8-f7b9f6a0491f","fromId":"92060d3c-e6ce-496f-8b69-f1e16a4f685d","fromPort":"player","toId":"3c640bfb-d929-46e4-a2bb-c535476e11e4","toPort":"node"},{"id":"9c828f06-1f27-4021-b94c-101c5f9a9f4b","fromId":"055f9693-405e-41ce-9832-3325e71a6d3d","fromPort":"out","toId":"c1759a34-f752-4ca7-8873-1ca65e806f05","toPort":"from"},{"id":"cd6aaa65-8d48-4220-ad1b-d1a5ec23c256","fromId":"ae9f93ab-b403-4510-8cee-bc75dafaa62e","fromPort":"out","toId":"c1759a34-f752-4ca7-8873-1ca65e806f05","toPort":"get"},{"id":"9e245426-b021-41f7-9470-1ce3e0d38b20","fromId":"c1759a34-f752-4ca7-8873-1ca65e806f05","fromPort":"out","toId":"7b94caf6-4bc3-490a-a2f9-7014a81439bd","toPort":"input"},{"id":"3d749833-18c7-4390-b967-972e02a6d320","fromId":"43fb4c47-f78a-4d8e-99d3-9b8d846f011a","fromPort":"out","toId":"7b94caf6-4bc3-490a-a2f9-7014a81439bd","toPort":"input"},{"id":"14839f09-04af-427c-bac9-927f48dfe7c2","fromId":"7b94caf6-4bc3-490a-a2f9-7014a81439bd","fromPort":"result","toId":"92060d3c-e6ce-496f-8b69-f1e16a4f685d","toPort":"call"},{"id":"73080827-3a37-4ced-b5f8-9c18688287b7","fromId":"6a826f5a-4668-4a9e-a0a4-8a3aa04407e7","fromPort":"out","toId":"055f9693-405e-41ce-9832-3325e71a6d3d","toPort":"bpm"},{"id":"11b97188-a943-4a0c-b76a-c8a844645e1b","fromId":"e103a7ec-1205-4da7-9a3d-d6c128ff8d67","fromPort":"out","toId":"3bd1a49f-d963-4d04-902b-43b16fcf6cab","toPort":"duration"},{"id":"26c86477-1dfb-4145-adab-683aad026710","fromId":"051e6695-3193-4a4f-adb4-857e29ed72f2","fromPort":"out","toId":"aaa5d4e0-e0d6-4e41-bb97-bb9bc048cbc7","toPort":"name"},{"id":"e568460f-069b-4182-bdba-dd3278d0b8cd","fromId":"cc32259c-6570-4df7-a832-07a63f6f5d6a","fromPort":"out","toId":"aaa5d4e0-e0d6-4e41-bb97-bb9bc048cbc7","toPort":"tonic"},{"id":"210c8146-708a-4292-b553-628c46daca37","fromId":"21bf4d00-7979-4021-b96e-5319b34322ea","fromPort":"out","toId":"2bff48e1-0e7b-4832-a546-6a2703624e35","toPort":"name"},{"id":"cbf3e52d-7d81-41a8-806d-14352993a0d2","fromId":"77fbb99d-3282-4ca6-ab21-5285aae095a8","fromPort":"out","toId":"2bff48e1-0e7b-4832-a546-6a2703624e35","toPort":"tonic"},{"id":"0bfa2d19-b7a0-4be3-8384-a759a270ef01","fromId":"7a72403c-a97b-4076-964b-d9759eab31b2","fromPort":"out","toId":"4f7ee96a-01f4-48cf-9349-d9f4141a2c38","toPort":"name"},{"id":"0df19c2c-371a-4757-97f1-4cdb7a90eb0f","fromId":"3b23f587-2df1-47e5-b210-ca91b294b845","fromPort":"out","toId":"4f7ee96a-01f4-48cf-9349-d9f4141a2c38","toPort":"tonic"},{"id":"132ec8ac-5401-4584-9a8a-ea53d9f35912","fromId":"aaa5d4e0-e0d6-4e41-bb97-bb9bc048cbc7","fromPort":"notes","toId":"6d854c8e-eea2-4a8a-b9c8-44e841adb30e","toPort":"notes"},{"id":"b881ed7c-416f-45aa-b521-b006b91d3b0c","fromId":"2bff48e1-0e7b-4832-a546-6a2703624e35","fromPort":"notes","toId":"6e1b10d4-c8fe-4692-b278-3dc6aa48b8bb","toPort":"notes"},{"id":"0b6066a3-79a9-4fd2-995e-60883b72f031","fromId":"4f7ee96a-01f4-48cf-9349-d9f4141a2c38","fromPort":"notes","toId":"471992f0-4c06-407a-a92d-512758d07ff3","toPort":"notes"},{"id":"2b11cf30-2890-4cf2-a1db-78832451b6f3","fromId":"5665dc0e-aa69-46d0-9f78-5ee5311b40c1","fromPort":"out","toId":"6d854c8e-eea2-4a8a-b9c8-44e841adb30e","toPort":"interval"},{"id":"598b5fd9-5fe8-4fcb-9f04-134aaba74270","fromId":"5665dc0e-aa69-46d0-9f78-5ee5311b40c1","fromPort":"out","toId":"6e1b10d4-c8fe-4692-b278-3dc6aa48b8bb","toPort":"interval"},{"id":"60893a79-05f2-4333-8c37-bc1e6ea9421f","fromId":"5665dc0e-aa69-46d0-9f78-5ee5311b40c1","fromPort":"out","toId":"471992f0-4c06-407a-a92d-512758d07ff3","toPort":"interval"},{"id":"dad19ec2-dc55-4f13-84f6-54a44915aa75","fromId":"6c9dc8a1-f751-4f4c-9871-35d3bc5cd6f5","fromPort":"out","toId":"6d854c8e-eea2-4a8a-b9c8-44e841adb30e","toPort":"pattern"},{"id":"a221340c-b170-484b-b5b4-c3ddaf066263","fromId":"6c9dc8a1-f751-4f4c-9871-35d3bc5cd6f5","fromPort":"out","toId":"6e1b10d4-c8fe-4692-b278-3dc6aa48b8bb","toPort":"pattern"},{"id":"a10f2e32-c633-40a9-9c49-c12afd04703f","fromId":"6c9dc8a1-f751-4f4c-9871-35d3bc5cd6f5","fromPort":"out","toId":"471992f0-4c06-407a-a92d-512758d07ff3","toPort":"pattern"},{"id":"4f0360c3-0f10-460a-bf89-b15271e5a120","fromId":"f959875e-65a2-4534-b65c-757fb07acf72","fromPort":"out","toId":"6d854c8e-eea2-4a8a-b9c8-44e841adb30e","toPort":"humanize"},{"id":"d5b88c04-2ee7-4027-a8bb-a421955ad1ba","fromId":"f959875e-65a2-4534-b65c-757fb07acf72","fromPort":"out","toId":"6e1b10d4-c8fe-4692-b278-3dc6aa48b8bb","toPort":"humanize"},{"id":"8bfcd3e2-5ead-43b1-9a05-bf8c854a24ff","fromId":"f959875e-65a2-4534-b65c-757fb07acf72","fromPort":"out","toId":"471992f0-4c06-407a-a92d-512758d07ff3","toPort":"humanize"},{"id":"af597758-d96e-431f-b802-6aa8546390b4","fromId":"59d49a0e-7aad-447d-b6da-3b8512917eb2","fromPort":"out","toId":"3bd1a49f-d963-4d04-902b-43b16fcf6cab","toPort":"synth"},{"id":"189c5e99-8cf9-409f-bfba-b27d46490d2f","fromId":"6d854c8e-eea2-4a8a-b9c8-44e841adb30e","fromPort":"note","toId":"41040f85-76cc-4930-b12e-bafe2fae27af","toPort":"note"},{"id":"c417e53b-27cd-437b-af19-921446daa728","fromId":"e103a7ec-1205-4da7-9a3d-d6c128ff8d67","fromPort":"out","toId":"41040f85-76cc-4930-b12e-bafe2fae27af","toPort":"duration"},{"id":"9fe855f0-b99c-4c20-a07b-fa8028c30ea4","fromId":"e103a7ec-1205-4da7-9a3d-d6c128ff8d67","fromPort":"out","toId":"c7ccb270-a2d9-4e5c-b2ea-a8553ae71288","toPort":"duration"},{"id":"4536a7b6-82b8-427d-a3f8-25d2cb9cf118","fromId":"e103a7ec-1205-4da7-9a3d-d6c128ff8d67","fromPort":"out","toId":"7ebdb374-6d60-4a93-8601-d0dfba083dd5","toPort":"duration"},{"id":"d6f298fa-b761-45de-b361-4a5cc1989071","fromId":"e103a7ec-1205-4da7-9a3d-d6c128ff8d67","fromPort":"out","toId":"69739978-76e6-42e3-aa7f-68fcb20ae082","toPort":"duration"},{"id":"215d68e0-d539-472b-a2b4-4ef6fb36acf9","fromId":"6d854c8e-eea2-4a8a-b9c8-44e841adb30e","fromPort":"time","toId":"41040f85-76cc-4930-b12e-bafe2fae27af","toPort":"time"},{"id":"d1ba01fb-68e6-4000-94f8-4e5c85186314","fromId":"6d854c8e-eea2-4a8a-b9c8-44e841adb30e","fromPort":"note","toId":"41040f85-76cc-4930-b12e-bafe2fae27af","toPort":"call"},{"id":"6d649379-8a8e-4d6e-913d-eceeecb18e18","fromId":"2e5487d5-8ca7-4bd4-a27f-c085f1aae2f5","fromPort":"out","toId":"41040f85-76cc-4930-b12e-bafe2fae27af","toPort":"synth"},{"id":"4a82afe4-b320-47ec-8dc1-f52a24195f13","fromId":"2564a8c0-4759-41f6-bae6-07a4e0aebf8c","fromPort":"out","toId":"c7ccb270-a2d9-4e5c-b2ea-a8553ae71288","toPort":"synth"},{"id":"da9b0f2f-1c67-44a0-a5eb-5cf9eb289c54","fromId":"6e1b10d4-c8fe-4692-b278-3dc6aa48b8bb","fromPort":"note","toId":"c7ccb270-a2d9-4e5c-b2ea-a8553ae71288","toPort":"note"},{"id":"6be6d488-63b1-477c-bfeb-a4c31e89d40f","fromId":"6e1b10d4-c8fe-4692-b278-3dc6aa48b8bb","fromPort":"time","toId":"c7ccb270-a2d9-4e5c-b2ea-a8553ae71288","toPort":"time"},{"id":"fc7e7fa7-aaff-473f-b361-d1fb2b0a71c1","fromId":"6e1b10d4-c8fe-4692-b278-3dc6aa48b8bb","fromPort":"note","toId":"c7ccb270-a2d9-4e5c-b2ea-a8553ae71288","toPort":"call"},{"id":"44d6e481-3812-4d68-863d-a0b87e1bdef9","fromId":"471992f0-4c06-407a-a92d-512758d07ff3","fromPort":"note","toId":"7ebdb374-6d60-4a93-8601-d0dfba083dd5","toPort":"note"},{"id":"c0e64db8-9b04-43cc-a6c3-47498da0bff1","fromId":"471992f0-4c06-407a-a92d-512758d07ff3","fromPort":"note","toId":"69739978-76e6-42e3-aa7f-68fcb20ae082","toPort":"note"},{"id":"dd563e01-0beb-4a9c-a4e6-e82058c684e0","fromId":"471992f0-4c06-407a-a92d-512758d07ff3","fromPort":"time","toId":"7ebdb374-6d60-4a93-8601-d0dfba083dd5","toPort":"time"},{"id":"630cf946-d6f9-4878-b9e6-c7031ece3430","fromId":"471992f0-4c06-407a-a92d-512758d07ff3","fromPort":"time","toId":"69739978-76e6-42e3-aa7f-68fcb20ae082","toPort":"time"},{"id":"1d64ce68-b250-4527-9ed4-7f12d1763a4c","fromId":"949366d3-e5a8-473f-9479-09c49282f4eb","fromPort":"out","toId":"69739978-76e6-42e3-aa7f-68fcb20ae082","toPort":"synth"},{"id":"5c03b0fe-d072-4e8f-b58d-5325dd12bc3c","fromId":"471992f0-4c06-407a-a92d-512758d07ff3","fromPort":"note","toId":"7ebdb374-6d60-4a93-8601-d0dfba083dd5","toPort":"call"},{"id":"bbdac985-0bc5-4f1d-9fb6-c790db05ae7f","fromId":"471992f0-4c06-407a-a92d-512758d07ff3","fromPort":"note","toId":"69739978-76e6-42e3-aa7f-68fcb20ae082","toPort":"call"},{"id":"6b786653-b790-48b1-92fc-bcd4c413e9cc","fromId":"7efd678f-a217-44b5-8d48-aed7193dcde0","fromPort":"out","toId":"4c2b96ee-09ae-41d7-9f34-9f4a19cbd8bd","toPort":"pan"},{"id":"3bdbc1aa-7242-4599-aa77-a7021f6f4385","fromId":"2564a8c0-4759-41f6-bae6-07a4e0aebf8c","fromPort":"out","toId":"4c2b96ee-09ae-41d7-9f34-9f4a19cbd8bd","toPort":"node"},{"id":"6f49e05c-ae72-4883-84a8-fbe09544707f","fromId":"59d49a0e-7aad-447d-b6da-3b8512917eb2","fromPort":"out","toId":"4c2b96ee-09ae-41d7-9f34-9f4a19cbd8bd","toPort":"node"},{"id":"fc29fa6e-63b1-46a2-99e2-e57fd790e8d2","fromId":"52fcd970-6195-4c2e-9ed6-949d9e4d0e88","fromPort":"out","toId":"b4cada18-3e1e-4873-88bd-51d7baf76cf9","toPort":"volume"},{"id":"67d969b5-c174-4b68-81e7-aefceb8a6b3e","fromId":"055f9693-405e-41ce-9832-3325e71a6d3d","fromPort":"out","toId":"e2183f6a-7f0e-4988-b639-49143618be85","toPort":"transport"},{"id":"8c0ab6a2-7d95-46f3-9587-6b04f2afc435","fromId":"87abd7ba-7514-4b54-a2e8-047a3269da72","fromPort":"out","toId":"92060d3c-e6ce-496f-8b69-f1e16a4f685d","toPort":"loop"},{"id":"2a5af9cd-bc75-412f-a6cc-744cdd719a90","fromId":"0d66b7f4-54c0-4851-b028-1ba428947ec7","fromPort":"out","toId":"05c5ba59-9e15-40d9-bfea-3a469e8c9017","toPort":"interval"},{"id":"54a0304f-e339-4869-8bab-35e966fb2ca6","fromId":"ab5b28ea-2a05-4514-b8f1-b7f504402e1d","fromPort":"notes","toId":"1be79d03-d588-4db0-bf38-89bc5b6559da","toPort":"notes"},{"id":"3d7f3120-d762-4774-8799-3c7a0ab776e1","fromId":"0d66b7f4-54c0-4851-b028-1ba428947ec7","fromPort":"out","toId":"1be79d03-d588-4db0-bf38-89bc5b6559da","toPort":"interval"},{"id":"cb457462-883c-45a3-85c6-e6a8bcb00198","fromId":"6c9dc8a1-f751-4f4c-9871-35d3bc5cd6f5","fromPort":"out","toId":"1be79d03-d588-4db0-bf38-89bc5b6559da","toPort":"pattern"},{"id":"965b78df-b44a-4875-9036-30e00e8cde3c","fromId":"f959875e-65a2-4534-b65c-757fb07acf72","fromPort":"out","toId":"1be79d03-d588-4db0-bf38-89bc5b6559da","toPort":"humanize"},{"id":"0c2d99b4-fe78-403c-b90b-b49ff6a62f0a","fromId":"1be79d03-d588-4db0-bf38-89bc5b6559da","fromPort":"note","toId":"3bd1a49f-d963-4d04-902b-43b16fcf6cab","toPort":"note"},{"id":"ac9cb334-b893-4337-8e25-29c664425519","fromId":"1be79d03-d588-4db0-bf38-89bc5b6559da","fromPort":"time","toId":"3bd1a49f-d963-4d04-902b-43b16fcf6cab","toPort":"time"},{"id":"04c17538-5937-48d8-a6a6-77199a8fe51f","fromId":"4c2b96ee-09ae-41d7-9f34-9f4a19cbd8bd","fromPort":"out","toId":"9b46cb83-d458-451d-a27f-6d26716d405b","toPort":"node"},{"id":"00a4d843-0deb-4b99-9672-58783a55d031","fromId":"1cd59319-c979-426b-b9a4-3e962500523d","fromPort":"out","toId":"b4cada18-3e1e-4873-88bd-51d7baf76cf9","toPort":"node"},{"id":"0bc4fc7b-9b88-453a-bfdd-d7296a8649c5","fromId":"3c640bfb-d929-46e4-a2bb-c535476e11e4","fromPort":"out","toId":"ae76df4f-da44-4968-968c-36f2ac341247","toPort":"node"},{"id":"60f81b7f-21c3-4fe4-a2a6-d8996efd9573","fromId":"b4cada18-3e1e-4873-88bd-51d7baf76cf9","fromPort":"out","toId":"ae76df4f-da44-4968-968c-36f2ac341247","toPort":"node"},{"id":"230a9368-94e9-4c9b-8e9f-c762fb921a57","fromId":"ae76df4f-da44-4968-968c-36f2ac341247","fromPort":"out","toId":"981a7360-a931-412e-93ce-c6cc2ea53ffb","toPort":"node"},{"id":"0218ed07-644b-4ebc-a79c-05f8407133d1","fromId":"05c5ba59-9e15-40d9-bfea-3a469e8c9017","fromPort":"note","toId":"87346768-b2b5-43df-952f-c43deb90a0ed","toPort":"call"},{"id":"8fbf333d-16fe-452c-bc05-caed2e2fc141","fromId":"05c5ba59-9e15-40d9-bfea-3a469e8c9017","fromPort":"note","toId":"3bd1a49f-d963-4d04-902b-43b16fcf6cab","toPort":"call"},{"id":"384f6693-0a90-4378-af76-e16aed985ece","fromId":"d731affe-246f-4a43-b823-3ba4d39abfba","fromPort":"out","toId":"9194c2e0-2c7c-416f-8020-7801037c9390","toPort":"x"},{"id":"4614ddab-59ed-43bd-ba86-9b9e3e4978f9","fromId":"d731affe-246f-4a43-b823-3ba4d39abfba","fromPort":"out","toId":"9194c2e0-2c7c-416f-8020-7801037c9390","toPort":"y"},{"id":"e91ab9b4-03b8-450c-b103-ac665f9bc590","fromId":"d731affe-246f-4a43-b823-3ba4d39abfba","fromPort":"out","toId":"9194c2e0-2c7c-416f-8020-7801037c9390","toPort":"z"},{"id":"6adf0dc8-d540-4fc3-8790-f78fb6a0bbfb","fromId":"8f1723f3-6f25-4d32-87d2-734e950a5786","fromPort":"out","toId":"7de372d5-10f7-4001-a901-feeff9dbd069","toPort":"opacity"},{"id":"211b7350-970e-4218-9cd8-995e010ed967","fromId":"90c0057e-70be-4a6d-9b52-6efcb5e0d699","fromPort":"out","toId":"1142b50d-8b13-49d7-899d-02208daa1a43","toPort":"fragment"},{"id":"6a4f0778-defb-4d82-88be-73910668e79a","fromId":"9194c2e0-2c7c-416f-8020-7801037c9390","fromPort":"out","toId":"3b6943cc-2e72-408d-a382-22a6bebdb372","toPort":"scale"},{"id":"86cd9244-89d1-40e0-a61e-b959fc15f42a","fromId":"7c5bc183-996c-45bf-a1e3-6a6cee709921","fromPort":"geometry","toId":"3b6943cc-2e72-408d-a382-22a6bebdb372","toPort":"geometry"},{"id":"56fbeaaa-2598-49b1-8952-a1b078fa1c37","fromId":"1142b50d-8b13-49d7-899d-02208daa1a43","fromPort":"material","toId":"3b6943cc-2e72-408d-a382-22a6bebdb372","toPort":"material"},{"id":"b09c674b-165d-46fc-a1fe-392f9bef95cf","fromId":"3b6943cc-2e72-408d-a382-22a6bebdb372","fromPort":"mesh","toId":"2a2ae445-ecc8-40e0-ab08-c78b760489c5","toPort":"child"},{"id":"37c0f1ae-1cec-40e2-81fb-fcf485e97e87","fromId":"90b91653-eaff-4218-81fd-5b468c2cfd32","fromPort":"out","toId":"ef494aa1-df1f-4933-bbaa-efd264b8dc06","toPort":"r"},{"id":"2430427b-f759-48b1-9316-c637e1990db3","fromId":"90b91653-eaff-4218-81fd-5b468c2cfd32","fromPort":"out","toId":"ef494aa1-df1f-4933-bbaa-efd264b8dc06","toPort":"g"},{"id":"54122aed-b729-4043-9baa-de0bcaae0db1","fromId":"90b91653-eaff-4218-81fd-5b468c2cfd32","fromPort":"out","toId":"ef494aa1-df1f-4933-bbaa-efd264b8dc06","toPort":"b"},{"id":"303bdbc5-8652-442d-92d1-121450b97bf0","fromId":"ef494aa1-df1f-4933-bbaa-efd264b8dc06","fromPort":"hex","toId":"2a2ae445-ecc8-40e0-ab08-c78b760489c5","toPort":"clearColor"},{"id":"a0cb815b-7d96-43cd-8f19-6f634750917d","fromId":"f154f24e-7c67-4210-8cc4-10b4a68bd123","fromPort":"out","toId":"6e1b10d4-c8fe-4692-b278-3dc6aa48b8bb","toPort":"probability"},{"id":"52748004-57dc-4270-bda8-9fc6c088d67a","fromId":"f154f24e-7c67-4210-8cc4-10b4a68bd123","fromPort":"out","toId":"471992f0-4c06-407a-a92d-512758d07ff3","toPort":"probability"},{"id":"948c7fde-2fa5-4951-846a-ef6c192ee8a6","fromId":"7de372d5-10f7-4001-a901-feeff9dbd069","fromPort":"effect","toId":"2a2ae445-ecc8-40e0-ab08-c78b760489c5","toPort":"fx"},{"id":"753cc222-e1a8-4497-afd7-62467158e0e2","fromId":"f073725f-ffbe-4347-add4-0e2e11b2321a","fromPort":"out","toId":"4c2b96ee-09ae-41d7-9f34-9f4a19cbd8bd","toPort":"node"},{"id":"e4258b65-53e6-4658-8b22-310e123b9247","fromId":"f073725f-ffbe-4347-add4-0e2e11b2321a","fromPort":"out","toId":"7ebdb374-6d60-4a93-8601-d0dfba083dd5","toPort":"synth"},{"id":"410386a1-5095-42c1-9e3a-3d69900dea12","fromId":"544a2927-8f84-4853-a3aa-a94bd4de16dc","fromPort":"out","toId":"b5db734d-7bc0-4436-a058-2147c1ab663d","toPort":"node"},{"id":"83583fb1-eb3f-4a97-8756-274fc9d30210","fromId":"544a2927-8f84-4853-a3aa-a94bd4de16dc","fromPort":"out","toId":"87346768-b2b5-43df-952f-c43deb90a0ed","toPort":"synth"}],"meta":{"zoom":7},"description":"Radiohead\'s nude"}')},311:function(e){e.exports=JSON.parse('{"name":"in the gardens of eden","nodes":[{"id":"e56c5d68-5f63-4bf5-b3fe-db90c1e02b5c","type":"FeedbackDelayNode","x":999.636363636364,"y":-57.81818181818153,"state":{}},{"id":"cf186a49-dcbd-44ba-9ca7-37b119ecdb52","type":"AudioDelayNode","x":1254.4545454545453,"y":82.54545454545485,"state":{}},{"id":"c36f9781-0056-4c84-aa27-bc35e4a161f7","type":"AudioGainNode","x":1500,"y":9.545454545454731,"state":{}},{"id":"8490c9ea-fd81-4091-ba6a-930771ed144f","type":"DuoSynthNode","x":-213.54545454545496,"y":364.727272727273,"state":{}},{"id":"11cde964-9042-409c-8021-7a7d9b8c1720","type":"PannerNode","x":741.8181818181813,"y":-61.818181818181415,"state":{}},{"id":"c74024f4-6f06-4d9b-85c3-c8e23aa5ecfc","type":"AudioMasterNode","x":1254.4545454545453,"y":-88.27272727272702,"state":{}},{"id":"8b75a5ef-6f39-476a-a5a2-f00b8fee71b7","type":"AttackReleaseNode","x":258.45454545454504,"y":-119.27272727272702,"state":{}},{"id":"aa910e21-29a2-4f89-8292-15bc1019d9bc","type":"string","x":26.45454545454504,"y":-87.27272727272702,"state":{"value":"C5"}},{"id":"7d5e7d96-8f3c-46cd-8f00-d92eac46751d","type":"number","x":487.45454545454504,"y":-40.272727272727025,"state":{"value":-1}},{"id":"f6cc972f-9d93-4322-acb0-1493345167df","type":"string","x":741.8181818181813,"y":132.18181818181858,"state":{"value":"16n"}},{"id":"dd9402a7-1c71-4628-a494-22119ed40ed3","type":"number","x":741.8181818181813,"y":204.18181818181858,"state":{"value":0.2}},{"id":"f5a84114-4049-4970-b98f-a17de51553f3","type":"number","x":999.636363636364,"y":82.18181818181847,"state":{"value":6}},{"id":"dc93dda4-66f1-41cc-97f5-951b2ff70b01","type":"number","x":1254.4545454545453,"y":7.5454545454547315,"state":{"value":0.75}},{"id":"f4615580-bc25-4300-8c34-dbcaa64d8390","type":"string","x":26.45454545454504,"y":-47.272727272727025,"state":{"value":"1:2"}},{"id":"5faea721-2df0-4914-b708-d55033f8e697","type":"TransportTimeNode","x":999.636363636364,"y":720.3636363636365,"state":{}},{"id":"4dfb79b3-463d-458b-83f7-b97c7f504cd8","type":"StartTransportNode","x":1254.4545454545453,"y":736.7272727272729,"state":{}},{"id":"baa2010f-634e-450a-8ea6-7471373e9902","type":"TimeLoopNode","x":-213.54545454545496,"y":754.7272727272729,"state":{}},{"id":"d439cce5-91aa-4802-a78c-811edce1072d","type":"TimeLoopNode","x":-213.54545454545496,"y":576.7272727272729,"state":{}},{"id":"86e1cc25-1e46-4fa7-9b96-047a4cb330d2","type":"string","x":-443.54545454545496,"y":578.7272727272729,"state":{"value":"34m"}},{"id":"30125fcc-c1b1-465e-ad6c-8f6784653ca3","type":"string","x":-443.54545454545496,"y":758.7272727272729,"state":{"value":"37m"}},{"id":"ae0f343b-e37a-41b7-ab60-8d2f43e54930","type":"DuoSynthNode","x":-213.54545454545496,"y":193.72727272727298,"state":{}},{"id":"313f3cf9-a867-400a-a095-a3b58b4c8884","type":"PannerNode","x":741.8181818181813,"y":35.181818181818585,"state":{}},{"id":"37b12cf7-03ee-4b25-8095-8d0c09ea4cd0","type":"number","x":487.45454545454504,"y":36.727272727272975,"state":{"value":1}},{"id":"eb0076ad-6654-466f-b196-2f7c6b7191b8","type":"SetNoteNode","x":258.45454545454504,"y":41.727272727272975,"state":{}},{"id":"09fd334a-2b92-4818-948d-0b3eb44fc56a","type":"string","x":26.45454545454504,"y":74.72727272727298,"state":{"value":"D5"}},{"id":"88e83ff9-f223-4d8e-829e-7fea2e5ec745","type":"string","x":26.45454545454504,"y":100.72727272727298,"state":{"value":"+0:2"}},{"id":"0aa00bb6-1dec-4363-a35d-b42b02419560","type":"string","x":26.45454545454504,"y":204.72727272727298,"state":{"value":"+6:0"}},{"id":"7a471dfc-f93e-45a7-ab06-74ccb336f973","type":"string","x":26.45454545454504,"y":230.72727272727298,"state":{"value":"0:2"}},{"id":"c9b3666e-fb39-4e8a-b7ac-da4f5c76d609","type":"string","x":26.45454545454504,"y":257.727272727273,"state":{"value":"E4"}},{"id":"905f5a13-7fd8-4f49-8fb0-f9b90d5d5c36","type":"AttackReleaseNode","x":258.45454545454504,"y":181.72727272727298,"state":{}},{"id":"60c43d0b-8e9a-4ae5-978d-4ad6b261e181","type":"AttackReleaseNode","x":258.45454545454504,"y":343.727272727273,"state":{}},{"id":"4764e224-065e-42dc-8e1e-2065eaaf3769","type":"string","x":26.45454545454504,"y":376.727272727273,"state":{"value":"+11:2"}},{"id":"1353b760-9d17-4e3a-8c93-b3e145257e39","type":"string","x":26.45454545454504,"y":401.727272727273,"state":{"value":"0:2"}},{"id":"11967a59-8446-43ec-a316-dbf1886113f1","type":"string","x":26.45454545454504,"y":427.727272727273,"state":{"value":"G4"}},{"id":"67749ad1-cc98-49e3-be92-1eaabd950e5b","type":"AttackReleaseNode","x":258.45454545454504,"y":504.727272727273,"state":{}},{"id":"991084ff-6b77-40da-9634-af8aef303a5f","type":"string","x":26.45454545454504,"y":539.7272727272729,"state":{"value":"+19:0"}},{"id":"e38ab2d1-974f-4b00-89dd-7a49d13c4572","type":"string","x":26.45454545454504,"y":568.7272727272729,"state":{"value":"2:0"}},{"id":"313fb208-63bb-47b2-9cf8-cc3566cc66c8","type":"string","x":26.45454545454504,"y":596.7272727272729,"state":{"value":"E5"}},{"id":"500e6fe2-09a3-4f9a-b0a0-8ce2c2e502ea","type":"SetNoteNode","x":258.45454545454504,"y":666.7272727272729,"state":{}},{"id":"8352a313-ee46-4f9d-8784-ca6b1cbc9e08","type":"SetNoteNode","x":258.45454545454504,"y":943.7272727272729,"state":{}},{"id":"a675590d-4bb9-4d23-bafa-4e09f1b6e771","type":"SetNoteNode","x":258.45454545454504,"y":805.7272727272729,"state":{}},{"id":"10cbfa73-7c69-4259-b07d-376d9aad0050","type":"string","x":26.45454545454504,"y":812.0000000000006,"state":{"value":"G5"}},{"id":"8d1fbdb2-a0a4-4683-8880-cdc429cd9ae4","type":"string","x":26.45454545454504,"y":989.727272727273,"state":{"value":"+19:4:2"}},{"id":"7c8de2c0-b434-4576-8e2f-388780cc547e","type":"string","x":26.45454545454504,"y":715.7272727272729,"state":{"value":"+19:1:2"}},{"id":"f97a7c6b-84f0-4973-83c1-2f443ebe2fc6","type":"string","x":26.45454545454504,"y":859.0000000000006,"state":{"value":"+19:3:0"}},{"id":"a071dd7f-456f-4fc9-b091-ed011c004686","type":"string","x":26.45454545454504,"y":888.0000000000006,"state":{"value":"A5"}},{"id":"78fd3986-cac1-4baa-8d9a-451e2e935182","type":"AttackReleaseNode","x":741.8181818181813,"y":295.1818181818186,"state":{}},{"id":"3aebcff0-e3c3-4808-9fc4-7bc779023984","type":"string","x":487.45454545454504,"y":316.727272727273,"state":{"value":"+5:0"}},{"id":"66046fc0-3aa7-4801-9967-1d8edff5f38f","type":"string","x":487.45454545454504,"y":342.727272727273,"state":{"value":"1:2"}},{"id":"6a3167b7-8a96-4fcf-b03c-2ef5696e2b57","type":"string","x":487.45454545454504,"y":368.727272727273,"state":{"value":"D4"}},{"id":"4877c4ed-92f3-437a-b69f-d5c34652fa7d","type":"ToContextDestinationNode","x":1500,"y":109.54545454545473,"state":{}},{"id":"60134385-b09e-4f04-8217-25fbf9a1bbe1","type":"ConnectNode","x":1728.2727272727273,"y":49.18181818181847,"state":{}},{"id":"8abaedac-b54d-4013-9eb1-09bef3be4280","type":"SetNoteNode","x":741.8181818181813,"y":463.1818181818186,"state":{}},{"id":"d5c469d4-7728-453d-ba9c-00bb6bce3620","type":"string","x":487.45454545454504,"y":483.727272727273,"state":{"value":"+6:0"}},{"id":"ab98c5be-ad7d-4212-8406-1206d9e5d5b5","type":"string","x":487.45454545454504,"y":510.7272727272729,"state":{"value":"E4"}},{"id":"57c5dd16-1220-4f5e-812a-6fc59992db2a","type":"AttackReleaseNode","x":741.8181818181813,"y":610.1818181818185,"state":{}},{"id":"ddfbe287-1bd9-495b-a4ff-01c183c75579","type":"string","x":487.45454545454504,"y":625.7272727272729,"state":{"value":"+11:2:2"}},{"id":"a89e7f57-2821-4427-8f8f-ed6520648bc5","type":"string","x":487.45454545454504,"y":653.7272727272729,"state":{"value":"1m"}},{"id":"4df06e48-f2eb-46ba-8663-3e355cf17197","type":"string","x":487.45454545454504,"y":680.7272727272729,"state":{"value":"B3"}},{"id":"30f5644d-161b-4cf7-a586-1f415b7299d4","type":"SetNoteNode","x":741.8181818181813,"y":779.1818181818185,"state":{}},{"id":"c79af123-5e45-4a1d-9774-f3ba0a637fff","type":"string","x":487.45454545454504,"y":802.7272727272729,"state":{"value":"+12:0:2"}},{"id":"a8a0b943-ca83-4897-9a53-a4492670fe60","type":"string","x":487.45454545454504,"y":831.7272727272729,"state":{"value":"G3"}},{"id":"7c3bd6de-742b-4949-9dc6-63232361a5e7","type":"AttackReleaseNode","x":741.8181818181813,"y":927.1818181818185,"state":{}},{"id":"b3588d4a-8d8e-4010-ab9b-b3711609d2ba","type":"string","x":487.45454545454504,"y":945.7272727272729,"state":{"value":"+23:2"}},{"id":"39a87663-4ec9-4dcc-bcf2-90d54afde083","type":"string","x":487.45454545454504,"y":973.727272727273,"state":{"value":"0:2"}},{"id":"3f7b458d-caaf-45b7-9467-0be09fd36db5","type":"string","x":487.45454545454504,"y":999.727272727273,"state":{"value":"G4"}},{"id":"e556bcf5-2b82-460e-b8c4-cdb3c088ce14","type":"ThreeNode","x":1728.2727272727273,"y":519.818181818183,"state":{}},{"id":"9755c49a-f9e9-43aa-ba03-09b47be82712","type":"PlaneGeometryNode","x":1254.4545454545453,"y":370.3636363636376,"state":{}},{"id":"dd17713d-5468-4464-8782-7bc67abb772e","type":"ShaderMaterialNode","x":1254.4545454545453,"y":470.3636363636376,"state":{}},{"id":"a07aa9ba-f36e-4414-82c0-af4b3a958d23","type":"string","x":999.636363636364,"y":490.0000000000013,"state":{"value":"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\n#define PI 3.14159265359\\n#define TWO_PI 6.28318530718\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\n\\nfloat shape(vec2 st, float N){\\n    st = st*2.-1.;\\n    float a = atan(st.x,st.y)+PI;\\n    float r = TWO_PI/N;\\n    return abs(cos(floor(.5+a/r)*r-a)*length(st));\\n}\\n\\nfloat box(vec2 st, vec2 size){\\n    return shape(st*size,4.);\\n}\\n\\nfloat rect(vec2 _st, vec2 _size){\\n    _size = vec2(0.5)-_size*0.5;\\n    vec2 uv = smoothstep(_size,_size+vec2(1e-4),_st);\\n    uv *= smoothstep(_size,_size+vec2(1e-4),vec2(1.0)-_st);\\n    return uv.x*uv.y;\\n}\\n\\nfloat hex(vec2 st, float a, float b, float c, float d, float e, float f){\\n    st = st*vec2(2.,6.);\\n\\n    vec2 fpos = fract(st);\\n    vec2 ipos = floor(st);\\n\\n    if (ipos.x == 1.0) fpos.x = 1.-fpos.x;\\n    if (ipos.y < 1.0){\\n        return mix(box(fpos, vec2(0.84,1.)),box(fpos-vec2(0.03,0.),vec2(1.)),a);\\n    } else if (ipos.y < 2.0){\\n        return mix(box(fpos, vec2(0.84,1.)),box(fpos-vec2(0.03,0.),vec2(1.)),b);\\n    } else if (ipos.y < 3.0){\\n        return mix(box(fpos, vec2(0.84,1.)),box(fpos-vec2(0.03,0.),vec2(1.)),c);\\n    } else if (ipos.y < 4.0){\\n        return mix(box(fpos, vec2(0.84,1.)),box(fpos-vec2(0.03,0.),vec2(1.)),d);\\n    } else if (ipos.y < 5.0){\\n        return mix(box(fpos, vec2(0.84,1.)),box(fpos-vec2(0.03,0.),vec2(1.)),e);\\n    } else if (ipos.y < 6.0){\\n        return mix(box(fpos, vec2(0.84,1.)),box(fpos-vec2(0.03,0.),vec2(1.)),f);\\n    }\\n    return 0.0;\\n}\\n\\nfloat hex(vec2 st, float N){\\n    float b[6];\\n    float remain = floor(mod(N,64.));\\n    for(int i = 0; i < 6; i++){\\n        b[i] = 0.0;\\n        b[i] = step(1.0,mod(remain,2.));\\n        remain = ceil(remain/2.);\\n    }\\n    return hex(st,b[0],b[1],b[2],b[3],b[4],b[5]);\\n}\\n\\nvoid main(){\\n    vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n    st.y *= u_resolution.y/u_resolution.x;\\n\\n    st *= 10.0;\\n    vec2 fpos = fract(st);\\n    vec2 ipos = floor(st);\\n\\n    float t = u_time*0.2;\\n    float df = hex(fpos,ipos.x+ipos.y+t)+(1.0-rect(fpos,vec2(0.7)));\\n\\n    gl_FragColor = vec4(mix(vec3(0.15),vec3(0.1),step(0.7,df)),1.0);\\n}\\n"},"title":"I Ching"},{"id":"02596e2e-23f1-4087-9745-198d39222421","type":"MeshNode","x":1500,"y":515.8181818181827,"state":{}},{"id":"a328678d-f161-470f-b7f4-9288fb515338","type":"Vector3D","x":1254.4545454545453,"y":588.3636363636376,"state":{"value":"{\\"x\\":100,\\"y\\":100,\\"z\\":100}"}},{"id":"8c5ef0c2-7458-4824-b357-2929e2ed164a","type":"number","x":999.636363636364,"y":603.0000000000011,"state":{"value":100}},{"id":"2ea6ef58-f500-4dc7-b0d6-2c40e84a67da","type":"number","x":-443.54545454545496,"y":414.0000000000002,"state":{"value":2}},{"id":"0ee12a1d-696a-407f-bc40-c96e7d2a2534","type":"number","x":26.45454545454504,"y":-14.272727272727025,"state":{"value":0}},{"id":"cfaa92ba-a2f9-42fd-b929-505e20052619","type":"number","x":-443.54545454545496,"y":216.727272727273,"state":{"value":1.008}},{"id":"8c687c7b-6962-420f-9da4-88aeb6d9f244","type":"boolean","x":-443.54545454545496,"y":670.7272727272729,"state":{"value":true}},{"id":"d2018d0f-f712-4f9c-89bc-325346c4509d","type":"ExtractNode","x":1254.4545454545453,"y":836.818181818182,"state":{}},{"id":"0387d608-5038-4eec-9ebc-cb88ec7c61d8","type":"ExtractNode","x":1254.4545454545453,"y":1051.09090909091,"state":{}},{"id":"edafe2dd-b07c-409d-ab3e-ced75380698a","type":"string","x":999.636363636364,"y":882.8181818181819,"state":{"value":"volume"}},{"id":"8259b3f6-2118-4e1f-b0a7-774df3ebaf62","type":"SignalRampNode","x":1500,"y":814.4545454545445,"state":{}},{"id":"4681dca7-1b95-42a1-901e-55a52a558475","type":"SignalRampNode","x":1500,"y":956.2727272727267,"state":{}},{"id":"e752c581-649b-49f2-b632-762b0454ca7b","type":"number","x":-443.54545454545496,"y":307.54545454545456,"state":{"value":-40}},{"id":"9c0a73e1-6314-4ba7-ab0b-a66c6a9f66a8","type":"number","x":1254.4545454545453,"y":954.6363636363645,"state":{"value":-12}},{"id":"b7ae0ff9-3a2d-4393-a81f-9952ad771b6c","type":"string","x":999.636363636364,"y":990.7272727272733,"state":{"value":"20:0:0"}},{"id":"aba6dcbf-7548-48d6-b65b-7cac821684fc","type":"NoiseNode","x":1254.4545454545453,"y":211.909090909091,"state":{}},{"id":"0851d188-5233-4d64-8798-d993b96bb483","type":"number","x":999.636363636364,"y":297.6363636363641,"state":{"value":0.2}},{"id":"054c1cc1-1859-4405-9c46-ce344748c447","type":"number","x":999.636363636364,"y":188.1818181818183,"state":{"value":-40}},{"id":"64de3953-8fc8-48f8-813e-40207ec84ccd","type":"ExtractNode","x":1500,"y":188.81818181818187,"state":{}},{"id":"69ad6b66-0182-4a9b-9359-6c08e6ea2f03","type":"SignalRampNode","x":1728.2727272727273,"y":267.6363636363637,"state":{}},{"id":"0e47fab7-d46a-4ed6-ba60-47c966976737","type":"number","x":1500,"y":297.27272727272714,"state":{"value":-18}},{"id":"c9bdf11e-30fb-4ddb-b791-10ad44793a57","type":"string","x":1500,"y":385.5454545454545,"state":{"value":"4:0:0"}}],"edges":[{"id":"c697ad94-af04-4d1a-b151-1917be7a5cf2","fromId":"7d5e7d96-8f3c-46cd-8f00-d92eac46751d","fromPort":"out","toId":"11cde964-9042-409c-8021-7a7d9b8c1720","toPort":"pan"},{"id":"44465878-e042-4bf1-9268-b0255c1014dd","fromId":"8490c9ea-fd81-4091-ba6a-930771ed144f","fromPort":"out","toId":"11cde964-9042-409c-8021-7a7d9b8c1720","toPort":"node"},{"id":"4157dee1-1718-411f-bb3b-bd436fc22b04","fromId":"dd9402a7-1c71-4628-a494-22119ed40ed3","fromPort":"out","toId":"e56c5d68-5f63-4bf5-b3fe-db90c1e02b5c","toPort":"feedback"},{"id":"ca2c9988-7914-4591-8e11-4dd91d8eb536","fromId":"11cde964-9042-409c-8021-7a7d9b8c1720","fromPort":"out","toId":"e56c5d68-5f63-4bf5-b3fe-db90c1e02b5c","toPort":"node"},{"id":"25fd76a0-4655-4932-9eda-935a7c817db9","fromId":"e56c5d68-5f63-4bf5-b3fe-db90c1e02b5c","fromPort":"out","toId":"c74024f4-6f06-4d9b-85c3-c8e23aa5ecfc","toPort":"node"},{"id":"b605460f-e1ae-4971-a22f-dfedfbbb1d68","fromId":"f5a84114-4049-4970-b98f-a17de51553f3","fromPort":"out","toId":"cf186a49-dcbd-44ba-9ca7-37b119ecdb52","toPort":"delayTime"},{"id":"46df9bfb-a2c1-4b53-a820-8b84c57415e2","fromId":"dc93dda4-66f1-41cc-97f5-951b2ff70b01","fromPort":"out","toId":"c36f9781-0056-4c84-aa27-bc35e4a161f7","toPort":"gain"},{"id":"3089c16d-2fd3-42ae-a392-808ef1a87f83","fromId":"aa910e21-29a2-4f89-8292-15bc1019d9bc","fromPort":"out","toId":"8b75a5ef-6f39-476a-a5a2-f00b8fee71b7","toPort":"note"},{"id":"9a100a26-ff6f-4877-aa65-af8803445369","fromId":"f4615580-bc25-4300-8c34-dbcaa64d8390","fromPort":"out","toId":"8b75a5ef-6f39-476a-a5a2-f00b8fee71b7","toPort":"duration"},{"id":"c553b479-02ad-4492-8415-8822bf374ee0","fromId":"8490c9ea-fd81-4091-ba6a-930771ed144f","fromPort":"out","toId":"8b75a5ef-6f39-476a-a5a2-f00b8fee71b7","toPort":"synth"},{"id":"c5f6053b-3660-4666-8ac1-b0f4c8479efc","fromId":"30125fcc-c1b1-465e-ad6c-8f6784653ca3","fromPort":"out","toId":"baa2010f-634e-450a-8ea6-7471373e9902","toPort":"interval"},{"id":"fe2aba66-7a61-44c6-b99e-91a1f405b677","fromId":"86e1cc25-1e46-4fa7-9b96-047a4cb330d2","fromPort":"out","toId":"d439cce5-91aa-4802-a78c-811edce1072d","toPort":"interval"},{"id":"ee27f36f-9494-4f41-bdb4-df257c723aa4","fromId":"09fd334a-2b92-4818-948d-0b3eb44fc56a","fromPort":"out","toId":"eb0076ad-6654-466f-b196-2f7c6b7191b8","toPort":"note"},{"id":"ff0f923b-2b89-4c8a-8b09-e310f0532d6f","fromId":"88e83ff9-f223-4d8e-829e-7fea2e5ec745","fromPort":"out","toId":"eb0076ad-6654-466f-b196-2f7c6b7191b8","toPort":"time"},{"id":"881352ea-dc6e-491c-bd77-20c0667b5106","fromId":"8490c9ea-fd81-4091-ba6a-930771ed144f","fromPort":"out","toId":"eb0076ad-6654-466f-b196-2f7c6b7191b8","toPort":"synth"},{"id":"9fc5c128-75b5-41da-91b4-83e66c37152e","fromId":"8490c9ea-fd81-4091-ba6a-930771ed144f","fromPort":"out","toId":"905f5a13-7fd8-4f49-8fb0-f9b90d5d5c36","toPort":"synth"},{"id":"52e04a01-7fc0-42bb-af43-5e81ae31383c","fromId":"c9b3666e-fb39-4e8a-b7ac-da4f5c76d609","fromPort":"out","toId":"905f5a13-7fd8-4f49-8fb0-f9b90d5d5c36","toPort":"note"},{"id":"5f21a9e0-327f-43ce-bd50-f4b6b8ce101c","fromId":"7a471dfc-f93e-45a7-ab06-74ccb336f973","fromPort":"out","toId":"905f5a13-7fd8-4f49-8fb0-f9b90d5d5c36","toPort":"duration"},{"id":"a1f02428-8600-43ed-b173-f636ba8c44b4","fromId":"0aa00bb6-1dec-4363-a35d-b42b02419560","fromPort":"out","toId":"905f5a13-7fd8-4f49-8fb0-f9b90d5d5c36","toPort":"time"},{"id":"12601e04-f43a-411a-b094-53cc10135752","fromId":"d439cce5-91aa-4802-a78c-811edce1072d","fromPort":"i","toId":"8b75a5ef-6f39-476a-a5a2-f00b8fee71b7","toPort":"call"},{"id":"c95cf943-8ada-4377-8594-899bca5b05a4","fromId":"d439cce5-91aa-4802-a78c-811edce1072d","fromPort":"i","toId":"eb0076ad-6654-466f-b196-2f7c6b7191b8","toPort":"call"},{"id":"903be265-91fe-44f4-858c-460f26e61bf3","fromId":"d439cce5-91aa-4802-a78c-811edce1072d","fromPort":"i","toId":"905f5a13-7fd8-4f49-8fb0-f9b90d5d5c36","toPort":"call"},{"id":"d886d3ae-4c73-4677-a470-f8b18258435c","fromId":"8490c9ea-fd81-4091-ba6a-930771ed144f","fromPort":"out","toId":"60c43d0b-8e9a-4ae5-978d-4ad6b261e181","toPort":"synth"},{"id":"83c1de3a-621a-4b78-bae5-765c4955699a","fromId":"11967a59-8446-43ec-a316-dbf1886113f1","fromPort":"out","toId":"60c43d0b-8e9a-4ae5-978d-4ad6b261e181","toPort":"note"},{"id":"3ca9a2cf-2ff4-43f9-b42a-cb641cf2c65f","fromId":"1353b760-9d17-4e3a-8c93-b3e145257e39","fromPort":"out","toId":"60c43d0b-8e9a-4ae5-978d-4ad6b261e181","toPort":"duration"},{"id":"d3b747ac-6a39-4cc8-98b1-5e2704956469","fromId":"4764e224-065e-42dc-8e1e-2065eaaf3769","fromPort":"out","toId":"60c43d0b-8e9a-4ae5-978d-4ad6b261e181","toPort":"time"},{"id":"5c169a72-7785-4494-9ff8-65ea03e0354c","fromId":"d439cce5-91aa-4802-a78c-811edce1072d","fromPort":"i","toId":"60c43d0b-8e9a-4ae5-978d-4ad6b261e181","toPort":"call"},{"id":"f6ce2b7b-04e0-4c0b-9174-5841f963396f","fromId":"8490c9ea-fd81-4091-ba6a-930771ed144f","fromPort":"out","toId":"67749ad1-cc98-49e3-be92-1eaabd950e5b","toPort":"synth"},{"id":"2e7bcb9c-2ed7-47b0-a5f8-58a97d62bfee","fromId":"313fb208-63bb-47b2-9cf8-cc3566cc66c8","fromPort":"out","toId":"67749ad1-cc98-49e3-be92-1eaabd950e5b","toPort":"note"},{"id":"c8c6a5c2-cd78-49cf-a927-c185763532d7","fromId":"e38ab2d1-974f-4b00-89dd-7a49d13c4572","fromPort":"out","toId":"67749ad1-cc98-49e3-be92-1eaabd950e5b","toPort":"duration"},{"id":"1704ddad-4528-4db6-9f3d-0e9e358a7411","fromId":"991084ff-6b77-40da-9634-af8aef303a5f","fromPort":"out","toId":"67749ad1-cc98-49e3-be92-1eaabd950e5b","toPort":"time"},{"id":"09319199-f8ea-49a5-a9e5-c0695001ac44","fromId":"d439cce5-91aa-4802-a78c-811edce1072d","fromPort":"i","toId":"67749ad1-cc98-49e3-be92-1eaabd950e5b","toPort":"call"},{"id":"4e4c5cc5-7d6c-43c0-8b24-cadef73d6793","fromId":"7c8de2c0-b434-4576-8e2f-388780cc547e","fromPort":"out","toId":"500e6fe2-09a3-4f9a-b0a0-8ce2c2e502ea","toPort":"time"},{"id":"c3e405b6-4466-4d2d-a569-a571b7fb846b","fromId":"8490c9ea-fd81-4091-ba6a-930771ed144f","fromPort":"out","toId":"500e6fe2-09a3-4f9a-b0a0-8ce2c2e502ea","toPort":"synth"},{"id":"527702a6-5cf1-4101-86da-9c4bd55ac46d","fromId":"8490c9ea-fd81-4091-ba6a-930771ed144f","fromPort":"out","toId":"a675590d-4bb9-4d23-bafa-4e09f1b6e771","toPort":"synth"},{"id":"f7afa4c4-7f0d-48e2-843d-06fcc592dad7","fromId":"8490c9ea-fd81-4091-ba6a-930771ed144f","fromPort":"out","toId":"8352a313-ee46-4f9d-8784-ca6b1cbc9e08","toPort":"synth"},{"id":"ebfb90f5-b513-4f8e-a77b-43070534be9c","fromId":"f97a7c6b-84f0-4973-83c1-2f443ebe2fc6","fromPort":"out","toId":"a675590d-4bb9-4d23-bafa-4e09f1b6e771","toPort":"time"},{"id":"656a6bac-2bcf-422d-875a-9e2276643320","fromId":"8d1fbdb2-a0a4-4683-8880-cdc429cd9ae4","fromPort":"out","toId":"8352a313-ee46-4f9d-8784-ca6b1cbc9e08","toPort":"time"},{"id":"4473ccf4-1754-4916-8e9f-b71d6bd3b2dd","fromId":"a071dd7f-456f-4fc9-b091-ed011c004686","fromPort":"out","toId":"a675590d-4bb9-4d23-bafa-4e09f1b6e771","toPort":"note"},{"id":"bd6aa088-eb39-4b9d-9077-8cab320597a3","fromId":"d439cce5-91aa-4802-a78c-811edce1072d","fromPort":"i","toId":"500e6fe2-09a3-4f9a-b0a0-8ce2c2e502ea","toPort":"call"},{"id":"ebfd06ab-6f01-4a89-b6e2-6f7e1dbcaf9f","fromId":"d439cce5-91aa-4802-a78c-811edce1072d","fromPort":"i","toId":"a675590d-4bb9-4d23-bafa-4e09f1b6e771","toPort":"call"},{"id":"473acccc-eef7-4ba0-b118-c683baa14162","fromId":"d439cce5-91aa-4802-a78c-811edce1072d","fromPort":"i","toId":"8352a313-ee46-4f9d-8784-ca6b1cbc9e08","toPort":"call"},{"id":"63e66ec4-2d73-4144-803e-7e674deec99f","fromId":"10cbfa73-7c69-4259-b07d-376d9aad0050","fromPort":"out","toId":"500e6fe2-09a3-4f9a-b0a0-8ce2c2e502ea","toPort":"note"},{"id":"b9b8ec9b-0a4b-49e4-8029-272413ad8e69","fromId":"10cbfa73-7c69-4259-b07d-376d9aad0050","fromPort":"out","toId":"8352a313-ee46-4f9d-8784-ca6b1cbc9e08","toPort":"note"},{"id":"f4d8f888-588d-4082-90a1-4d5e9448df34","fromId":"ae0f343b-e37a-41b7-ab60-8d2f43e54930","fromPort":"out","toId":"78fd3986-cac1-4baa-8d9a-451e2e935182","toPort":"synth"},{"id":"9b00cba8-7669-40e5-a35b-40769dc32f53","fromId":"6a3167b7-8a96-4fcf-b03c-2ef5696e2b57","fromPort":"out","toId":"78fd3986-cac1-4baa-8d9a-451e2e935182","toPort":"note"},{"id":"bee6120e-8bef-490f-88a5-0d64698e51fd","fromId":"66046fc0-3aa7-4801-9967-1d8edff5f38f","fromPort":"out","toId":"78fd3986-cac1-4baa-8d9a-451e2e935182","toPort":"duration"},{"id":"d67924bc-10e3-4cc7-9eee-842c31864bc1","fromId":"3aebcff0-e3c3-4808-9fc4-7bc779023984","fromPort":"out","toId":"78fd3986-cac1-4baa-8d9a-451e2e935182","toPort":"time"},{"id":"3de0acee-feb1-416a-aa16-45bce75fe4e5","fromId":"cf186a49-dcbd-44ba-9ca7-37b119ecdb52","fromPort":"out","toId":"4877c4ed-92f3-437a-b69f-d5c34652fa7d","toPort":"node"},{"id":"1a0ff7c6-7cc7-4f2c-bd40-a0b049080d5c","fromId":"f6cc972f-9d93-4322-acb0-1493345167df","fromPort":"out","toId":"e56c5d68-5f63-4bf5-b3fe-db90c1e02b5c","toPort":"delayTime"},{"id":"c584b7b1-4b04-49d9-b5b3-ed8adfa1a609","fromId":"ae0f343b-e37a-41b7-ab60-8d2f43e54930","fromPort":"out","toId":"313f3cf9-a867-400a-a095-a3b58b4c8884","toPort":"node"},{"id":"f646a844-1c26-4403-a8bf-48144c6587ca","fromId":"37b12cf7-03ee-4b25-8095-8d0c09ea4cd0","fromPort":"out","toId":"313f3cf9-a867-400a-a095-a3b58b4c8884","toPort":"pan"},{"id":"ebd6803c-0ba8-43c8-9f47-43e5b731410a","fromId":"313f3cf9-a867-400a-a095-a3b58b4c8884","fromPort":"out","toId":"e56c5d68-5f63-4bf5-b3fe-db90c1e02b5c","toPort":"node"},{"id":"bcd8a709-bad9-474c-91f9-0aeada52d98f","fromId":"baa2010f-634e-450a-8ea6-7471373e9902","fromPort":"i","toId":"78fd3986-cac1-4baa-8d9a-451e2e935182","toPort":"call"},{"id":"46f3738f-155b-4ba7-adc9-2c189633ecc6","fromId":"d5c469d4-7728-453d-ba9c-00bb6bce3620","fromPort":"out","toId":"8abaedac-b54d-4013-9eb1-09bef3be4280","toPort":"time"},{"id":"4b733a18-7fd4-453c-9440-65b01531feb6","fromId":"ab98c5be-ad7d-4212-8406-1206d9e5d5b5","fromPort":"out","toId":"8abaedac-b54d-4013-9eb1-09bef3be4280","toPort":"note"},{"id":"ad15703f-3897-423a-bbbf-e7aee94ed00f","fromId":"ae0f343b-e37a-41b7-ab60-8d2f43e54930","fromPort":"out","toId":"8abaedac-b54d-4013-9eb1-09bef3be4280","toPort":"synth"},{"id":"b94f3099-76e8-4e4c-ace0-9c36fc40b35f","fromId":"baa2010f-634e-450a-8ea6-7471373e9902","fromPort":"i","toId":"8abaedac-b54d-4013-9eb1-09bef3be4280","toPort":"call"},{"id":"58dd19ce-5b67-4b60-8b0a-a254bfa513e0","fromId":"ddfbe287-1bd9-495b-a4ff-01c183c75579","fromPort":"out","toId":"57c5dd16-1220-4f5e-812a-6fc59992db2a","toPort":"time"},{"id":"8b1e469a-50f8-4a91-a1bd-ba257af23cd5","fromId":"a89e7f57-2821-4427-8f8f-ed6520648bc5","fromPort":"out","toId":"57c5dd16-1220-4f5e-812a-6fc59992db2a","toPort":"duration"},{"id":"ea9b88c1-c3a2-4f64-9f90-733040c7f427","fromId":"4df06e48-f2eb-46ba-8663-3e355cf17197","fromPort":"out","toId":"57c5dd16-1220-4f5e-812a-6fc59992db2a","toPort":"note"},{"id":"b94d41dd-1eb9-4766-b04d-cc73705887a5","fromId":"ae0f343b-e37a-41b7-ab60-8d2f43e54930","fromPort":"out","toId":"57c5dd16-1220-4f5e-812a-6fc59992db2a","toPort":"synth"},{"id":"0ea5e2c6-a384-4516-a30d-872992145f31","fromId":"baa2010f-634e-450a-8ea6-7471373e9902","fromPort":"i","toId":"57c5dd16-1220-4f5e-812a-6fc59992db2a","toPort":"call"},{"id":"d75d9f3d-1d35-4f2f-b42b-42a397198998","fromId":"c79af123-5e45-4a1d-9774-f3ba0a637fff","fromPort":"out","toId":"30f5644d-161b-4cf7-a586-1f415b7299d4","toPort":"time"},{"id":"cc1a2be6-40e4-4205-9214-35b66f440ce4","fromId":"a8a0b943-ca83-4897-9a53-a4492670fe60","fromPort":"out","toId":"30f5644d-161b-4cf7-a586-1f415b7299d4","toPort":"note"},{"id":"f397b09c-1b66-48f7-b969-18c42c2a814d","fromId":"ae0f343b-e37a-41b7-ab60-8d2f43e54930","fromPort":"out","toId":"30f5644d-161b-4cf7-a586-1f415b7299d4","toPort":"synth"},{"id":"921339d5-8adc-4b39-bc1d-8520f78a56ef","fromId":"baa2010f-634e-450a-8ea6-7471373e9902","fromPort":"i","toId":"30f5644d-161b-4cf7-a586-1f415b7299d4","toPort":"call"},{"id":"79a8687c-1e90-4211-a2f7-ecc8e3cf7fd4","fromId":"3f7b458d-caaf-45b7-9467-0be09fd36db5","fromPort":"out","toId":"7c3bd6de-742b-4949-9dc6-63232361a5e7","toPort":"note"},{"id":"19e47cd1-d7c8-47b5-ab59-3b4ea1da1d37","fromId":"39a87663-4ec9-4dcc-bcf2-90d54afde083","fromPort":"out","toId":"7c3bd6de-742b-4949-9dc6-63232361a5e7","toPort":"duration"},{"id":"1c30a337-7d76-42bc-ad10-3f07856cae99","fromId":"b3588d4a-8d8e-4010-ab9b-b3711609d2ba","fromPort":"out","toId":"7c3bd6de-742b-4949-9dc6-63232361a5e7","toPort":"time"},{"id":"c4beebb6-f2ae-4484-a0e6-38e8b9c391f0","fromId":"ae0f343b-e37a-41b7-ab60-8d2f43e54930","fromPort":"out","toId":"7c3bd6de-742b-4949-9dc6-63232361a5e7","toPort":"synth"},{"id":"09fb159d-0424-4629-b982-df2ed01ea9b2","fromId":"baa2010f-634e-450a-8ea6-7471373e9902","fromPort":"i","toId":"7c3bd6de-742b-4949-9dc6-63232361a5e7","toPort":"call"},{"id":"783acbd5-1d57-4925-be41-534f5ec9131b","fromId":"e56c5d68-5f63-4bf5-b3fe-db90c1e02b5c","fromPort":"out","toId":"cf186a49-dcbd-44ba-9ca7-37b119ecdb52","toPort":"node"},{"id":"d018f809-4ca1-49e0-aae9-56972367dd31","fromId":"c36f9781-0056-4c84-aa27-bc35e4a161f7","fromPort":"gain","toId":"60134385-b09e-4f04-8217-25fbf9a1bbe1","toPort":"from"},{"id":"dde0634e-270d-4f19-b4b5-93f5665d20de","fromId":"4877c4ed-92f3-437a-b69f-d5c34652fa7d","fromPort":"out","toId":"60134385-b09e-4f04-8217-25fbf9a1bbe1","toPort":"to"},{"id":"03dc0338-4d61-4f93-9236-3113868a2fd8","fromId":"cf186a49-dcbd-44ba-9ca7-37b119ecdb52","fromPort":"out","toId":"c36f9781-0056-4c84-aa27-bc35e4a161f7","toPort":"node"},{"id":"81308d50-ad27-4454-8d23-7246aa2064e2","fromId":"a07aa9ba-f36e-4414-82c0-af4b3a958d23","fromPort":"out","toId":"dd17713d-5468-4464-8782-7bc67abb772e","toPort":"fragment"},{"id":"7530de67-cf4c-498d-b9c1-062c58c3ac53","fromId":"9755c49a-f9e9-43aa-ba03-09b47be82712","fromPort":"geometry","toId":"02596e2e-23f1-4087-9745-198d39222421","toPort":"geometry"},{"id":"e226080c-e50b-43e6-be3c-5698b068e7c0","fromId":"dd17713d-5468-4464-8782-7bc67abb772e","fromPort":"material","toId":"02596e2e-23f1-4087-9745-198d39222421","toPort":"material"},{"id":"0de78ef1-fcd5-43a8-9cfe-24fcd0af1cec","fromId":"02596e2e-23f1-4087-9745-198d39222421","fromPort":"mesh","toId":"e556bcf5-2b82-460e-b8c4-cdb3c088ce14","toPort":"child"},{"id":"91691a04-754b-4bb7-a7f3-2bc1e20f5bbc","fromId":"8c5ef0c2-7458-4824-b357-2929e2ed164a","fromPort":"out","toId":"a328678d-f161-470f-b7f4-9288fb515338","toPort":"x"},{"id":"85451bbf-8e9d-44ca-9546-4e233074d2e6","fromId":"a328678d-f161-470f-b7f4-9288fb515338","fromPort":"out","toId":"02596e2e-23f1-4087-9745-198d39222421","toPort":"scale"},{"id":"600bf4bf-e4e6-468d-8533-f675f0db1e46","fromId":"8c5ef0c2-7458-4824-b357-2929e2ed164a","fromPort":"out","toId":"a328678d-f161-470f-b7f4-9288fb515338","toPort":"y"},{"id":"aeb79c0b-4be1-4d77-ad60-f518d7765602","fromId":"8c5ef0c2-7458-4824-b357-2929e2ed164a","fromPort":"out","toId":"a328678d-f161-470f-b7f4-9288fb515338","toPort":"z"},{"id":"8702d185-dc88-42bc-bbea-a9ff565b67ea","fromId":"5faea721-2df0-4914-b708-d55033f8e697","fromPort":"out","toId":"4dfb79b3-463d-458b-83f7-b97c7f504cd8","toPort":"transport"},{"id":"5e4d1a43-0363-475f-9f7c-36f9ca604ad6","fromId":"2ea6ef58-f500-4dc7-b0d6-2c40e84a67da","fromPort":"out","toId":"8490c9ea-fd81-4091-ba6a-930771ed144f","toPort":"harmonicity"},{"id":"3a9e4248-1340-4d46-9b40-f1b6d7c6a73c","fromId":"0ee12a1d-696a-407f-bc40-c96e7d2a2534","fromPort":"out","toId":"8b75a5ef-6f39-476a-a5a2-f00b8fee71b7","toPort":"time"},{"id":"d1888a4b-7842-4335-91ed-91ade7577b73","fromId":"cfaa92ba-a2f9-42fd-b929-505e20052619","fromPort":"out","toId":"ae0f343b-e37a-41b7-ab60-8d2f43e54930","toPort":"harmonicity"},{"id":"08abf31b-560c-4744-be6a-f8d3088a619d","fromId":"8c687c7b-6962-420f-9da4-88aeb6d9f244","fromPort":"out","toId":"d439cce5-91aa-4802-a78c-811edce1072d","toPort":"humanize"},{"id":"b6a9253a-2fc3-4319-8a34-ca3250ff938f","fromId":"8c687c7b-6962-420f-9da4-88aeb6d9f244","fromPort":"out","toId":"baa2010f-634e-450a-8ea6-7471373e9902","toPort":"humanize"},{"id":"e134483f-8bd4-426f-8042-e10c5679645c","fromId":"ae0f343b-e37a-41b7-ab60-8d2f43e54930","fromPort":"out","toId":"d2018d0f-f712-4f9c-89bc-325346c4509d","toPort":"from"},{"id":"b2e8c5e8-4601-40b1-961b-2c7c4e80a9dd","fromId":"8490c9ea-fd81-4091-ba6a-930771ed144f","fromPort":"out","toId":"0387d608-5038-4eec-9ebc-cb88ec7c61d8","toPort":"from"},{"id":"75eb6e2b-4c79-40f6-b786-20a3b9ac829c","fromId":"edafe2dd-b07c-409d-ab3e-ced75380698a","fromPort":"out","toId":"d2018d0f-f712-4f9c-89bc-325346c4509d","toPort":"get"},{"id":"c5c741f4-8f0f-4686-ab13-a7c0c9d6bf47","fromId":"edafe2dd-b07c-409d-ab3e-ced75380698a","fromPort":"out","toId":"0387d608-5038-4eec-9ebc-cb88ec7c61d8","toPort":"get"},{"id":"2bfa4a2d-b072-4403-97a8-1934311ef6bd","fromId":"d2018d0f-f712-4f9c-89bc-325346c4509d","fromPort":"out","toId":"8259b3f6-2118-4e1f-b0a7-774df3ebaf62","toPort":"signal"},{"id":"259e31a9-e8d6-4b72-b78d-a715ed89a924","fromId":"0387d608-5038-4eec-9ebc-cb88ec7c61d8","fromPort":"out","toId":"4681dca7-1b95-42a1-901e-55a52a558475","toPort":"signal"},{"id":"7dbb5aa1-a7c2-4c2e-829d-f9e895536e27","fromId":"e752c581-649b-49f2-b632-762b0454ca7b","fromPort":"out","toId":"ae0f343b-e37a-41b7-ab60-8d2f43e54930","toPort":"volume"},{"id":"485df8cb-dc95-4ab7-a125-20fbeea2a174","fromId":"e752c581-649b-49f2-b632-762b0454ca7b","fromPort":"out","toId":"8490c9ea-fd81-4091-ba6a-930771ed144f","toPort":"volume"},{"id":"fd79a190-1640-4ba6-8af2-9670968e4347","fromId":"9c0a73e1-6314-4ba7-ab0b-a66c6a9f66a8","fromPort":"out","toId":"8259b3f6-2118-4e1f-b0a7-774df3ebaf62","toPort":"toValue"},{"id":"743116d2-bc8a-450e-9b97-db3ed5b9349d","fromId":"9c0a73e1-6314-4ba7-ab0b-a66c6a9f66a8","fromPort":"out","toId":"4681dca7-1b95-42a1-901e-55a52a558475","toPort":"toValue"},{"id":"b6cc3070-ee1e-4460-aa02-e7df4ef2fac0","fromId":"b7ae0ff9-3a2d-4393-a81f-9952ad771b6c","fromPort":"out","toId":"8259b3f6-2118-4e1f-b0a7-774df3ebaf62","toPort":"rampTime"},{"id":"3580f565-d289-41bf-b20b-65e6da9f85de","fromId":"b7ae0ff9-3a2d-4393-a81f-9952ad771b6c","fromPort":"out","toId":"4681dca7-1b95-42a1-901e-55a52a558475","toPort":"rampTime"},{"id":"c6f50958-7b3f-4ec9-82ba-0d0090aefb7b","fromId":"0851d188-5233-4d64-8798-d993b96bb483","fromPort":"out","toId":"aba6dcbf-7548-48d6-b65b-7cac821684fc","toPort":"rate"},{"id":"7791d4b2-42b6-4e6f-95a9-4e38fcdacddb","fromId":"054c1cc1-1859-4405-9c46-ce344748c447","fromPort":"out","toId":"aba6dcbf-7548-48d6-b65b-7cac821684fc","toPort":"volume"},{"id":"34c89655-9890-4f36-b3a6-f923c370e820","fromId":"aba6dcbf-7548-48d6-b65b-7cac821684fc","fromPort":"noise","toId":"c74024f4-6f06-4d9b-85c3-c8e23aa5ecfc","toPort":"node"},{"id":"41d7eb93-c643-4240-b173-54d05430ad9c","fromId":"edafe2dd-b07c-409d-ab3e-ced75380698a","fromPort":"out","toId":"64de3953-8fc8-48f8-813e-40207ec84ccd","toPort":"get"},{"id":"06e1d379-41c6-4088-91ed-3da0b6b14ac9","fromId":"aba6dcbf-7548-48d6-b65b-7cac821684fc","fromPort":"noise","toId":"64de3953-8fc8-48f8-813e-40207ec84ccd","toPort":"from"},{"id":"c2a591da-6b51-493a-8277-77d6139b0e0a","fromId":"64de3953-8fc8-48f8-813e-40207ec84ccd","fromPort":"out","toId":"69ad6b66-0182-4a9b-9359-6c08e6ea2f03","toPort":"signal"},{"id":"0d928e28-396e-4963-99b9-0f0babdd9ec1","fromId":"0e47fab7-d46a-4ed6-ba60-47c966976737","fromPort":"out","toId":"69ad6b66-0182-4a9b-9359-6c08e6ea2f03","toPort":"toValue"},{"id":"c98cbdb1-6b99-4673-8c81-86804d96256d","fromId":"c9bdf11e-30fb-4ddb-b791-10ad44793a57","fromPort":"out","toId":"69ad6b66-0182-4a9b-9359-6c08e6ea2f03","toPort":"rampTime"}],"meta":{"zoom":9},"description":"Eno\'s Discreet Music"}')},312:function(e){e.exports=JSON.parse('{"name":"platonic plague","nodes":[{"id":"34cfcfdf-b3d9-439a-97cb-285dc7362276","type":"Vector2D","x":740.6666666666665,"y":587.102564102564,"state":{"value":"{\\"x\\":0.8111579463447602,\\"y\\":13.5125}"}},{"id":"41abbeab-444a-4a96-8ea3-3f41fb896e0a","type":"MeshNode","x":980.6666666666665,"y":337.76923076923055,"state":{}},{"id":"14ef41db-9691-4ab2-a3eb-b842747d8f6b","type":"TorusKnotGeometryNode","x":740.6666666666665,"y":277.102564102564,"state":{}},{"id":"c548254b-0256-4925-bc59-a0d1980d5ed6","type":"LambertMaterialNode","x":740.6666666666665,"y":489.4358974358973,"state":{}},{"id":"5e50de16-7d80-4550-a3bb-cdf44477b9cc","type":"ThreeNode","x":1354.6666666666665,"y":544.102564102564,"state":{}},{"id":"e9ffb6b3-1532-4278-bda2-ca7c3d920ecd","type":"DivideNode","x":319.6666666666665,"y":609.102564102564,"state":{}},{"id":"1855537c-ff48-47d2-a5d0-b20c960eb54d","type":"number","x":58.666666666666515,"y":704.102564102564,"state":{"value":80}},{"id":"9a6877df-efe3-4385-adca-bc40b0a54912","type":"number","x":-182.0000000000001,"y":603.435897435897,"state":{"value":16}},{"id":"93be5499-31d0-4947-bd2f-594d7efae8fa","type":"IntervalNode","x":58.666666666666515,"y":589.102564102564,"state":{}},{"id":"64b3a7b5-2fa0-409c-b649-c1aa7b055cdd","type":"IntToIntMathNode","x":529.6666666666665,"y":579.102564102564,"state":{}},{"id":"4730cf54-97f8-405b-a2b2-818723883e07","type":"string","x":319.6666666666665,"y":526.102564102564,"state":{"value":"sin"}},{"id":"272a83bf-1ce5-4e11-a062-af85b45f696e","type":"AmbientLightNode","x":980.6666666666665,"y":244.7692307692306,"state":{}},{"id":"067a3d41-e01a-4e62-9931-c6530a3e51d6","type":"DirectionalLightNode","x":980.6666666666665,"y":492.1025641025639,"state":{}},{"id":"965f2cd3-2010-44b2-b864-b5c796dc2cf7","type":"string","x":1354.6666666666665,"y":450.1025641025639,"state":{"value":"This graph constructs a webGL scene with a torus-knot geometry and rotates it"},"title":"README"},{"id":"81456a1e-f32e-4ac6-b5fd-e1ab1e62c26e","type":"GlitchPassNode","x":980.6666666666665,"y":830.4358974358968,"state":{}},{"id":"ce9ca761-3493-4087-ac1d-faa89e50c0c6","type":"VignettePassNode","x":980.6666666666665,"y":692.435897435897,"state":{}},{"id":"6da35ba3-609c-4f0b-be57-9f3100cc4ead","type":"number","x":740.6666666666665,"y":788.7692307692305,"state":{"value":0.2}},{"id":"00076c54-799b-4488-ab82-a362ff92f0c5","type":"ScanlinePassNode","x":980.6666666666665,"y":586.435897435897,"state":{}},{"id":"b545e9f0-4dae-4ac4-81e6-bbe7c7d95b28","type":"number","x":740.6666666666665,"y":693.102564102564,"state":{"value":0.7}},{"id":"196ba633-0456-47d6-b8cf-38148fda9555","type":"number","x":145.33333333333303,"y":165.1025641025641,"state":{"value":3}},{"id":"64c27e45-f9bf-4b54-bd71-40a1247b57c0","type":"number","x":380.33333333333314,"y":313.4358974358973,"state":{"value":120}},{"id":"b72f8025-ef40-4853-ac26-fb70cc980788","type":"number","x":145.33333333333303,"y":280.4358974358975,"state":{"value":0.5}},{"id":"570fc9c9-6c11-4160-80c4-e368d7f64127","type":"number","x":145.33333333333303,"y":400.4358974358975,"state":{"value":16}},{"id":"40e276ce-3562-4621-981f-ba3fc22efbd3","type":"number","x":380.33333333333314,"y":404.7692307692308,"state":{"value":4}},{"id":"090494d9-c402-4489-9a13-11c93b3bf978","type":"number","x":380.33333333333314,"y":223.4358974358973,"state":{"value":3}},{"id":"0817e766-208d-4e98-bc06-05cd216de2f3","type":"MeshNode","x":953.9999999999999,"y":42.76923076923066,"state":{}},{"id":"cc1f500a-b2f6-4e89-a2bc-1e4d3d63aae1","type":"TorusKnotGeometryNode","x":740.6666666666665,"y":50.43589743589729,"state":{}},{"id":"93f58963-87f8-4790-89f7-3701e64a7ff8","type":"ShaderMaterialNode","x":380.33333333333314,"y":-10.897435897435798,"state":{}},{"id":"44811a84-7318-4b98-8e89-3efc76d9d3b2","type":"string","x":145.33333333333303,"y":42.1025641025642,"state":{"value":"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\n\\nmat3 yuv2rgb = mat3(1.0, 0.0, 1.13983, 1.0, -0.39465, -0.58060, 1.0, 2.03211, 0.0);\\nmat3 rgb2yuv = mat3(0.2126, 0.7152, 0.0722, -0.09991, -0.33609, 0.43600, 0.615, -0.5586, -0.05639);\\n\\nvoid main(){\\n  vec2 st = gl_FragCoord.xy/u_resolution;\\n  vec3 color = vec3(0.0);\\n  st -= 0.5;\\n  st *= 2.0;\\n  color = yuv2rgb * vec3(0.5, st.x, st.y);\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n"},"title":"yuv"},{"id":"99c1cdda-0677-40ea-af41-4c53465e0ee0","type":"number","x":380.33333333333314,"y":129.10256410256375,"state":{"value":0.125}}],"edges":[{"id":"58325bbd-3576-4171-bdca-e453d75cda39","fromId":"14ef41db-9691-4ab2-a3eb-b842747d8f6b","fromPort":"geometry","toId":"41abbeab-444a-4a96-8ea3-3f41fb896e0a","toPort":"geometry"},{"id":"02fa1120-50b9-44d9-a654-641471e4ba24","fromId":"c548254b-0256-4925-bc59-a0d1980d5ed6","fromPort":"material","toId":"41abbeab-444a-4a96-8ea3-3f41fb896e0a","toPort":"material"},{"id":"f49f0967-4fca-45f5-990e-053dffdada57","fromId":"34cfcfdf-b3d9-439a-97cb-285dc7362276","fromPort":"out","toId":"41abbeab-444a-4a96-8ea3-3f41fb896e0a","toPort":"rotation"},{"id":"d293c708-8201-4dd4-86c6-78f35698799c","fromId":"1855537c-ff48-47d2-a5d0-b20c960eb54d","fromPort":"out","toId":"e9ffb6b3-1532-4278-bda2-ca7c3d920ecd","toPort":"divisor"},{"id":"4be6a9e4-d631-4be0-bf36-fecbedb136a7","fromId":"9a6877df-efe3-4385-adca-bc40b0a54912","fromPort":"out","toId":"93be5499-31d0-4947-bd2f-594d7efae8fa","toPort":"interval"},{"id":"d5f4c3e1-d991-4a01-a447-a5cd9a7f7243","fromId":"93be5499-31d0-4947-bd2f-594d7efae8fa","fromPort":"count","toId":"e9ffb6b3-1532-4278-bda2-ca7c3d920ecd","toPort":"dividend"},{"id":"d224a207-96f1-4df3-885c-8dabf5ee1f06","fromId":"41abbeab-444a-4a96-8ea3-3f41fb896e0a","fromPort":"mesh","toId":"5e50de16-7d80-4550-a3bb-cdf44477b9cc","toPort":"child"},{"id":"f01f99b0-d847-4232-bfe0-6e8c666ac95b","fromId":"4730cf54-97f8-405b-a2b2-818723883e07","fromPort":"out","toId":"64b3a7b5-2fa0-409c-b649-c1aa7b055cdd","toPort":"fn"},{"id":"a2909b32-0b26-4514-8f1b-15c01d3d8a55","fromId":"e9ffb6b3-1532-4278-bda2-ca7c3d920ecd","fromPort":"result","toId":"64b3a7b5-2fa0-409c-b649-c1aa7b055cdd","toPort":"in"},{"id":"f391fc33-bc82-4ee6-84b1-6ae863ad2df1","fromId":"64b3a7b5-2fa0-409c-b649-c1aa7b055cdd","fromPort":"result","toId":"34cfcfdf-b3d9-439a-97cb-285dc7362276","toPort":"x"},{"id":"effeb44d-c83a-406a-8456-45efe3b08134","fromId":"e9ffb6b3-1532-4278-bda2-ca7c3d920ecd","fromPort":"result","toId":"34cfcfdf-b3d9-439a-97cb-285dc7362276","toPort":"y"},{"id":"397736a6-b896-4085-92f4-80a1ace8549e","fromId":"272a83bf-1ce5-4e11-a062-af85b45f696e","fromPort":"light","toId":"5e50de16-7d80-4550-a3bb-cdf44477b9cc","toPort":"child"},{"id":"4d99d39a-1cc2-4f14-87cd-dd63a46370bb","fromId":"067a3d41-e01a-4e62-9931-c6530a3e51d6","fromPort":"light","toId":"5e50de16-7d80-4550-a3bb-cdf44477b9cc","toPort":"child"},{"id":"280ec641-0558-4df1-b74e-3279c0383f89","fromId":"6da35ba3-609c-4f0b-be57-9f3100cc4ead","fromPort":"out","toId":"ce9ca761-3493-4087-ac1d-faa89e50c0c6","toPort":"darkness"},{"id":"4f0d2d54-f99c-47ae-8653-4c03571b9fed","fromId":"00076c54-799b-4488-ab82-a362ff92f0c5","fromPort":"pass","toId":"5e50de16-7d80-4550-a3bb-cdf44477b9cc","toPort":"fx"},{"id":"eb38dfe9-af80-4c89-95c4-47d8b51fe8f4","fromId":"ce9ca761-3493-4087-ac1d-faa89e50c0c6","fromPort":"pass","toId":"5e50de16-7d80-4550-a3bb-cdf44477b9cc","toPort":"fx"},{"id":"cd5cb3b6-3d9f-4fe4-b921-254205dc6f9a","fromId":"81456a1e-f32e-4ac6-b5fd-e1ab1e62c26e","fromPort":"glitch","toId":"5e50de16-7d80-4550-a3bb-cdf44477b9cc","toPort":"fx"},{"id":"1aab35db-5a12-4541-af2f-14719a7f0dd6","fromId":"b545e9f0-4dae-4ac4-81e6-bbe7c7d95b28","fromPort":"out","toId":"ce9ca761-3493-4087-ac1d-faa89e50c0c6","toPort":"opacity"},{"id":"7d09c1c4-152d-40ed-9af9-071b3f116dab","fromId":"196ba633-0456-47d6-b8cf-38148fda9555","fromPort":"out","toId":"14ef41db-9691-4ab2-a3eb-b842747d8f6b","toPort":"radius"},{"id":"e277f6b8-11ec-4759-98ff-6749c712f4a1","fromId":"b72f8025-ef40-4853-ac26-fb70cc980788","fromPort":"out","toId":"14ef41db-9691-4ab2-a3eb-b842747d8f6b","toPort":"tube"},{"id":"65a3bae2-4699-4f46-943d-02c184b6f35d","fromId":"64c27e45-f9bf-4b54-bd71-40a1247b57c0","fromPort":"out","toId":"14ef41db-9691-4ab2-a3eb-b842747d8f6b","toPort":"tubularSegments"},{"id":"24a3f4ea-33e0-4308-bf90-e8c187b36583","fromId":"570fc9c9-6c11-4160-80c4-e368d7f64127","fromPort":"out","toId":"14ef41db-9691-4ab2-a3eb-b842747d8f6b","toPort":"radialSegments"},{"id":"45b43a8d-ed88-490d-ae60-1ec94f0869c1","fromId":"40e276ce-3562-4621-981f-ba3fc22efbd3","fromPort":"out","toId":"14ef41db-9691-4ab2-a3eb-b842747d8f6b","toPort":"p"},{"id":"c2c81992-56ee-4701-8e2f-bbbf6ecd4708","fromId":"090494d9-c402-4489-9a13-11c93b3bf978","fromPort":"out","toId":"14ef41db-9691-4ab2-a3eb-b842747d8f6b","toPort":"q"},{"id":"e93eadd7-55f6-49e3-86e3-f6a12627c88f","fromId":"cc1f500a-b2f6-4e89-a2bc-1e4d3d63aae1","fromPort":"geometry","toId":"0817e766-208d-4e98-bc06-05cd216de2f3","toPort":"geometry"},{"id":"1de79090-1615-4e23-9eb7-975e89a3df6b","fromId":"0817e766-208d-4e98-bc06-05cd216de2f3","fromPort":"mesh","toId":"5e50de16-7d80-4550-a3bb-cdf44477b9cc","toPort":"child"},{"id":"e3500ddc-47aa-4904-b069-00b3022678db","fromId":"196ba633-0456-47d6-b8cf-38148fda9555","fromPort":"out","toId":"cc1f500a-b2f6-4e89-a2bc-1e4d3d63aae1","toPort":"radius"},{"id":"9967ab3b-7f9a-492c-8b89-69451cee7940","fromId":"64c27e45-f9bf-4b54-bd71-40a1247b57c0","fromPort":"out","toId":"cc1f500a-b2f6-4e89-a2bc-1e4d3d63aae1","toPort":"tubularSegments"},{"id":"c3eda794-2054-41db-852f-9a3236ac1c93","fromId":"570fc9c9-6c11-4160-80c4-e368d7f64127","fromPort":"out","toId":"cc1f500a-b2f6-4e89-a2bc-1e4d3d63aae1","toPort":"radialSegments"},{"id":"81dd6307-606b-4ae0-b4f5-509b16831cd2","fromId":"44811a84-7318-4b98-8e89-3efc76d9d3b2","fromPort":"out","toId":"93f58963-87f8-4790-89f7-3701e64a7ff8","toPort":"fragment"},{"id":"f3b2e73a-9509-4f18-8f5e-e938e8fa9ca5","fromId":"93f58963-87f8-4790-89f7-3701e64a7ff8","fromPort":"material","toId":"0817e766-208d-4e98-bc06-05cd216de2f3","toPort":"material"},{"id":"f2030a72-5c8d-475d-97fc-a79c962f9dc7","fromId":"090494d9-c402-4489-9a13-11c93b3bf978","fromPort":"out","toId":"cc1f500a-b2f6-4e89-a2bc-1e4d3d63aae1","toPort":"q"},{"id":"c82545e8-ca0e-40a9-882d-1c8ca9d428c8","fromId":"40e276ce-3562-4621-981f-ba3fc22efbd3","fromPort":"out","toId":"cc1f500a-b2f6-4e89-a2bc-1e4d3d63aae1","toPort":"p"},{"id":"6978ff15-efac-4dda-80d6-2abc8f35430f","fromId":"99c1cdda-0677-40ea-af41-4c53465e0ee0","fromPort":"out","toId":"cc1f500a-b2f6-4e89-a2bc-1e4d3d63aae1","toPort":"tube"}],"meta":{"zoom":12},"description":"3D Scene"}')},313:function(e){e.exports=JSON.parse('{"name":"the music while the music lasts","nodes":[{"id":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","type":"PerformanceRNNNode","x":540.8974358974356,"y":234.53846153846143,"state":{}},{"id":"5be76875-83f9-4811-8ada-a4f28521bfdb","type":"number","x":253.89743589743557,"y":262.53846153846143,"state":{"value":1}},{"id":"b4f03856-5c62-4b63-aa12-8ebaf391e4fb","type":"ScaleNode","x":27.89743589743557,"y":178.53846153846143,"state":{}},{"id":"066a0f52-d9d6-4bfb-837c-29b30bcb4e1b","type":"ChromaNode","x":253.89743589743557,"y":181.53846153846143,"state":{}},{"id":"f501fceb-832a-410a-9bc8-1faf1713a0ed","type":"string","x":-191.10256410256443,"y":178.53846153846143,"state":{"value":"D minor hexatonic"}},{"id":"cc09a370-193e-453a-929a-5dd7dc2523ea","type":"MidiOutNode","x":253.89743589743557,"y":411.53846153846143,"state":{}},{"id":"9b8c8021-70b7-4695-8208-8b1bc7b64ec5","type":"string","x":-191.10256410256443,"y":338.53846153846143,"state":{"value":"This graph uses a TensorFlow model trained over Yamaha e-Piano competition data to output MIDI data to a MIDI-out device connected to your computer. If you don\'t have a midi-out device connected, this won\'t do anything, but you can try one of the soundfont examples that use this RNN model, though midi devices tend to sound the best.\\n\\nRecommended virtual instrument is a tenor choir. It is the most eternal. and eliot tells me that you are the music while the music lasts."},"title":"README"},{"id":"4187d10a-3d94-4962-80a2-2e5987aa565b","type":"string","x":-191.10256410256443,"y":498.6495726495727,"state":{"value":"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\n#define PI 3.1415926535897932384626433832795\\n#define TWO_PI 6.28318530718\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform sampler2D ms_tex;\\n\\n// LIGHT Functions and Structs\\nstruct Light { vec3 ambient, diffuse, specular; };\\nstruct DirectionalLight { Light emission; vec3 direction; };\\nstruct PointLight { Light emission; vec3 position; };\\nstruct Material { Light bounce; vec3 emission; };\\n\\nvoid computeLight(in DirectionalLight _light, in Material _material, in vec3 _pos, in vec3 _normal, inout Light _accumulator ) {\\n  _accumulator.ambient += _light.emission.ambient;\\n  float diffuseFactor = max(0.0,dot(_normal,-_light.direction));\\n  _accumulator.diffuse += _light.emission.diffuse * diffuseFactor;\\n  if (diffuseFactor > 0.0) {\\n    vec3 reflectVector = reflect(_light.direction, _normal);\\n    float specularFactor = max(0.0,dot(normalize(_pos), reflectVector));\\n    _accumulator.specular += _light.emission.specular * specularFactor;\\n  }\\n}\\n\\nvoid computeLight(in PointLight _light, in Material _material, in vec3 _pos, in vec3 _normal, inout Light _accumulator ) {\\n  float dist = length(_light.position - _pos);\\n  vec3 lightDirection = (_light.position - _pos)/dist;\\n\\n  _accumulator.ambient += _light.emission.ambient;\\n\\n  float diffuseFactor = max(0.0,dot(lightDirection,_normal));\\n  _accumulator.diffuse += _light.emission.diffuse * diffuseFactor;\\n\\n  if (diffuseFactor > 0.0) {\\n    vec3 reflectVector = reflect(-lightDirection, _normal);\\n    float specularFactor = max(0.0,dot(-normalize(_pos), reflectVector));\\n    _accumulator.specular += _light.emission.specular * specularFactor;\\n  }\\n}\\n\\nvec3 calculate(in Material _material, in Light _light){\\n  vec3 color = vec3(0.0);\\n  color += _material.emission;\\n  color += _material.bounce.ambient * _light.ambient;\\n  color += _material.bounce.diffuse * _light.diffuse;\\n  color += _material.bounce.specular * _light.specular;\\n  return color;\\n}\\n\\nvec3 sphereNormal (vec2 st) {\\n  vec2 ost = st;\\n  st = fract(st)*2.0-1.0;\\n  vec3 ret;\\n  ret.xy = sqrt(st * st) * sign(st);\\n  ret.z = sqrt(abs(1.0 - dot(ret.xy,ret.xy)));\\n\\n  vec4 tex = texture2D(ms_tex, ost);\\n  vec3 bumps;\\n  bumps.xy = sqrt(tex.xy * tex.xy) * sign(tex.xy);\\n  bumps.z = sqrt(abs(1.0 - dot(tex.xy,tex.xy)));\\n  ret += bumps * 0.5;\\n  return ret * 0.5 + 0.5;\\n}\\n\\n\\n\\nfloat circle (vec2 st, float radius) {\\n  vec2 pos = vec2(0.5)-st;\\n  return smoothstep(1.0-radius,1.0-radius+radius*0.2,1.-dot(pos,pos)*PI);\\n}\\n\\n\\n\\nLight l = Light(vec3(0.0),vec3(0.0),vec3(0.0));\\nMaterial m = Material(Light(vec3(.0),vec3(0.960,0.960,0.960),vec3(0.3)),vec3(0.0));\\nDirectionalLight pLight = DirectionalLight(Light(vec3(0.),vec3(0.775,0.506,0.424),vec3(0.500,0.373,0.354)),vec3(1.000,0.996,0.986));\\n\\n\\nvoid main(){\\n  vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n  st = (st-.5)*1.088+.5;\\n  if (u_resolution.y > u_resolution.x ) {\\n    st.y *= u_resolution.y/u_resolution.x;\\n    st.y -= (u_resolution.y*.5-u_resolution.x*.5)/u_resolution.x;\\n  } else {\\n    st.x *= u_resolution.x/u_resolution.y;\\n    st.x -= (u_resolution.x*.5-u_resolution.y*.5)/u_resolution.y;\\n  }\\n  vec3 color = vec3(0.);\\n\\n  st = vec2(0.5)-st;\\n\\n  float t = u_time*.1;\\n  float r = dot(st,st);\\n  float a = atan(st.y,st.x)/PI;\\n\\n  st = vec2(a,r);\\n\\n  float num = 9.;\\n  st *= vec2(num,pow(num,1.582*(1.0-r)));\\n\\n  vec2 ipos = floor(st);\\n  vec2 fpos = fract(st);\\n\\n  if (ipos.y == 2. && r < .3) {\\n    vec3 normal = sphereNormal(fpos)*2.0-1.0;\\n    t += ipos.x*3.14*0.1;\\n    pLight.direction = normalize(vec3(cos(t),0.,sin(t)));\\n    computeLight(pLight,m,normal,normal,l);\\n    color = calculate(m,l);\\n    color *= circle(fpos, .8);\\n  }\\n  \\n  gl_FragColor = vec4(color,0.6);\\n}\\n"},"title":"moonshine"},{"id":"cd0bf467-aac1-4ee3-9f6c-6cccfa5da475","type":"MeshNode","x":253.89743589743557,"y":497.53846153846143,"state":{}},{"id":"9b5b88ca-42e6-46d8-9ee1-840049026753","type":"ShaderMaterialNode","x":27.89743589743557,"y":499.6495726495727,"state":{}},{"id":"e1a202e5-8436-4f87-a6a9-6e883cdfafad","type":"PlaneGeometryNode","x":27.89743589743557,"y":388.53846153846143,"state":{}},{"id":"fda0e44c-1112-493d-81ef-6a316fb62d1c","type":"ThreeNode","x":540.8974358974356,"y":494.7606837606836,"state":{}},{"id":"92b7f150-1474-43b7-b893-ad1ad91f5d4a","type":"number","x":-191.10256410256443,"y":643.5384615384614,"state":{"value":100}},{"id":"3b02e198-2006-4b20-9301-e47905fc35e3","type":"Vector3D","x":27.89743589743557,"y":626.5384615384614,"state":{"value":"{\\"x\\":100,\\"y\\":100,\\"z\\":100}"}},{"id":"cea67ca3-26ea-460e-bf40-e47e58d65cf2","type":"number","x":253.89743589743557,"y":335.53846153846143,"state":{"value":100}},{"id":"ed609fcc-f0c3-498e-b53e-e644c43c6783","type":"LoadTextureNode","x":540.8974358974356,"y":673.5384615384615,"state":{}},{"id":"ed14651f-01f4-4f78-add4-e36a0a318b28","type":"string","x":253.89743589743557,"y":759.9829059829059,"state":{"value":"ms_tex"}},{"id":"34e2d15d-da37-4b50-a599-e4331f25b651","type":"string","x":253.89743589743557,"y":666.8717948717948,"state":{"value":"/img/m-bump.jpg"}}],"edges":[{"id":"096eef73-c2a5-4b55-95ba-d9b0404a4797","fromId":"5be76875-83f9-4811-8ada-a4f28521bfdb","fromPort":"out","toId":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","toPort":"density"},{"id":"1ada8405-31fb-4a49-897a-368be4935bf8","fromId":"f501fceb-832a-410a-9bc8-1faf1713a0ed","fromPort":"out","toId":"b4f03856-5c62-4b63-aa12-8ebaf391e4fb","toPort":"tonic"},{"id":"8986c59a-41b8-47b6-866e-71c9c37f9c97","fromId":"b4f03856-5c62-4b63-aa12-8ebaf391e4fb","fromPort":"notes","toId":"066a0f52-d9d6-4bfb-837c-29b30bcb4e1b","toPort":"notes"},{"id":"b99919d7-140f-4fb1-9803-47a31da09a9f","fromId":"066a0f52-d9d6-4bfb-837c-29b30bcb4e1b","fromPort":"chroma","toId":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","toPort":"scale"},{"id":"d5658463-23bb-4da3-9919-62f3f0023eec","fromId":"cc09a370-193e-453a-929a-5dd7dc2523ea","fromPort":"device","toId":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","toPort":"midiOut"},{"id":"866e8956-1037-4467-b094-1a552c42e66f","fromId":"e1a202e5-8436-4f87-a6a9-6e883cdfafad","fromPort":"geometry","toId":"cd0bf467-aac1-4ee3-9f6c-6cccfa5da475","toPort":"geometry"},{"id":"2426b5e4-eb70-4d71-be00-f0f0e4f04516","fromId":"4187d10a-3d94-4962-80a2-2e5987aa565b","fromPort":"out","toId":"9b5b88ca-42e6-46d8-9ee1-840049026753","toPort":"fragment"},{"id":"bd81eaee-9fc4-49d5-b1e1-03e22154d5e3","fromId":"9b5b88ca-42e6-46d8-9ee1-840049026753","fromPort":"material","toId":"cd0bf467-aac1-4ee3-9f6c-6cccfa5da475","toPort":"material"},{"id":"08ca984f-4192-4e9d-a912-8f0af42323b9","fromId":"cd0bf467-aac1-4ee3-9f6c-6cccfa5da475","fromPort":"mesh","toId":"fda0e44c-1112-493d-81ef-6a316fb62d1c","toPort":"child"},{"id":"afcf1076-ba2e-49e7-90b4-5e4bfa7beb7c","fromId":"92b7f150-1474-43b7-b893-ad1ad91f5d4a","fromPort":"out","toId":"3b02e198-2006-4b20-9301-e47905fc35e3","toPort":"x"},{"id":"cb947016-591d-4067-b780-46179d765c59","fromId":"92b7f150-1474-43b7-b893-ad1ad91f5d4a","fromPort":"out","toId":"3b02e198-2006-4b20-9301-e47905fc35e3","toPort":"y"},{"id":"af48b944-7a7a-48a1-a76d-41cd30b0cf04","fromId":"92b7f150-1474-43b7-b893-ad1ad91f5d4a","fromPort":"out","toId":"3b02e198-2006-4b20-9301-e47905fc35e3","toPort":"z"},{"id":"fa1884f3-f3ec-46df-8e10-d53bf96af736","fromId":"3b02e198-2006-4b20-9301-e47905fc35e3","fromPort":"out","toId":"cd0bf467-aac1-4ee3-9f6c-6cccfa5da475","toPort":"scale"},{"id":"227a0df8-6f4f-4fb2-89f6-b3513fea9f1c","fromId":"cea67ca3-26ea-460e-bf40-e47e58d65cf2","fromPort":"out","toId":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","toPort":"stepsPerSecond"},{"id":"ff321be2-56c4-4d66-a5aa-308fe024000d","fromId":"ed14651f-01f4-4f78-add4-e36a0a318b28","fromPort":"out","toId":"ed609fcc-f0c3-498e-b53e-e644c43c6783","toPort":"name"},{"id":"c19f2de8-ccf6-480b-83e7-b6fa5fbe83ec","fromId":"34e2d15d-da37-4b50-a599-e4331f25b651","fromPort":"out","toId":"ed609fcc-f0c3-498e-b53e-e644c43c6783","toPort":"url"}],"meta":{"zoom":12},"description":"RNN -> midi out"}')},314:function(e){e.exports=JSON.parse('{"name":"stephen wolfram","nodes":[{"id":"165a27b6-c037-4e12-a4be-e99785251ed8","type":"IntervalNode","x":-27.333333333333087,"y":359.6666666666664,"state":{}},{"id":"5f6d9177-1b6f-432c-8c40-f21ce4e1a8e3","type":"StephenWolfram","x":233.6666666666669,"y":213.3333333333331,"state":{}},{"id":"a35a9f5c-3959-42eb-ae06-8f0eed6d35e0","type":"string","x":-27.333333333333087,"y":283.6666666666664,"state":{"value":"100101000100010110111011001010001010001011"},"title":"initial state"},{"id":"3f8a79af-fae2-49e0-844b-48088aecd9a2","type":"number","x":-27.333333333333087,"y":207.6666666666664,"state":{"value":30}},{"id":"18b9264d-cdd3-42af-8b18-170a113d48ae","type":"HistoryNode","x":1224.6666666666665,"y":336.6666666666664,"state":{}},{"id":"5395e900-4ecb-418f-9bad-160d65a6c742","type":"number","x":963.0000000000007,"y":328.33333333333303,"state":{"value":30}},{"id":"8018f30c-0e76-44f5-a335-bbf41c6e33c4","type":"JoinNode","x":485.33333333333366,"y":250.33333333333303,"state":{}},{"id":"c416dbb0-6225-45ba-bfb1-c4b9ea67b0d6","type":"string","x":233.6666666666669,"y":341.3333333333331,"state":{"value":""}},{"id":"a07362b2-95f6-49d6-a754-1131752b2c95","type":"RegexReplace","x":721.0000000000005,"y":321.6666666666663,"state":{}},{"id":"265c084a-20c4-4df4-bd21-611717bbc84a","type":"string","x":485.33333333333366,"y":348.33333333333303,"state":{"value":"/0/g"}},{"id":"5bd71cc7-280a-451d-befd-a00e360848fc","type":"string","x":485.33333333333366,"y":434.33333333333303,"state":{"value":"\u25fb\ufe0f"}},{"id":"6e14e792-3e7e-4d35-addf-9a05360de6f0","type":"RegexReplace","x":963.0000000000007,"y":422.33333333333303,"state":{}},{"id":"cca497c2-cd1f-44f6-8f5b-7e285eb11000","type":"string","x":721.0000000000005,"y":475.6666666666663,"state":{"value":"/1/g"}},{"id":"6e18ae72-3a77-44d2-bffc-e1816ed80671","type":"string","x":721.0000000000005,"y":559.6666666666663,"state":{"value":"\u25fc\ufe0f"}},{"id":"bbfa8474-6009-4d78-9bcf-33e94be5644e","type":"JoinNode","x":1457.6666666666665,"y":363.9999999999997,"state":{}},{"id":"1c2f2981-19ab-40ce-906f-c2b2d8ba7b19","type":"string","x":1224.6666666666665,"y":438.6666666666664,"state":{"value":"\\n"}},{"id":"c6ec05cd-361d-4c50-acbb-f232ab1ce3bf","type":"DomNode","x":1696.3333333333333,"y":388.99999999999983,"state":{}},{"id":"c44584dc-788c-4d24-ab03-ab8f97d5ac84","type":"number","x":-278.33333333333286,"y":382.6666666666663,"state":{"value":200}},{"id":"d765ab85-38aa-4d6c-a779-f51d1cb23c6b","type":"string","x":1457.6666666666665,"y":482.33333333333326,"state":{"value":"margin: auto; width: 100%; text-align: center; margin-top: 120px; top: 0px; position: absolute; opacity: 0.25;"},"title":"style"}],"edges":[{"id":"5cdbc8e2-e6c4-40a1-a66e-0a74427b42ec","fromId":"3f8a79af-fae2-49e0-844b-48088aecd9a2","fromPort":"out","toId":"5f6d9177-1b6f-432c-8c40-f21ce4e1a8e3","toPort":"rule"},{"id":"1128bbd4-89d2-4074-b26b-8fecf3d48615","fromId":"a35a9f5c-3959-42eb-ae06-8f0eed6d35e0","fromPort":"out","toId":"5f6d9177-1b6f-432c-8c40-f21ce4e1a8e3","toPort":"initialState"},{"id":"df9df38b-b413-4df5-874e-27923be8825d","fromId":"165a27b6-c037-4e12-a4be-e99785251ed8","fromPort":"count","toId":"5f6d9177-1b6f-432c-8c40-f21ce4e1a8e3","toPort":"call"},{"id":"f526f370-6946-4abc-9700-5f152564a16e","fromId":"5395e900-4ecb-418f-9bad-160d65a6c742","fromPort":"out","toId":"18b9264d-cdd3-42af-8b18-170a113d48ae","toPort":"capacity"},{"id":"6a3e8e2a-afdc-473d-bfcf-fa12cecd9dc0","fromId":"5f6d9177-1b6f-432c-8c40-f21ce4e1a8e3","fromPort":"out","toId":"8018f30c-0e76-44f5-a335-bbf41c6e33c4","toPort":"array"},{"id":"1bfe45fe-94dd-479b-8147-cc12db5e714d","fromId":"c416dbb0-6225-45ba-bfb1-c4b9ea67b0d6","fromPort":"out","toId":"8018f30c-0e76-44f5-a335-bbf41c6e33c4","toPort":"separator"},{"id":"a4114d38-9fae-4304-9497-05c10486d8b6","fromId":"5bd71cc7-280a-451d-befd-a00e360848fc","fromPort":"out","toId":"a07362b2-95f6-49d6-a754-1131752b2c95","toPort":"replacement"},{"id":"4923a96d-da3d-4a5d-a8a6-c53c1a3d96f3","fromId":"265c084a-20c4-4df4-bd21-611717bbc84a","fromPort":"out","toId":"a07362b2-95f6-49d6-a754-1131752b2c95","toPort":"regex"},{"id":"807e3c0b-4724-4ace-8136-379f48dff888","fromId":"6e18ae72-3a77-44d2-bffc-e1816ed80671","fromPort":"out","toId":"6e14e792-3e7e-4d35-addf-9a05360de6f0","toPort":"replacement"},{"id":"174dd920-5676-4dc8-a51a-e836ab7ab806","fromId":"cca497c2-cd1f-44f6-8f5b-7e285eb11000","fromPort":"out","toId":"6e14e792-3e7e-4d35-addf-9a05360de6f0","toPort":"regex"},{"id":"044d352b-1a81-43c9-be03-04c223801d6e","fromId":"8018f30c-0e76-44f5-a335-bbf41c6e33c4","fromPort":"out","toId":"a07362b2-95f6-49d6-a754-1131752b2c95","toPort":"string"},{"id":"9dd865a1-8902-4dc6-ad06-f670471b572e","fromId":"a07362b2-95f6-49d6-a754-1131752b2c95","fromPort":"out","toId":"6e14e792-3e7e-4d35-addf-9a05360de6f0","toPort":"string"},{"id":"bc7bd27b-d109-4598-9699-ad6af3a5e572","fromId":"6e14e792-3e7e-4d35-addf-9a05360de6f0","fromPort":"out","toId":"18b9264d-cdd3-42af-8b18-170a113d48ae","toPort":"value"},{"id":"6c395c64-5b45-4cb0-a65d-8eb82740bb86","fromId":"1c2f2981-19ab-40ce-906f-c2b2d8ba7b19","fromPort":"out","toId":"bbfa8474-6009-4d78-9bcf-33e94be5644e","toPort":"separator"},{"id":"c88d0756-5124-431a-8e61-370593ab9045","fromId":"18b9264d-cdd3-42af-8b18-170a113d48ae","fromPort":"out","toId":"bbfa8474-6009-4d78-9bcf-33e94be5644e","toPort":"array"},{"id":"cf587f7e-faca-4748-b5ee-eec477599634","fromId":"d765ab85-38aa-4d6c-a779-f51d1cb23c6b","fromPort":"out","toId":"c6ec05cd-361d-4c50-acbb-f232ab1ce3bf","toPort":"style"},{"id":"a10bb154-92b0-488f-9b64-b14ee147a170","fromId":"c44584dc-788c-4d24-ab03-ab8f97d5ac84","fromPort":"out","toId":"165a27b6-c037-4e12-a4be-e99785251ed8","toPort":"interval"},{"id":"49e16bec-f736-48e9-8106-efb28cbc6a95","fromId":"bbfa8474-6009-4d78-9bcf-33e94be5644e","fromPort":"out","toId":"c6ec05cd-361d-4c50-acbb-f232ab1ce3bf","toPort":"text"}],"meta":{"zoom":8},"description":"cellular automata"}')},315:function(e){e.exports=JSON.parse('{"name":"shaders","nodes":[{"id":"bf61d0a3-5d63-422b-97db-06c3086992a9","type":"ShaderMaterialNode","x":581,"y":286,"state":{}},{"id":"be567bb0-242a-414c-b98f-501a32935b30","type":"ThreeNode","x":1116,"y":326,"state":{}},{"id":"8c3c9c57-b42b-444a-aa5a-3eeef94b7c04","type":"string","x":361,"y":306,"state":{"value":"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\nconst mat2 m = mat2(0.82, 0.60, -0.60, 0.82);\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\n\\nfloat rand(vec2 n) { return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453); }\\n\\nfloat noise(in vec2 p) {\\n  vec2 ip = floor(p);\\n  vec2 u = fract(p);\\n  u = u*u*(3.0-2.0*u);\\n  float res = mix(\\n    mix(rand(ip), rand(ip+vec2(1.0, 0.0)), u.x),\\n    mix(rand(ip+vec2(0.0, 1.0)), rand(ip+vec2(1.0, 1.0)), u.x), u.y\\n  );\\n  return res*res;\\n}\\n\\nfloat fbm4(vec2 p) {\\n  float f = 0.0;\\n  f += 0.5000*noise(p); p = m*p*2.02;\\n  f += 0.2500*noise(p); p = m*p*2.03;\\n  f += 0.1250*noise(p); p = m*p*2.01;\\n  f += 0.0625*noise(p);\\n  return f/0.9375;\\n}\\n\\nfloat fbm6(vec2 p) {\\n  float f = 0.0;\\n  f += 0.500000*(0.5+0.5*noise(p)); p = m*p*2.02;\\n  f += 0.250000*(0.5+0.5*noise(p)); p = m*p*2.03;\\n  f += 0.125000*(0.5+0.5*noise(p)); p = m*p*2.01;\\n  f += 0.062500*(0.5+0.5*noise(p)); p = m*p*2.04;\\n  f += 0.031250*(0.5+0.5*noise(p)); p = m*p*2.01;\\n  f += 0.015625*(0.5+0.5*noise(p));\\n  return f/0.96875;\\n}\\n\\nvec2 fbm4_2(vec2 p) { return vec2(fbm4(p), fbm4(p+vec2(7.8))); }\\n\\nvec2 fbm6_2(vec2 p) { return vec2(fbm6(p+vec2(16.8)), fbm6(p+vec2(11.5))); }\\n\\nfloat ferno(vec2 q, out vec4 ron) {\\n  q += 0.03*sin(vec2(0.27, 0.23)*u_time + length(q)*vec2(4.1, 4.3));\\n  vec2 o = fbm4_2(0.9*q);\\n  o += 0.04*sin(vec2(0.12, 0.14)*u_time + length(o));\\n  vec2 n = fbm6_2(3.0*o);\\n  ron = vec4(o, n);\\n  float f = 0.5 + 0.5*fbm4(1.8*q + 6.0*n);\\n  return mix(f, f*f*f*3.5, f*abs(n.x));\\n}\\n\\nvoid main() {\\n  vec2 p = (2.0*gl_FragCoord.xy-u_resolution.xy)/u_resolution.y;\\n  float e = 2.0/u_resolution.y;\\n\\n  vec4 on = vec4(0.0);\\n  float f = ferno(p, on);\\n\\n  vec3 col = vec3(0.0);\\n  col = mix(vec3(0.2, 0.1, 0.4), vec3(0.3, 0.05, 0.05), f);\\n  col = mix(col, vec3(0.9, 0.9, 0.9), dot(on.zw, on.zw));\\n  col = mix(col, vec3(0.4, 0.3, 0.3), 0.2 + 0.5*on.y*on.y);\\n  col = mix(col, vec3(0.0, 0.2, 0.4), 0.5*smoothstep(1.2, 1.3, abs(on.z)+abs(on.w)));\\n  col = clamp(col*f*2.0, 0.0, 1.0);\\n\\n  vec4 kk;\\n  vec3 nor = normalize(vec3(ferno(p+vec2(e, 0.0), kk)-f, 2.0*e, ferno(p+vec2(0.0, e), kk)-f));\\n\\n  vec3 lig = normalize(vec3(0.9, 0.2, -0.4));\\n  float dif = clamp(0.3+0.7*dot(nor, lig), 0.0, 1.0);\\n  vec3 lin = vec3(0.70, 0.90, 0.95)*(nor.y*0.5+0.5) + vec3(0.15, 0.10, 0.05)*dif;\\n  col *= 1.2*lin;\\n  col = 1.0 - col;\\n  col = 1.1*col*col;\\n  gl_FragColor = vec4(col, 1.0);\\n}\\n"},"title":"kolmogorov\'s inferno"},{"id":"013eb0e2-293d-46e5-b9a6-c4d88e63cfa0","type":"PlaneGeometryNode","x":581,"y":168,"state":{}},{"id":"a07e65ba-fa54-4d77-8cdf-3a3b1fafaeb4","type":"MeshNode","x":878,"y":253,"state":{}},{"id":"9b2c45e5-55bd-4461-8870-3a63bdf4a6d3","type":"Vector3D","x":581,"y":428,"state":{"value":"{\\"x\\":50,\\"y\\":50,\\"z\\":50}"}},{"id":"cc6ef747-69f5-4b75-9454-05b91ef7f32b","type":"number","x":361,"y":431,"state":{"value":50}},{"id":"08b43765-3520-4159-8d10-e76f725455b1","type":"number","x":878,"y":411,"state":{"value":0}},{"id":"322f0b00-908a-4499-b689-5dc6ec8d2790","type":"VignettePassNode","x":878,"y":522,"state":{}},{"id":"7546cc2f-e01c-462c-82f5-a9d0c3001289","type":"number","x":581,"y":571,"state":{"value":0.1}}],"edges":[{"id":"76d32eca-c80e-4b29-96bc-fb76eeb8cae2","fromId":"8c3c9c57-b42b-444a-aa5a-3eeef94b7c04","fromPort":"out","toId":"bf61d0a3-5d63-422b-97db-06c3086992a9","toPort":"fragment"},{"id":"9f943672-2b6f-4cb1-ad85-f9cbe4504066","fromId":"013eb0e2-293d-46e5-b9a6-c4d88e63cfa0","fromPort":"geometry","toId":"a07e65ba-fa54-4d77-8cdf-3a3b1fafaeb4","toPort":"geometry"},{"id":"c85a8c22-2405-4d75-90d7-ecf64832eee1","fromId":"bf61d0a3-5d63-422b-97db-06c3086992a9","fromPort":"material","toId":"a07e65ba-fa54-4d77-8cdf-3a3b1fafaeb4","toPort":"material"},{"id":"12b839b5-e57a-4faa-b10e-e98a42ff99f4","fromId":"a07e65ba-fa54-4d77-8cdf-3a3b1fafaeb4","fromPort":"mesh","toId":"be567bb0-242a-414c-b98f-501a32935b30","toPort":"child"},{"id":"0f39ab8e-58d2-4f14-91f3-20ad21617222","fromId":"cc6ef747-69f5-4b75-9454-05b91ef7f32b","fromPort":"out","toId":"9b2c45e5-55bd-4461-8870-3a63bdf4a6d3","toPort":"x"},{"id":"47dcf0b6-9a1a-455d-843b-7ce67c789b6e","fromId":"cc6ef747-69f5-4b75-9454-05b91ef7f32b","fromPort":"out","toId":"9b2c45e5-55bd-4461-8870-3a63bdf4a6d3","toPort":"y"},{"id":"a2ca65bf-173c-4d9a-9c67-d653df40481a","fromId":"cc6ef747-69f5-4b75-9454-05b91ef7f32b","fromPort":"out","toId":"9b2c45e5-55bd-4461-8870-3a63bdf4a6d3","toPort":"z"},{"id":"38ef1339-2711-4774-b07a-ea12e9b4a0ec","fromId":"9b2c45e5-55bd-4461-8870-3a63bdf4a6d3","fromPort":"out","toId":"a07e65ba-fa54-4d77-8cdf-3a3b1fafaeb4","toPort":"scale"},{"id":"d9e287ab-047b-40d5-8698-632e444a3dc3","fromId":"08b43765-3520-4159-8d10-e76f725455b1","fromPort":"out","toId":"be567bb0-242a-414c-b98f-501a32935b30","toPort":"clearAlpha"},{"id":"850659fd-6bbc-4ca1-9673-cfdf98ca2e14","fromId":"322f0b00-908a-4499-b689-5dc6ec8d2790","fromPort":"effect","toId":"be567bb0-242a-414c-b98f-501a32935b30","toPort":"fx"},{"id":"3fd8d0f7-b935-4512-84bc-daacb01aea69","fromId":"7546cc2f-e01c-462c-82f5-a9d0c3001289","fromPort":"out","toId":"322f0b00-908a-4499-b689-5dc6ec8d2790","toPort":"darkness"}],"meta":{"zoom":16},"description":"OpenGL shader"}')},316:function(e){e.exports=JSON.parse('{"name":"gpgpu wolfram","nodes":[{"id":"de68d33f-90a9-4a86-b486-46e6ab9bcce1","type":"GPGPUProgram","x":416.3826761473824,"y":294.9230769230766,"state":{}},{"id":"8fc21ee8-53dc-4b73-aaa3-5fa011ccb9bb","type":"string","x":-53.308500323206545,"y":169.37895927601846,"state":{"value":"const int w = __width__;\\nconst float transitions[8] = float[8](0.0, 1.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0);\\n\\nint leftIndex(int i) { return imod(imod(i - 1, w) + w, w); }\\n\\nint rightIndex(int i) { return imod(i + 1, w); }\\n\\nint getIndex(int left, int right, int center) {\\n  int count = 0;\\n  if (left == 1) { count += 4; }\\n  if (right == 1) { count += 1; }\\n  if (center == 1) { count += 2; }\\n  return count;\\n}\\n\\nfloat getVal(int index) { return transitions[index]; }\\n\\nvoid main() {\\n  int idx = getOutputCoords();\\n  float x = getXAtOutCoords();\\n  float left = getX(leftIndex(idx));\\n  float right = getX(rightIndex(idx));\\n  int index = getIndex(int(left), int(right), int(x));\\n  setOutput(getVal(index));\\n}"},"title":"kernel"},{"id":"d52523aa-5e36-4a1b-aa9c-ed9de7338030","type":"string","x":193.2650290885581,"y":348.15837104072415,"state":{"value":"x"}},{"id":"6a36942c-0c77-4e4d-bb33-583577b893f4","type":"RunGPGPUProgram","x":657.9709114414998,"y":464.0407239819011,"state":{}},{"id":"5064302f-acf6-4d21-bd54-110b066c379e","type":"string","x":976.8487394957979,"y":305.47058823529426,"state":{"value":"This network demonstrates using the GPGPU Program node, which allows you to dispatch a gpu kernel via WebGL and perform computation on your graphics backend, then transport the results back into the browser runtime.\\n\\nThis also demonstrates that you can describe cyclic graph programs."},"title":"README"},{"id":"9ac718e4-4ce1-4066-8524-6a7d3e77ac0a","type":"ArrayFillNode","x":193.2650290885581,"y":444.15837104072455,"state":{}},{"id":"d1788db4-9854-47c8-b23c-4c3187913d22","type":"number","x":-53.308500323206545,"y":439.23529411764764,"state":{"value":150}},{"id":"541794e1-d224-4072-b99c-ae8dc3b98b08","type":"number","x":-53.308500323206545,"y":532.2352941176474,"state":{"value":0}},{"id":"269ee9e7-fe59-4e74-8ddb-d08b83c877f0","type":"SetNode","x":416.3826761473824,"y":549.1583710407243,"state":{}},{"id":"1c6c56c9-3288-45d7-8731-3fa35c03704f","type":"DivideNode","x":193.2650290885581,"y":566.5113122171955,"state":{}},{"id":"9faf5c85-8ecc-4b83-9b02-95e0740d53a9","type":"number","x":-53.308500323206545,"y":635.2352941176474,"state":{"value":2}},{"id":"95a33fee-c5cc-4ec6-88fa-a41860c4fa54","type":"number","x":193.2650290885581,"y":687.2760180995482,"state":{"value":1}},{"id":"76f6d218-fdb2-4b44-9b5b-ca20bfbe4665","type":"HistoryNode","x":1109.9709114414998,"y":466.0407239819011,"state":{}},{"id":"c8986fdd-3194-4417-bf62-cd56c7e91b1a","type":"number","x":884.9709114414998,"y":467.0407239819011,"state":{"value":60}},{"id":"f89bf08f-e419-4175-96d2-0a9520720ed2","type":"JoinNode","x":884.9709114414998,"y":571.0407239819011,"state":{}},{"id":"b4933f5d-69a7-46bb-b925-32486e1aa9b3","type":"string","x":657.9709114414998,"y":591.0407239819011,"state":{"value":""},"title":"empty str"},{"id":"cb5eabc0-6fc1-44b8-91a0-95a448a42a7c","type":"DomNode","x":1569.9709114414998,"y":492.0407239819011,"state":{}},{"id":"11497bba-dd46-4d8f-9c05-49d67ee2d093","type":"string","x":1338.9709114414998,"y":590.0407239819011,"state":{"value":"position: absolute; width: 100vw; text-align: center; padding-top: 180px; font-size: 14px;"},"title":"style"},{"id":"fd55e409-0478-4c49-a991-f1e8b8097b1d","type":"JoinNode","x":1338.9709114414998,"y":467.0407239819011,"state":{}},{"id":"88f609a7-9b11-434b-8c1e-efb573664065","type":"string","x":1109.9709114414998,"y":594.0407239819011,"state":{"value":"\\n"},"title":"newline"},{"id":"7579e93a-2579-44b5-a759-1a0b6fad7576","type":"RegexReplace","x":193.2650290885581,"y":191.08333333333337,"state":{}},{"id":"ef83dd8e-676c-427b-9ff2-182f1e5f07ba","type":"string","x":-53.308500323206545,"y":257.08333333333354,"state":{"value":"__width__"}}],"edges":[{"id":"d801a018-fc7c-4340-befb-e55ff4d667a5","fromId":"d52523aa-5e36-4a1b-aa9c-ed9de7338030","fromPort":"out","toId":"de68d33f-90a9-4a86-b486-46e6ab9bcce1","toPort":"variableNames"},{"id":"7a79a75f-50f9-40dc-a6e5-85b7b547e8ab","fromId":"d1788db4-9854-47c8-b23c-4c3187913d22","fromPort":"out","toId":"9ac718e4-4ce1-4066-8524-6a7d3e77ac0a","toPort":"length"},{"id":"4c576b8e-7cc8-4da0-b28d-3be9fb9f3230","fromId":"541794e1-d224-4072-b99c-ae8dc3b98b08","fromPort":"out","toId":"9ac718e4-4ce1-4066-8524-6a7d3e77ac0a","toPort":"fillWith"},{"id":"5a5471b3-02ff-42f4-ac62-0f83cfe4fee0","fromId":"d1788db4-9854-47c8-b23c-4c3187913d22","fromPort":"out","toId":"1c6c56c9-3288-45d7-8731-3fa35c03704f","toPort":"dividend"},{"id":"4e63959c-9da8-4f81-a950-90254e18e32f","fromId":"9faf5c85-8ecc-4b83-9b02-95e0740d53a9","fromPort":"out","toId":"1c6c56c9-3288-45d7-8731-3fa35c03704f","toPort":"divisor"},{"id":"5c303a69-0a9d-43ad-8288-1569b5b0ca2d","fromId":"1c6c56c9-3288-45d7-8731-3fa35c03704f","fromPort":"int","toId":"269ee9e7-fe59-4e74-8ddb-d08b83c877f0","toPort":"path"},{"id":"36355228-0918-4d76-8c08-614df1c2580b","fromId":"9ac718e4-4ce1-4066-8524-6a7d3e77ac0a","fromPort":"out","toId":"269ee9e7-fe59-4e74-8ddb-d08b83c877f0","toPort":"target"},{"id":"a8b5c7d3-27eb-447f-b14d-e9741b362e1a","fromId":"95a33fee-c5cc-4ec6-88fa-a41860c4fa54","fromPort":"out","toId":"269ee9e7-fe59-4e74-8ddb-d08b83c877f0","toPort":"value"},{"id":"273fe472-ce43-4f57-9417-1ca83d29f6d5","fromId":"269ee9e7-fe59-4e74-8ddb-d08b83c877f0","fromPort":"out","toId":"6a36942c-0c77-4e4d-bb33-583577b893f4","toPort":"input"},{"id":"6c807e7c-0b0f-4b60-b691-b450b9e4b169","fromId":"c8986fdd-3194-4417-bf62-cd56c7e91b1a","fromPort":"out","toId":"76f6d218-fdb2-4b44-9b5b-ca20bfbe4665","toPort":"capacity"},{"id":"421bfdf8-b5c2-4f20-9122-577568181e19","fromId":"b4933f5d-69a7-46bb-b925-32486e1aa9b3","fromPort":"out","toId":"f89bf08f-e419-4175-96d2-0a9520720ed2","toPort":"separator"},{"id":"f36c8e92-7fc6-47c7-a104-88c287dc3e6f","fromId":"6a36942c-0c77-4e4d-bb33-583577b893f4","fromPort":"result","toId":"f89bf08f-e419-4175-96d2-0a9520720ed2","toPort":"array"},{"id":"a3414fb7-a718-4bcc-a7e2-0ce2e05a8034","fromId":"f89bf08f-e419-4175-96d2-0a9520720ed2","fromPort":"out","toId":"76f6d218-fdb2-4b44-9b5b-ca20bfbe4665","toPort":"value"},{"id":"1a5a9276-926a-4a07-bd46-6beb00a50c5f","fromId":"88f609a7-9b11-434b-8c1e-efb573664065","fromPort":"out","toId":"fd55e409-0478-4c49-a991-f1e8b8097b1d","toPort":"separator"},{"id":"69744f7e-0c98-4c8a-9bf1-0f30dff18ff7","fromId":"76f6d218-fdb2-4b44-9b5b-ca20bfbe4665","fromPort":"out","toId":"fd55e409-0478-4c49-a991-f1e8b8097b1d","toPort":"array"},{"id":"30e3dd2a-b6e3-4c4f-9ccf-a245b05f9cc8","fromId":"11497bba-dd46-4d8f-9c05-49d67ee2d093","fromPort":"out","toId":"cb5eabc0-6fc1-44b8-91a0-95a448a42a7c","toPort":"style"},{"id":"c2ce8991-9149-451a-882d-2bff64e88d23","fromId":"fd55e409-0478-4c49-a991-f1e8b8097b1d","fromPort":"out","toId":"cb5eabc0-6fc1-44b8-91a0-95a448a42a7c","toPort":"text"},{"id":"286053b7-cb9e-4d8d-9db4-2a79d83e43f5","fromId":"ef83dd8e-676c-427b-9ff2-182f1e5f07ba","fromPort":"out","toId":"7579e93a-2579-44b5-a759-1a0b6fad7576","toPort":"regex"},{"id":"ae63aa0c-8e10-4949-a6e9-117a1d5736ce","fromId":"8fc21ee8-53dc-4b73-aaa3-5fa011ccb9bb","fromPort":"out","toId":"7579e93a-2579-44b5-a759-1a0b6fad7576","toPort":"string"},{"id":"2a338241-43a6-4e4c-9b00-e9680c72e946","fromId":"d1788db4-9854-47c8-b23c-4c3187913d22","fromPort":"out","toId":"7579e93a-2579-44b5-a759-1a0b6fad7576","toPort":"replacement"},{"id":"5104a04e-b871-46a7-b933-851bc676cb11","fromId":"7579e93a-2579-44b5-a759-1a0b6fad7576","fromPort":"out","toId":"de68d33f-90a9-4a86-b486-46e6ab9bcce1","toPort":"userCode"},{"id":"8b7d1ad9-4568-4530-9135-44011ba0f706","fromId":"de68d33f-90a9-4a86-b486-46e6ab9bcce1","fromPort":"program","toId":"6a36942c-0c77-4e4d-bb33-583577b893f4","toPort":"program"},{"id":"9e1ed5e4-e57d-4da5-8d7c-3dc08d91f55b","fromId":"6a36942c-0c77-4e4d-bb33-583577b893f4","fromPort":"result","toId":"6a36942c-0c77-4e4d-bb33-583577b893f4","toPort":"input"}],"meta":{"zoom":10},"description":"OpenGL automata"}')},317:function(e){e.exports=JSON.parse('{"name":"percept nets","description":"piano RNN","nodes":[{"id":"bb4c717c-dd2a-4070-8acc-e12c7e88d26c","type":"PianoNode","x":37,"y":362,"state":{}},{"id":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","type":"PerformanceRNNNode","x":750,"y":242,"state":{}},{"id":"080245fd-300a-4a95-9caf-e6746ad32789","type":"AudioMasterNode","x":250,"y":362,"state":{}},{"id":"5be76875-83f9-4811-8ada-a4f28521bfdb","type":"number","x":250,"y":272,"state":{"value":2}},{"id":"b4f03856-5c62-4b63-aa12-8ebaf391e4fb","type":"ScaleNode","x":250,"y":166,"state":{}},{"id":"066a0f52-d9d6-4bfb-837c-29b30bcb4e1b","type":"ChromaNode","x":456,"y":168,"state":{}},{"id":"f501fceb-832a-410a-9bc8-1faf1713a0ed","type":"string","x":33,"y":169,"state":{"value":"F lydian dominant"}},{"id":"f8a95929-543e-4f18-92ef-db8b50ce066f","type":"string","x":751,"y":407,"state":{"value":"This graph uses a TensorFlow model trained on a Yamaha e-Piano competition dataset to generate performances conditioned on a tonic scale and note density. Data is fed to a virtual piano sampled from a Salamander Grand."},"title":"README"}],"edges":[{"id":"8c3746fc-3718-468f-ae47-92eb8a02d423","fromId":"bb4c717c-dd2a-4070-8acc-e12c7e88d26c","fromPort":"out","toId":"080245fd-300a-4a95-9caf-e6746ad32789","toPort":"node"},{"id":"a0bae42f-6470-4a8a-a03d-92a2379b4188","fromId":"080245fd-300a-4a95-9caf-e6746ad32789","fromPort":"out","toId":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","toPort":"synth"},{"id":"096eef73-c2a5-4b55-95ba-d9b0404a4797","fromId":"5be76875-83f9-4811-8ada-a4f28521bfdb","fromPort":"out","toId":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","toPort":"density"},{"id":"1ada8405-31fb-4a49-897a-368be4935bf8","fromId":"f501fceb-832a-410a-9bc8-1faf1713a0ed","fromPort":"out","toId":"b4f03856-5c62-4b63-aa12-8ebaf391e4fb","toPort":"tonic"},{"id":"8986c59a-41b8-47b6-866e-71c9c37f9c97","fromId":"b4f03856-5c62-4b63-aa12-8ebaf391e4fb","fromPort":"notes","toId":"066a0f52-d9d6-4bfb-837c-29b30bcb4e1b","toPort":"notes"},{"id":"b99919d7-140f-4fb1-9803-47a31da09a9f","fromId":"066a0f52-d9d6-4bfb-837c-29b30bcb4e1b","fromPort":"chroma","toId":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","toPort":"scale"}]}')},318:function(e){e.exports=JSON.parse('{"name":"soundfont-midi","description":"RNN -> SoundFont","nodes":[{"id":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","type":"PerformanceRNNNode","x":671,"y":179,"state":{}},{"id":"5be76875-83f9-4811-8ada-a4f28521bfdb","type":"number","x":231,"y":232,"state":{"value":1}},{"id":"b4f03856-5c62-4b63-aa12-8ebaf391e4fb","type":"ScaleNode","x":234,"y":124,"state":{}},{"id":"066a0f52-d9d6-4bfb-837c-29b30bcb4e1b","type":"ChromaNode","x":447,"y":125,"state":{}},{"id":"f501fceb-832a-410a-9bc8-1faf1713a0ed","type":"string","x":25,"y":128,"state":{"value":"C minor pentatonic"}},{"id":"f1655fed-51e4-4ce1-b1b8-9cc211709e71","type":"SoundFontNode","x":669,"y":376,"state":{}},{"id":"7f5886dd-deb5-410f-8fb0-0fd74abb31d3","type":"string","x":403,"y":348,"state":{"value":"choir_aahs"}},{"id":"1735b950-7565-4daf-94aa-39313553c27c","type":"SoundFontPlayerNode","x":1018,"y":277,"state":{}},{"id":"9e20c209-3f15-4e58-9af3-e2aafc7752c5","type":"number","x":409,"y":540,"state":{"value":1}},{"id":"a9a98245-99cf-4165-86a3-5fb9ae4a14c0","type":"number","x":408,"y":635,"state":{"value":1}},{"id":"707eafd5-d3c6-4aa9-8a54-6d8329500148","type":"string","x":693,"y":621,"state":{"value":"This graph pipes MIDI output from a TensorFlow RNN model trained over data from a Yamaha e-Piano competition to a virtual instrument backed by a SoundFont (choir aahhs). "},"title":"README"},{"id":"bfc3ab46-8680-470f-b5ad-3c7b5e46437e","type":"number","x":409,"y":439,"state":{"value":0.5}}],"edges":[{"id":"096eef73-c2a5-4b55-95ba-d9b0404a4797","fromId":"5be76875-83f9-4811-8ada-a4f28521bfdb","fromPort":"out","toId":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","toPort":"density"},{"id":"1ada8405-31fb-4a49-897a-368be4935bf8","fromId":"f501fceb-832a-410a-9bc8-1faf1713a0ed","fromPort":"out","toId":"b4f03856-5c62-4b63-aa12-8ebaf391e4fb","toPort":"tonic"},{"id":"8986c59a-41b8-47b6-866e-71c9c37f9c97","fromId":"b4f03856-5c62-4b63-aa12-8ebaf391e4fb","fromPort":"notes","toId":"066a0f52-d9d6-4bfb-837c-29b30bcb4e1b","toPort":"notes"},{"id":"b99919d7-140f-4fb1-9803-47a31da09a9f","fromId":"066a0f52-d9d6-4bfb-837c-29b30bcb4e1b","fromPort":"chroma","toId":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","toPort":"scale"},{"id":"1653c26f-2e0d-460c-9c36-888ec5fc30fa","fromId":"7f5886dd-deb5-410f-8fb0-0fd74abb31d3","fromPort":"out","toId":"f1655fed-51e4-4ce1-b1b8-9cc211709e71","toPort":"name"},{"id":"c05d2126-30e8-4dce-a114-77d50ee66425","fromId":"f1655fed-51e4-4ce1-b1b8-9cc211709e71","fromPort":"out","toId":"1735b950-7565-4daf-94aa-39313553c27c","toPort":"soundFont"},{"id":"46b39e96-e600-47da-a699-39aa56a544d2","fromId":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","fromPort":"midiData","toId":"1735b950-7565-4daf-94aa-39313553c27c","toPort":"midiData"},{"id":"f4bfa118-810d-4b31-8242-c3ec0f7686cb","fromId":"9e20c209-3f15-4e58-9af3-e2aafc7752c5","fromPort":"out","toId":"f1655fed-51e4-4ce1-b1b8-9cc211709e71","toPort":"decay"},{"id":"bac9cd45-0dc2-42f9-92bc-1d3b964cc3f5","fromId":"9e20c209-3f15-4e58-9af3-e2aafc7752c5","fromPort":"out","toId":"f1655fed-51e4-4ce1-b1b8-9cc211709e71","toPort":"release"},{"id":"35a105d6-c2ea-4143-92cc-0455161cba50","fromId":"a9a98245-99cf-4165-86a3-5fb9ae4a14c0","fromPort":"out","toId":"f1655fed-51e4-4ce1-b1b8-9cc211709e71","toPort":"sustain"},{"id":"faec849f-8086-421c-ac78-fd621c5e9d8b","fromId":"bfc3ab46-8680-470f-b5ad-3c7b5e46437e","fromPort":"out","toId":"f1655fed-51e4-4ce1-b1b8-9cc211709e71","toPort":"attack"}],"meta":{"zoom":16}}')},319:function(e){e.exports=JSON.parse('{"name":"soundfont-tone","description":"RNN -> WebAudio Synth","nodes":[{"id":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","type":"PerformanceRNNNode","x":698,"y":216,"state":{}},{"id":"5be76875-83f9-4811-8ada-a4f28521bfdb","type":"number","x":473,"y":248,"state":{"value":1}},{"id":"b4f03856-5c62-4b63-aa12-8ebaf391e4fb","type":"ScaleNode","x":257,"y":148,"state":{}},{"id":"066a0f52-d9d6-4bfb-837c-29b30bcb4e1b","type":"ChromaNode","x":467,"y":154,"state":{}},{"id":"f501fceb-832a-410a-9bc8-1faf1713a0ed","type":"string","x":48,"y":151,"state":{"value":"C minor pentatonic"}},{"id":"f1655fed-51e4-4ce1-b1b8-9cc211709e71","type":"SoundFontNode","x":701,"y":439,"state":{}},{"id":"7f5886dd-deb5-410f-8fb0-0fd74abb31d3","type":"string","x":467,"y":341,"state":{"value":"choir_aahs"}},{"id":"1735b950-7565-4daf-94aa-39313553c27c","type":"SoundFontPlayerNode","x":980,"y":347,"state":{}},{"id":"9e20c209-3f15-4e58-9af3-e2aafc7752c5","type":"number","x":464,"y":525,"state":{"value":2}},{"id":"a9a98245-99cf-4165-86a3-5fb9ae4a14c0","type":"number","x":466,"y":621,"state":{"value":2}},{"id":"9335955a-1fd7-4931-8970-c7e0ab9a9629","type":"string","x":142,"y":305,"state":{"value":"This graph plays a concert performance generated by a TensorFlow model trained over data from a Yamaha e-Piano competition. It\'s conditioned over a tonic scale, and played through a SoundFont sample (choir)."},"title":"README"},{"id":"e17e4f91-de72-476b-997a-937fed00efcb","type":"number","x":465,"y":433,"state":{"value":1}}],"edges":[{"id":"096eef73-c2a5-4b55-95ba-d9b0404a4797","fromId":"5be76875-83f9-4811-8ada-a4f28521bfdb","fromPort":"out","toId":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","toPort":"density"},{"id":"1ada8405-31fb-4a49-897a-368be4935bf8","fromId":"f501fceb-832a-410a-9bc8-1faf1713a0ed","fromPort":"out","toId":"b4f03856-5c62-4b63-aa12-8ebaf391e4fb","toPort":"tonic"},{"id":"8986c59a-41b8-47b6-866e-71c9c37f9c97","fromId":"b4f03856-5c62-4b63-aa12-8ebaf391e4fb","fromPort":"notes","toId":"066a0f52-d9d6-4bfb-837c-29b30bcb4e1b","toPort":"notes"},{"id":"b99919d7-140f-4fb1-9803-47a31da09a9f","fromId":"066a0f52-d9d6-4bfb-837c-29b30bcb4e1b","fromPort":"chroma","toId":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","toPort":"scale"},{"id":"1653c26f-2e0d-460c-9c36-888ec5fc30fa","fromId":"7f5886dd-deb5-410f-8fb0-0fd74abb31d3","fromPort":"out","toId":"f1655fed-51e4-4ce1-b1b8-9cc211709e71","toPort":"name"},{"id":"c05d2126-30e8-4dce-a114-77d50ee66425","fromId":"f1655fed-51e4-4ce1-b1b8-9cc211709e71","fromPort":"out","toId":"1735b950-7565-4daf-94aa-39313553c27c","toPort":"soundFont"},{"id":"f4bfa118-810d-4b31-8242-c3ec0f7686cb","fromId":"9e20c209-3f15-4e58-9af3-e2aafc7752c5","fromPort":"out","toId":"f1655fed-51e4-4ce1-b1b8-9cc211709e71","toPort":"decay"},{"id":"bac9cd45-0dc2-42f9-92bc-1d3b964cc3f5","fromId":"9e20c209-3f15-4e58-9af3-e2aafc7752c5","fromPort":"out","toId":"f1655fed-51e4-4ce1-b1b8-9cc211709e71","toPort":"release"},{"id":"35a105d6-c2ea-4143-92cc-0455161cba50","fromId":"a9a98245-99cf-4165-86a3-5fb9ae4a14c0","fromPort":"out","toId":"f1655fed-51e4-4ce1-b1b8-9cc211709e71","toPort":"sustain"},{"id":"4d21b530-6705-4b7e-a989-1197f1b2d371","fromId":"73e07906-fbbd-4b61-be30-3e31cf2c0b0e","fromPort":"toneData","toId":"1735b950-7565-4daf-94aa-39313553c27c","toPort":"toneData"},{"id":"816fb81f-bd72-4418-824d-d9df6e9f3b34","fromId":"e17e4f91-de72-476b-997a-937fed00efcb","fromPort":"out","toId":"f1655fed-51e4-4ce1-b1b8-9cc211709e71","toPort":"attack"}],"meta":{"zoom":16}}')},320:function(e){e.exports=JSON.parse('{"name":"gpgpu","nodes":[{"id":"de68d33f-90a9-4a86-b486-46e6ab9bcce1","type":"GPGPUProgram","x":532.9999999999998,"y":86.66666666666697,"state":{}},{"id":"8fc21ee8-53dc-4b73-aaa3-5fa011ccb9bb","type":"string","x":260.9999999999998,"y":25.66666666666697,"state":{"value":"void main() {\\n  float x = getXAtOutCoords();\\n  float value = x * x + x;\\n  setOutput(value);\\n}"},"title":"kernel"},{"id":"d52523aa-5e36-4a1b-aa9c-ed9de7338030","type":"string","x":260.9999999999998,"y":133.66666666666697,"state":{"value":"x"}},{"id":"6a36942c-0c77-4e4d-bb33-583577b893f4","type":"RunGPGPUProgram","x":829.9999999999998,"y":172.66666666666697,"state":{}},{"id":"dca282de-84a8-409e-95f4-717677f82020","type":"HistoryNode","x":532.9999999999998,"y":266.66666666666697,"state":{}},{"id":"865926bf-6af7-43c8-866d-9d2c7b48a1a9","type":"number","x":260.9999999999998,"y":257.66666666666697,"state":{"value":10}},{"id":"b530d7b1-ffb5-49c9-99fc-1af155b7dadb","type":"number","x":260.9999999999998,"y":357.66666666666697,"state":{"value":20}},{"id":"4d68d5cb-4ece-4f2e-8a53-cc3a0da59476","type":"number","x":260.9999999999998,"y":657.666666666667,"state":{"value":18}},{"id":"5e86ff3a-7a85-4534-9d37-e6af5c1f4f54","type":"number","x":260.9999999999998,"y":757.666666666667,"state":{"value":99}},{"id":"533a0794-b16c-445f-9ea5-fe79d3b01aed","type":"number","x":260.9999999999998,"y":459.66666666666697,"state":{"value":88}},{"id":"ed82d97a-f577-4e82-b150-69579c175dca","type":"number","x":260.9999999999998,"y":559.666666666667,"state":{"value":209}},{"id":"5064302f-acf6-4d21-bd54-110b066c379e","type":"string","x":858.9999999999998,"y":427.66666666666697,"state":{"value":"This network demonstrates using the GPGPU Program node, which allows you to dispatch a gpu kernel via WebGL and perform computation on your graphics backend, then transport the results back into the browser runtime."},"title":"README"}],"edges":[{"id":"d801a018-fc7c-4340-befb-e55ff4d667a5","fromId":"d52523aa-5e36-4a1b-aa9c-ed9de7338030","fromPort":"out","toId":"de68d33f-90a9-4a86-b486-46e6ab9bcce1","toPort":"variableNames"},{"id":"b0f79b31-dfd0-47d6-9b58-604b6fb9426c","fromId":"8fc21ee8-53dc-4b73-aaa3-5fa011ccb9bb","fromPort":"out","toId":"de68d33f-90a9-4a86-b486-46e6ab9bcce1","toPort":"userCode"},{"id":"e623143b-7465-456d-b7e1-7db44b5a1bdf","fromId":"865926bf-6af7-43c8-866d-9d2c7b48a1a9","fromPort":"out","toId":"dca282de-84a8-409e-95f4-717677f82020","toPort":"value"},{"id":"056b7ce5-22cd-4b94-aca9-f7eab2fcb82c","fromId":"b530d7b1-ffb5-49c9-99fc-1af155b7dadb","fromPort":"out","toId":"dca282de-84a8-409e-95f4-717677f82020","toPort":"value"},{"id":"f3d4873a-ed3f-4df6-b3fb-04149b45b472","fromId":"533a0794-b16c-445f-9ea5-fe79d3b01aed","fromPort":"out","toId":"dca282de-84a8-409e-95f4-717677f82020","toPort":"value"},{"id":"abc9e262-e732-42f8-80dc-b6b2c902da0e","fromId":"ed82d97a-f577-4e82-b150-69579c175dca","fromPort":"out","toId":"dca282de-84a8-409e-95f4-717677f82020","toPort":"value"},{"id":"9b6b344f-ac3e-4815-88de-5b001a6cb393","fromId":"4d68d5cb-4ece-4f2e-8a53-cc3a0da59476","fromPort":"out","toId":"dca282de-84a8-409e-95f4-717677f82020","toPort":"value"},{"id":"d692acfc-24ec-432b-a7a8-a1eb8a867323","fromId":"5e86ff3a-7a85-4534-9d37-e6af5c1f4f54","fromPort":"out","toId":"dca282de-84a8-409e-95f4-717677f82020","toPort":"value"},{"id":"1f2deb05-69b0-4409-8067-25721b641061","fromId":"de68d33f-90a9-4a86-b486-46e6ab9bcce1","fromPort":"program","toId":"6a36942c-0c77-4e4d-bb33-583577b893f4","toPort":"program"},{"id":"d5618f3b-ffa8-41af-96fb-e857e251e0d7","fromId":"dca282de-84a8-409e-95f4-717677f82020","fromPort":"out","toId":"6a36942c-0c77-4e4d-bb33-583577b893f4","toPort":"input"}],"meta":{"zoom":11},"description":"gpgpu compute"}')},321:function(e){e.exports=JSON.parse('{"name":"midi-in","description":"connect midi in","nodes":[{"id":"19caaf24-7f9a-433b-8be6-60ad4d91c8b3","type":"SoundFontPlayerNode","x":776,"y":388,"state":{}},{"id":"22cec652-8780-49c7-b03c-f0a0bd9b365d","type":"SoundFontNode","x":407,"y":270,"state":{}},{"id":"85d33e82-4632-4b45-b16a-6b639e9c8386","type":"MidiInNode","x":148,"y":382,"state":{}},{"id":"3869dae9-2621-42a8-990d-a0fc7901123b","type":"string","x":148,"y":261,"state":{"value":"electric_piano_1"}},{"id":"ecccc995-1893-4680-9f3d-afc7b34b36ea","type":"string","x":770,"y":258,"state":{"value":"If you have a MIDI input device connected to your computer, this sends midi events to a soundfont player.\\n\\nIf you don\'t have a midi device, this won\'t do anything."},"title":"README"}],"edges":[{"id":"70e68084-48a7-4546-b0b8-e90fe778c877","fromId":"85d33e82-4632-4b45-b16a-6b639e9c8386","fromPort":"device","toId":"19caaf24-7f9a-433b-8be6-60ad4d91c8b3","toPort":"midiDevice"},{"id":"daacd112-a960-4743-8d09-231297c0d83a","fromId":"22cec652-8780-49c7-b03c-f0a0bd9b365d","fromPort":"out","toId":"19caaf24-7f9a-433b-8be6-60ad4d91c8b3","toPort":"soundFont"},{"id":"c2b382cf-e059-415b-ae35-91f4e18dae24","fromId":"3869dae9-2621-42a8-990d-a0fc7901123b","fromPort":"out","toId":"22cec652-8780-49c7-b03c-f0a0bd9b365d","toPort":"name"}]}')},322:function(e){e.exports=JSON.parse('{"name":"welcome","nodes":[{"id":"f5c1496b-75c8-43bb-9fbe-8ea8c71b95c0","type":"string","x":478,"y":271,"state":{"value":"\\n\ud83d\udc7e welcome to the eternal \ud83d\udc7e\\n\\nThis project was created for gratuitous reasons; it\u2019s an attempt to serve an aesthetic that I appreciate, over a medium which I feel is appropriate for its expression.\\n\\nHaving spent a lot of time / mind in and around computers, my sense of aesthetics has something to do with not only the things-in-themselves, but their representations, specifically as information processes, i.e. programs. Seemingly complex phenomena which have succinct descriptions are especially beautiful to me. This project is one which allows one to describe audio/visual processes as programs, represented as a visual graph.\\n\\n--\\n\\nmost actions are invoked via keyboard commands. press \\"shift + /\\" (the question mark) for the menu.\\n\\nconnect nodes and edges to make your own eternal programs, or load some examples (alt + e)."},"title":"README"}],"edges":[]}')},323:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(22),c=a.n(r),i=(a(128),a(33)),s=a(39),d=a(44),l=a(17),u=Object(d.combineReducers)({graph:l.a}),f=Object(s.a)({reducer:u}),b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}!function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");b?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):p(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):p(t,e)}))}}();!function(){var e=a(128).default;c.a.render(o.a.createElement(i.a,{store:f},o.a.createElement(e,{className:"bp3-dark"})),document.getElementById("eternal-root"))}()}},[[162,1,2]]]);
//# sourceMappingURL=main.e2feb679.chunk.js.map